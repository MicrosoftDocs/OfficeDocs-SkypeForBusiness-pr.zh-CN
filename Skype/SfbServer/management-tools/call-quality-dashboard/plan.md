---
title: 规划 Skype for Business Server 的呼叫质量仪表板
ms.reviewer: ''
ms.author: v-cichur
author: cichur
manager: serdars
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: cc2fbf41-a7e0-4ef8-a939-47bc42da5529
description: 摘要：了解在规划通话质量仪表板时要考虑的问题。
ms.openlocfilehash: 6a1fc39dd26f6c4e9e455babcecb124888629179
ms.sourcegitcommit: c528fad9db719f3fa96dc3fa99332a349cd9d317
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/12/2021
ms.locfileid: "49803172"
---
# <a name="plan-for-call-quality-dashboard-for-skype-for-business-server"></a><span data-ttu-id="86a0a-103">规划 Skype for Business Server 的呼叫质量仪表板</span><span class="sxs-lookup"><span data-stu-id="86a0a-103">Plan for Call Quality Dashboard for Skype for Business Server</span></span> 
 
<span data-ttu-id="86a0a-104">**摘要：** 了解在规划通话质量仪表板时要考虑的问题。</span><span class="sxs-lookup"><span data-stu-id="86a0a-104">**Summary:** Learn about what to consider when you plan for the Call Quality Dashboard.</span></span>
  
## <a name="overview-of-the-skype-for-business-server-call-quality-dashboard"></a><span data-ttu-id="86a0a-105">Skype for Business Server 呼叫质量仪表板概述</span><span class="sxs-lookup"><span data-stu-id="86a0a-105">Overview of the Skype for Business Server Call Quality Dashboard</span></span>

<span data-ttu-id="86a0a-106">Skype for Business Server 呼叫质量仪表板 (CQD) 是 Skype for Business Server 中监控服务器中用户体验质量数据库顶部的报告层。</span><span class="sxs-lookup"><span data-stu-id="86a0a-106">The Skype for Business Server Call Quality Dashboard (CQD) is a reporting layer on top of the Quality of Experience Database in the Monitoring Server in Skype for Business Server.</span></span> <span data-ttu-id="86a0a-107">CQD 使用Microsoft SQL Server Analysis Services聚合使用情况和呼叫质量信息，以及筛选和透视数据集。</span><span class="sxs-lookup"><span data-stu-id="86a0a-107">CQD uses Microsoft SQL Server Analysis Services to provide aggregate usage and call quality information as well as for filtering and pivoting on the dataset.</span></span> <span data-ttu-id="86a0a-108">CQD 功能包括：</span><span class="sxs-lookup"><span data-stu-id="86a0a-108">CQD features include:</span></span>
  
- <span data-ttu-id="86a0a-109">**通过 CQD 的 QoE 存档组件存档 QoE 数据存储。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-109">**Archival storage of QoE data via the QoE Archive component of CQD.**</span></span> <span data-ttu-id="86a0a-110">QoE 存档组件可以存储 QoE 数据的持续时间比监控服务器长得多。</span><span class="sxs-lookup"><span data-stu-id="86a0a-110">The QoE Archive component can store QoE data for a much longer duration than the Monitoring Server can.</span></span> <span data-ttu-id="86a0a-111">这允许一次最多对七个月的数据进行趋势和报告，并能够将报告窗口滑动到数据最远的位置。</span><span class="sxs-lookup"><span data-stu-id="86a0a-111">This allows for trending and reporting for up to seven months of data at a time, with the ability to slide the reporting window as far back as there is data.</span></span>
- <span data-ttu-id="86a0a-112">**使用功能与速度报告和分析Microsoft SQL Server Analysis Services。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-112">**Reporting and analysis using the power and speed of Microsoft SQL Server Analysis Services.**</span></span> <span data-ttu-id="86a0a-113">CQD 利用 Microsoft SQL Analysis Services提供快速摘要、筛选和透视功能，以通过分析多维数据集为仪表板提供电源。</span><span class="sxs-lookup"><span data-stu-id="86a0a-113">CQD utilizes Microsoft SQL Analysis Services to provide fast summary, filter, and pivoting capabilities to power the dashboard via an Analysis Cube.</span></span> <span data-ttu-id="86a0a-114">报告执行速度和深入了解数据的能力可以大大减少分析时间。</span><span class="sxs-lookup"><span data-stu-id="86a0a-114">Reporting execution speed and the ability to drill down into the data can reduce analysis times dramatically.</span></span>
- <span data-ttu-id="86a0a-115">**针对呼叫质量报告优化的新数据架构。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-115">**New data schema optimized for call quality reporting.**</span></span> <span data-ttu-id="86a0a-116">多维数据集具有专为语音质量报告和调查设计的架构。</span><span class="sxs-lookup"><span data-stu-id="86a0a-116">The Cube has a schema designed for voice quality reporting and investigations.</span></span> <span data-ttu-id="86a0a-117">门户用户可以专注于报告任务，而不是找出 QoE 指标数据库架构如何映射到所需的视图。</span><span class="sxs-lookup"><span data-stu-id="86a0a-117">Portal users can focus on the reporting tasks instead of figuring out how the QoE Metrics database schema maps to the views they need.</span></span> <span data-ttu-id="86a0a-118">QoE 存档和多维数据集的组合提供了一种抽象，通过 CQD 降低了报告和分析的复杂性。</span><span class="sxs-lookup"><span data-stu-id="86a0a-118">The combination of the QoE Archive and the Cube provides an abstraction that reduces the complexity of reporting and analysis via CQD.</span></span> <span data-ttu-id="86a0a-119">QoE 存档数据库架构还包含可以使用特定于部署的数据填充的表，以增强数据的总体价值。</span><span class="sxs-lookup"><span data-stu-id="86a0a-119">The QoE Archive database schema also contains tables that can be populated with deployment-specific data to enhance the overall value of the data.</span></span>
- <span data-ttu-id="86a0a-120">**内置报表设计器和就地报表编辑。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-120">**Built-in report designer and in-place report editing.**</span></span> <span data-ttu-id="86a0a-121">门户组件附带了多个在呼叫质量方法之后建模的内置报告。</span><span class="sxs-lookup"><span data-stu-id="86a0a-121">The Portal component comes with several built-in reports modeled after the Call Quality Methodology.</span></span> <span data-ttu-id="86a0a-122">门户用户可以通过门户的编辑功能修改报告并创建新报告。</span><span class="sxs-lookup"><span data-stu-id="86a0a-122">Portal users can modify the reports and create new reports via the Portal's editing functionality.</span></span>
- <span data-ttu-id="86a0a-123">**对报告结构和分析多维数据集数据的 Web API 访问。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-123">**Web API access to the Report Structure and Analysis Cube Data.**</span></span> <span data-ttu-id="86a0a-124">仪表板报告框架不是显示多维数据集数据的唯一方法。</span><span class="sxs-lookup"><span data-stu-id="86a0a-124">The Dashboard reporting framework is not the only way to display the data from the Cube.</span></span> <span data-ttu-id="86a0a-125">CQD 提供了几个使用 HTML 和 JavaScript 从 CQD Web API 检索数据和以自定义格式呈现数据的示例。</span><span class="sxs-lookup"><span data-stu-id="86a0a-125">CQD provides several examples of using HTML and JavaScript to retrieve data from the CQD Web APIs and render the data in a custom format.</span></span> <span data-ttu-id="86a0a-126">通过结合使用报告编辑器和 CQD Web API，可以快速制作报表和自定义报表布局的原型。</span><span class="sxs-lookup"><span data-stu-id="86a0a-126">The combination of the Report Editor and the CQD Web APIs allows rapid prototyping of reports and custom report layout.</span></span>

> [!NOTE]
> <span data-ttu-id="86a0a-127">管理员现在可以使用 [CQD](https://cqd.teams.microsoft.com) 版本 3 管理 Skype for Business Server 2019， (管理员凭据登录) 。</span><span class="sxs-lookup"><span data-stu-id="86a0a-127">An admin can now manage Skype for Business Server 2019 using [CQD version 3](https://cqd.teams.microsoft.com) (log in with Admin credentials).</span></span> <span data-ttu-id="86a0a-128">这需要混合实现并使用呼叫数据连接器和 (的) 。</span><span class="sxs-lookup"><span data-stu-id="86a0a-128">This requires a hybrid implementation and the use of Call Data Connector (CDC).</span></span> <span data-ttu-id="86a0a-129">有关 [启用数据连接器的详细信息](/SkypeForBusiness/hybrid/plan-call-data-connector) ，请参阅规划呼叫数据连接器。</span><span class="sxs-lookup"><span data-stu-id="86a0a-129">See [Plan Call Data Connector](/SkypeForBusiness/hybrid/plan-call-data-connector) for more information on enabling CDC.</span></span> <span data-ttu-id="86a0a-130">有关 CQD 版本 3 文档，请参阅"打开并使用 Microsoft Teams 和 [Skype for Business Online](/MicrosoftTeams/turning-on-and-using-call-quality-dashboard) 的通话质量仪表板"，了解有关 CQD 版本 3 详细信息。</span><span class="sxs-lookup"><span data-stu-id="86a0a-130">For CQD version 3 documentation, see [Turn on and use Call Quality Dashboard for Microsoft Teams and Skype for Business Online](/MicrosoftTeams/turning-on-and-using-call-quality-dashboard) for more information about CQD version 3.</span></span>

## <a name="cqd-design-goals"></a><span data-ttu-id="86a0a-131">CQD 设计目标</span><span class="sxs-lookup"><span data-stu-id="86a0a-131">CQD Design Goals</span></span>

<span data-ttu-id="86a0a-132">CQD 允许 IT 专业人员使用聚合数据来确定环境中遇到媒体质量问题的焦点区域。</span><span class="sxs-lookup"><span data-stu-id="86a0a-132">CQD allows IT Pros to use aggregate data to identify focus areas in their environment experiencing media quality issues.</span></span> <span data-ttu-id="86a0a-133">它允许 IT 专业人员比较不同用户组的统计信息，并确定趋势和模式。</span><span class="sxs-lookup"><span data-stu-id="86a0a-133">It allows an IT Pro to compare statistics for different groups of users and identify trends and patterns.</span></span> <span data-ttu-id="86a0a-134">它并非专注于解决单个呼叫问题，而是侧重于确定将应用于给定环境中许多用户的问题和解决方案。</span><span class="sxs-lookup"><span data-stu-id="86a0a-134">It is not focused on solving individual call issues, but on identifying problems and solutions that will apply to many users in a given environment.</span></span> 
  
## <a name="call-quality-dashboard-components"></a><span data-ttu-id="86a0a-135">通话质量仪表板组件</span><span class="sxs-lookup"><span data-stu-id="86a0a-135">Call Quality Dashboard components</span></span>

<span data-ttu-id="86a0a-136">呼叫质量仪表板由多个数据库、Microsoft SQL代理作业、进程和 Web 应用程序组成。</span><span class="sxs-lookup"><span data-stu-id="86a0a-136">The Call Quality Dashboard consists of several databases, Microsoft SQL Agent jobs, processes, and web applications.</span></span> <span data-ttu-id="86a0a-137">Microsoft SQL 代理作业定期将数据从 QoE 指标数据库复制到 QoE 存档数据库，并处理包含 QoE 存档数据库中的数据的多维数据集。</span><span class="sxs-lookup"><span data-stu-id="86a0a-137">The Microsoft SQL Agent jobs periodically copy data from the QoE Metrics database into the QoE Archive database and processes the Cube with the data in the QoE Archive database.</span></span> <span data-ttu-id="86a0a-138">存储库数据库存储支持门户的报告定义。</span><span class="sxs-lookup"><span data-stu-id="86a0a-138">The Repository database stores the report definitions that power the Portal.</span></span> <span data-ttu-id="86a0a-139">门户提供对多维数据集数据的浏览器访问。</span><span class="sxs-lookup"><span data-stu-id="86a0a-139">The Portal provides browser access to the Cube data.</span></span> 
  
<span data-ttu-id="86a0a-140">CQD 组件（包括 QoE 存档、多维数据集和存储库数据库）可以安装在监控服务器上、安装在其自己的服务器上，也可以跨多台服务器安装。</span><span class="sxs-lookup"><span data-stu-id="86a0a-140">The CQD components, including the QoE Archive, Cube, and Repository databases, can be installed on the Monitoring Server, installed on its own server, or installed across multiple servers.</span></span> <span data-ttu-id="86a0a-141">特定的安装方法取决于 CQD 的性能需求以及对同一服务器上其他进程的影响。</span><span class="sxs-lookup"><span data-stu-id="86a0a-141">The particular installation method depends on the performance demands of CQD as well as impact to other processes on the same servers.</span></span> <span data-ttu-id="86a0a-142">有关详细信息，请参阅本文稍后的"CQD 的组件和拓扑"一节。</span><span class="sxs-lookup"><span data-stu-id="86a0a-142">For more information, refer to the "Components and topologies for CQD" section later in this article.</span></span>
  
### <a name="architectural-overview"></a><span data-ttu-id="86a0a-143">体系结构概述</span><span class="sxs-lookup"><span data-stu-id="86a0a-143">Architectural Overview</span></span>

<span data-ttu-id="86a0a-144">总之，CQD 需要以下元素：</span><span class="sxs-lookup"><span data-stu-id="86a0a-144">To summarize, CQD requires the following elements:</span></span>
  
- <span data-ttu-id="86a0a-145">两个数据库：存档数据库和存储库数据库。</span><span class="sxs-lookup"><span data-stu-id="86a0a-145">Two databases: an Archive Database and a Repository Database.</span></span>
    
- <span data-ttu-id="86a0a-146">一个将聚合数据可视化的 SSAS 多维数据集</span><span class="sxs-lookup"><span data-stu-id="86a0a-146">One SSAS Cube visualizing aggregated data</span></span> 
    
- <span data-ttu-id="86a0a-147">IIS 承载 CQD Web 门户</span><span class="sxs-lookup"><span data-stu-id="86a0a-147">IIS hosts CQD Web Portal</span></span>
    
![CQD 组件](../../media/ef3359b1-c98b-4cc5-a549-c84c6e03c011.png)
  
<span data-ttu-id="86a0a-149">相同的 CQD 体系结构支持 Lync Server 2013 和 Skype for Business。</span><span class="sxs-lookup"><span data-stu-id="86a0a-149">The same CQD architecture supports Lync Server 2013 and Skype for Business.</span></span> 
  
### <a name="cqd-and-skype-for-business-vs-lync-2013"></a><span data-ttu-id="86a0a-150">CQD 和 Skype for Business 与 Lync 2013</span><span class="sxs-lookup"><span data-stu-id="86a0a-150">CQD and Skype for Business vs. Lync 2013</span></span>

 <span data-ttu-id="86a0a-151">仅在 Skype for Business 环境中，以下功能可用：</span><span class="sxs-lookup"><span data-stu-id="86a0a-151">In a Skype for Business environment only, the following capabilities are available:</span></span>
  
- <span data-ttu-id="86a0a-152">Wi-Fi信号强度报告</span><span class="sxs-lookup"><span data-stu-id="86a0a-152">Wi-Fi reporting of Signal Strength</span></span>
    
- <span data-ttu-id="86a0a-153">Wi-Fi芯片集驱动程序的报告</span><span class="sxs-lookup"><span data-stu-id="86a0a-153">Wi-Fi reporting of Chipset drivers</span></span>
    
- <span data-ttu-id="86a0a-154">评价我的呼叫数据</span><span class="sxs-lookup"><span data-stu-id="86a0a-154">Rate my Call data</span></span> 
    
## <a name="information-available-through-cqd"></a><span data-ttu-id="86a0a-155">通过 CQD 获取的信息</span><span class="sxs-lookup"><span data-stu-id="86a0a-155">Information available through CQD</span></span>

<span data-ttu-id="86a0a-156">CQD 可以显示 Skype for Business Server 音频、视频和应用程序共享流计数、好与坏呼叫计数，以及坏呼叫与好呼叫的比率。</span><span class="sxs-lookup"><span data-stu-id="86a0a-156">CQD can show Skype for Business Server audio, video, and application sharing stream counts and count of good versus bad calls as well as ratios of bad to good calls.</span></span> <span data-ttu-id="86a0a-157">可以通过许多不同的维度对视图进行切片和筛选。</span><span class="sxs-lookup"><span data-stu-id="86a0a-157">The views can be sliced and filtered by many different dimensions.</span></span> <span data-ttu-id="86a0a-158">CQD 从监控服务器中的 QoE 指标数据库绘制数据。</span><span class="sxs-lookup"><span data-stu-id="86a0a-158">CQD draws data from the QoE Metrics database in the Monitoring Server.</span></span> <span data-ttu-id="86a0a-159">然后，将数据与客户提供的任何数据（如网络子网到建筑物映射）合并，以生成"每个建筑物的呼叫质量"等报告。</span><span class="sxs-lookup"><span data-stu-id="86a0a-159">The data is then merged with any customer-supplied data, such as network subnet-to-building mapping to make reports such as "Call Quality per Building" possible.</span></span> 
  
<span data-ttu-id="86a0a-160">CQD 还将许多内部 QoE 数据特性（如"呼叫方"和"被叫方"）抽象化，以便用户可以专注于围绕"服务器"和"客户端"生成报告视图。</span><span class="sxs-lookup"><span data-stu-id="86a0a-160">CQD also abstracts many of the internal QoE data idiosyncrasies such as "caller" and "callee" such that the user can focus on building report views around "server" and "client".</span></span> <span data-ttu-id="86a0a-161">按照通话质量方法，CQD 得到简化，以帮助识别许多质量欠佳的呼叫所共同的条件，这是改善呼叫质量的一个原则。</span><span class="sxs-lookup"><span data-stu-id="86a0a-161">Following the Call Quality Methodology, CQD is streamlined to help identify the conditions that pockets of poor calls have in common—one of the tenets for improving call quality.</span></span>
  
## <a name="viewing-data-in-cqd"></a><span data-ttu-id="86a0a-162">在 CQD 中查看数据</span><span class="sxs-lookup"><span data-stu-id="86a0a-162">Viewing data in CQD</span></span>

<span data-ttu-id="86a0a-163">CQD 数据可以通过 CQD 门户查看，并且可以通过 REST API 调用访问。</span><span class="sxs-lookup"><span data-stu-id="86a0a-163">The CQD data can be viewed via the CQD Portal and accessed via REST API calls.</span></span>
  
### <a name="cqd-portal"></a><span data-ttu-id="86a0a-164">CQD 门户</span><span class="sxs-lookup"><span data-stu-id="86a0a-164">CQD Portal</span></span>

<span data-ttu-id="86a0a-165">门户是查看多维数据集中数据的最快方法。</span><span class="sxs-lookup"><span data-stu-id="86a0a-165">The Portal is the fastest way to view the data in the Cube.</span></span> <span data-ttu-id="86a0a-166">门户附带多个可同时使用内置报告。</span><span class="sxs-lookup"><span data-stu-id="86a0a-166">The Portal comes with several built-in reports that are usable right away.</span></span> <span data-ttu-id="86a0a-167">内置报告以结构化方式链接，以指导用户连续缩小和缩小呼叫数据的切片。</span><span class="sxs-lookup"><span data-stu-id="86a0a-167">The built-in reports are linked in a structured manner to guide the user to successively smaller and smaller slices of the call data.</span></span> <span data-ttu-id="86a0a-168">内置报表还通过演示包含不同透视表、筛选器和度量值的图表和表的组合来突出显示显示数据的各种不同方式。</span><span class="sxs-lookup"><span data-stu-id="86a0a-168">The built-in reports also highlight the various different ways the data can be shown by demonstrating a combination of charts and tables with different pivots, filters, and measures.</span></span> <span data-ttu-id="86a0a-169">访问门户的每个用户都可以拥有自己可以修改和共享的报告集。</span><span class="sxs-lookup"><span data-stu-id="86a0a-169">Each user that accesses the Portal can have his or her own set of reports that he/she can modify and share.</span></span> <span data-ttu-id="86a0a-170">有关 CQD Web 门户使用情况详细信息，请参阅使用 [Skype for Business Server](use.md)的呼叫质量仪表板。</span><span class="sxs-lookup"><span data-stu-id="86a0a-170">For more information on the usage of the CQD Web Portal, see [Use Call Quality Dashboard for Skype for Business Server](use.md).</span></span>
  
<span data-ttu-id="86a0a-171">支持用于 CQD 门户的操作系统：Windows 8.1、Windows 8、Windows Server 2012 R2、Windows Server 2012 和 Windows Server 2016 (Skype for Business Server 2019 CQD 仅) 。</span><span class="sxs-lookup"><span data-stu-id="86a0a-171">Supported Operating Systems for CQD Portal: Windows 8.1, Windows 8, Windows Server 2012 R2, Windows Server 2012 , and Windows Server 2016 (Skype for Business Server 2019 CQD only).</span></span>
  
<span data-ttu-id="86a0a-172">CQD 门户支持的浏览器：Internet Explorer 11、Internet Explorer 10和 Internet Explorer 9。</span><span class="sxs-lookup"><span data-stu-id="86a0a-172">Supported Browsers for CQD Portal: Internet Explorer 11, Internet Explorer 10, and Internet Explorer 9.</span></span>
  
### <a name="rest-apis"></a><span data-ttu-id="86a0a-173">REST API</span><span class="sxs-lookup"><span data-stu-id="86a0a-173">REST APIs</span></span>

<span data-ttu-id="86a0a-174">还可通过 REST API 调用访问多维数据集数据。</span><span class="sxs-lookup"><span data-stu-id="86a0a-174">The Cube data can also be accessed via REST API calls.</span></span> <span data-ttu-id="86a0a-175">通过 REST API 调用检索到的数据可以通过 HTML 页面呈现。</span><span class="sxs-lookup"><span data-stu-id="86a0a-175">The data retrieved via the REST API calls can be rendered via HTML pages.</span></span> <span data-ttu-id="86a0a-176">用户可以利用查询速度和 CQD 的高级别架构，同时仍创建适合其业务需求的自定义报告。</span><span class="sxs-lookup"><span data-stu-id="86a0a-176">Users can take advantage of the query speed and the high level schema of CQD while still creating custom reports suited for their business needs.</span></span> <span data-ttu-id="86a0a-177">有关 API 和示例详细信息，请参阅["开发 Skype for Business Server 的呼叫质量仪表板"。](develop.md)</span><span class="sxs-lookup"><span data-stu-id="86a0a-177">For more information on the API and samples, see [Develop Call Quality Dashboard for Skype for Business Server](develop.md).</span></span> 
  
## <a name="defining-your-organizations-requirements-for-cqd"></a><span data-ttu-id="86a0a-178">定义组织的 CQD 要求</span><span class="sxs-lookup"><span data-stu-id="86a0a-178">Defining Your organization's requirements for CQD</span></span>

<span data-ttu-id="86a0a-179">CQD 提供 QoE 数据存档以及快速而深入地分析呼叫质量数据。</span><span class="sxs-lookup"><span data-stu-id="86a0a-179">CQD provides QoE data archiving and fast and deep analysis of call quality data.</span></span> <span data-ttu-id="86a0a-180">以下指南可帮助你决定何时部署 CQD 以及部署 CQD 的原因。</span><span class="sxs-lookup"><span data-stu-id="86a0a-180">The following guide helps you to decide when and why you would deploy CQD.</span></span>
  
### <a name="when-to-deploy-cqd"></a><span data-ttu-id="86a0a-181">何时部署 CQD</span><span class="sxs-lookup"><span data-stu-id="86a0a-181">When to deploy CQD</span></span>

 <span data-ttu-id="86a0a-182">**可以部署 CQD 以建立基线呼叫质量度量，即使组织没有遇到呼叫质量问题。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-182">**CQD can be deployed to establish a baseline call quality measurement, even if an organization doesn't experience call quality issues.**</span></span> <span data-ttu-id="86a0a-183">建立基线呼叫质量度量非常重要，因为每个组织都有不同的组合Wi-Fi有线和远程与办公室工作人员。</span><span class="sxs-lookup"><span data-stu-id="86a0a-183">Establishing a baseline call quality measurement is important because every organization has a different mix of Wi-Fi versus wired and remote versus office workers.</span></span> <span data-ttu-id="86a0a-184">当出现呼叫质量问题时，可以将最新的呼叫质量度量与以前的时间间隔进行比较。</span><span class="sxs-lookup"><span data-stu-id="86a0a-184">When call quality issues arise, the most recent call quality measurements can be compared to previous time intervals.</span></span> <span data-ttu-id="86a0a-185">CQD 的趋势功能允许轻松检测呼叫质量在一段时间的变化。</span><span class="sxs-lookup"><span data-stu-id="86a0a-185">CQD's trending features allow easy detection of changes in call quality over time.</span></span>
  
 <span data-ttu-id="86a0a-186">**可以部署 CQD，以主动查找可能会影响呼叫质量的问题区域。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-186">**CQD can be deployed to proactively find problem areas that may impact call quality.**</span></span> <span data-ttu-id="86a0a-187">即使组织的平均呼叫质量可能满足组织设置的目标，也可能有一些隐藏在平均指标后面的呼叫质量问题。</span><span class="sxs-lookup"><span data-stu-id="86a0a-187">Even if the average call quality for an organization might meet the targets set by the organization, there could be pockets of call quality issues that are hidden behind average metrics.</span></span> <span data-ttu-id="86a0a-188">CQD 允许按 QoEMetrics 数据库中的多个维度对呼叫质量指标进行类似透视表的细分。</span><span class="sxs-lookup"><span data-stu-id="86a0a-188">CQD allows pivot table-like breakdown of call quality metrics by many dimensions in the QoEMetrics database.</span></span> <span data-ttu-id="86a0a-189">在对等组中发现异常是主动查找呼叫质量问题的一种快速方法。</span><span class="sxs-lookup"><span data-stu-id="86a0a-189">Spotting outliers in peer groups is a quick way to proactively locate call quality issues.</span></span>
  
 <span data-ttu-id="86a0a-190">**如果组织中存在呼叫质量问题，以减少解决问题所需的时间，应部署 CQD。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-190">**CQD should be deployed if there are call quality issues in the organization to reduce the time needed to troubleshoot problems.**</span></span> <span data-ttu-id="86a0a-191">CQD 可提供快速的报告性能和动态向下钻取功能，从而简化现有通话质量调查。</span><span class="sxs-lookup"><span data-stu-id="86a0a-191">CQD can simplify existing call quality investigations by offering fast reporting performance and dynamic drill down capabilities.</span></span> <span data-ttu-id="86a0a-192">CQD 设计用于对环境进行修复的呼叫质量调查验证中的多种工作流。</span><span class="sxs-lookup"><span data-stu-id="86a0a-192">CQD is designed for many kinds of workflows in call quality investigations validation of repairs to the environment.</span></span>
  
### <a name="why-deploy-cqd"></a><span data-ttu-id="86a0a-193">为什么部署 CQD</span><span class="sxs-lookup"><span data-stu-id="86a0a-193">Why deploy CQD</span></span>

 <span data-ttu-id="86a0a-194">**如果 QoE 报告需要发生超过 3 个月的数据，应部署 CQD。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-194">**CQD should be deployed if QoE reporting needs to happen for more than 3 months of data.**</span></span> <span data-ttu-id="86a0a-195">QoEMetrics 数据库和监控服务器报告旨在保留和报告一小组数据。</span><span class="sxs-lookup"><span data-stu-id="86a0a-195">The QoEMetrics database and monitoring server reports are designed to retain and report a small set of data.</span></span> <span data-ttu-id="86a0a-196">QoE 指标数据库针对快速插入进行了优化，因此报告性能可能会受到大量呼叫或数据库的竞争报告访问的影响。</span><span class="sxs-lookup"><span data-stu-id="86a0a-196">The QoE Metrics database is optimized for fast insertions, and therefore reporting performance can be impeded by large volume of calls or competing reporting access to the database.</span></span> <span data-ttu-id="86a0a-197">CQD 的 QoE 存档数据库提供 QoE 指标数据的第二个副本，其保留功能要长得多。</span><span class="sxs-lookup"><span data-stu-id="86a0a-197">CQD's QoE Archive database provides a second copy of the QoE Metrics data with much longer retention capabilities.</span></span> <span data-ttu-id="86a0a-198">门户还进行了优化，一次最多显示 7 个月的数据，并根据需要报告 QoE 存档中所有数据。</span><span class="sxs-lookup"><span data-stu-id="86a0a-198">The Portal is also optimized to show up to 7 months of data at a time and can report on all the data in the QoE Archive as needed.</span></span>
  
 <span data-ttu-id="86a0a-199">**如果需要自定义 QoE 报告，应部署 CQD。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-199">**CQD should be deployed if custom QoE reports are needed.**</span></span> <span data-ttu-id="86a0a-200">门户具有报表编辑器功能，可快速轻松地创建报表并制作报表原型。</span><span class="sxs-lookup"><span data-stu-id="86a0a-200">The Portal has a Report Editor feature for creating and prototyping reports quickly and easily.</span></span> <span data-ttu-id="86a0a-201">它还提供 REST API 以编程方式访问多维数据集数据，从而允许使用 HTML/JavaScript 或许多其他框架进行自定义演示文稿。</span><span class="sxs-lookup"><span data-stu-id="86a0a-201">It also makes available REST APIs for programmatic access to the Cube data, allowing custom presentation using HTML/JavaScript or many other frameworks.</span></span> <span data-ttu-id="86a0a-202">不再需要创作新的数据SQL查询，以便创建自定义数据视图以用于报告。</span><span class="sxs-lookup"><span data-stu-id="86a0a-202">It is no longer necessary to author new SQL queries for the purpose of creating custom data views for reporting.</span></span>
  
 <span data-ttu-id="86a0a-203">**如果现有 QoE 报告功能不符合组织所需的速度或深度，应部署 CQD。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-203">**CQD should be deployed if existing QoE reporting functionality does not meet the speed or depth required by the organization.**</span></span> <span data-ttu-id="86a0a-204">CQD 附带许多内置报告。</span><span class="sxs-lookup"><span data-stu-id="86a0a-204">CQD comes with many built-in reports.</span></span> <span data-ttu-id="86a0a-205">报告将立即有用，并演示如何逐步钻取数据可在每个级别提供其他见解。</span><span class="sxs-lookup"><span data-stu-id="86a0a-205">The reports are immediately useful and demonstrate how progressively drilling into the data can offer additional insights at each level.</span></span> <span data-ttu-id="86a0a-206">报告层次结构还有助于以逻辑方式管理大量报告，并有助于创建更多易于访问和易于理解的报告。</span><span class="sxs-lookup"><span data-stu-id="86a0a-206">The reports hierarchy also helps with managing the numerous reports in a logical manner and fosters creation of many more reports that are easily accessible and understandable.</span></span> <span data-ttu-id="86a0a-207">CQD 不仅是提供速度和灵活性，而且还针对呼叫质量方法开发的工作流进行了优化。</span><span class="sxs-lookup"><span data-stu-id="86a0a-207">CQD doesn't just offer speed and flexibility but also is optimized for the workflows developed by the Call Quality Methodology.</span></span>
  
## <a name="components-and-topologies-for-cqd"></a><span data-ttu-id="86a0a-208">CQD 的组件和拓扑</span><span class="sxs-lookup"><span data-stu-id="86a0a-208">Components and topologies for CQD</span></span>

<span data-ttu-id="86a0a-209">CQD 附带多个组件，它有助于了解每个组件的要求及其相互之间的关系，以获取最简单且性能最佳的工具部署。</span><span class="sxs-lookup"><span data-stu-id="86a0a-209">CQD comes with several components, and it helps to understand the requirements of each component and their relationship with each other to obtain the simplest and best performing deployment of the tool.</span></span> <span data-ttu-id="86a0a-210">下表介绍了每个 CQD 组件的依赖组件。</span><span class="sxs-lookup"><span data-stu-id="86a0a-210">The following table describes the dependent component for each CQD component.</span></span>
  

|<span data-ttu-id="86a0a-211">**组件名称**</span><span class="sxs-lookup"><span data-stu-id="86a0a-211">**Component name**</span></span>|<span data-ttu-id="86a0a-212">**从属组件**</span><span class="sxs-lookup"><span data-stu-id="86a0a-212">**Dependent component**</span></span>|
|:-----|:-----|
|<span data-ttu-id="86a0a-213">QoE 存档</span><span class="sxs-lookup"><span data-stu-id="86a0a-213">QoE Archive</span></span>  <br/> |<span data-ttu-id="86a0a-214">Microsoft SQL Server</span><span class="sxs-lookup"><span data-stu-id="86a0a-214">Microsoft SQL Server</span></span>  <br/> |
|<span data-ttu-id="86a0a-215">多维数据集</span><span class="sxs-lookup"><span data-stu-id="86a0a-215">Cube</span></span>  <br/> |<span data-ttu-id="86a0a-216">Microsoft SQL Server Analysis Services</span><span class="sxs-lookup"><span data-stu-id="86a0a-216">Microsoft SQL Server Analysis Services</span></span>  <br/> |
|<span data-ttu-id="86a0a-217">门户</span><span class="sxs-lookup"><span data-stu-id="86a0a-217">Portal</span></span>  <br/> |<span data-ttu-id="86a0a-218">Microsoft Information Services</span><span class="sxs-lookup"><span data-stu-id="86a0a-218">Microsoft Information Services</span></span>  <br/> |
|<span data-ttu-id="86a0a-219">存储库服务 (门户安装服务的一) </span><span class="sxs-lookup"><span data-stu-id="86a0a-219">Repository Service (part of Portal installation)</span></span>  <br/> |<span data-ttu-id="86a0a-220">Microsoft SQL Server</span><span class="sxs-lookup"><span data-stu-id="86a0a-220">Microsoft SQL Server</span></span>  <br/> |
   
> [!NOTE]
> <span data-ttu-id="86a0a-221">对于 QoE 存档和多维数据集，某些部署选项需要商业智能或企业版Microsoft SQL Server。</span><span class="sxs-lookup"><span data-stu-id="86a0a-221">For QoE Archive and Cube, certain deployment options require Business Intelligence or Enterprise editions of Microsoft SQL Server.</span></span> <span data-ttu-id="86a0a-222">有关更多详细信息，请参阅下面的 ["CQD](plan.md#Infrastructure_Req) 的基础结构要求"部分。</span><span class="sxs-lookup"><span data-stu-id="86a0a-222">Refer to the [Infrastructure requirements for CQD](plan.md#Infrastructure_Req) section below for more details.</span></span>
  
![CQD 组件](../../media/a52f2e6c-a4dd-4de3-879c-47295d2366c3.png)
  
### <a name="single-server-configuration"></a><span data-ttu-id="86a0a-224">单服务器配置</span><span class="sxs-lookup"><span data-stu-id="86a0a-224">Single server configuration</span></span>

<span data-ttu-id="86a0a-225">所有 CQD 组件和从属组件都可以安装在一台计算机中。</span><span class="sxs-lookup"><span data-stu-id="86a0a-225">All CQD components and dependent components can be installed onto one machine.</span></span> <span data-ttu-id="86a0a-226">单框配置是最简单的配置，并允许 CQD 自包含。</span><span class="sxs-lookup"><span data-stu-id="86a0a-226">The single box configuration is the simplest configuration and allows CQD to be self-contained.</span></span> <span data-ttu-id="86a0a-227">CQD 只需访问监控服务器上 QoE 指标数据库。</span><span class="sxs-lookup"><span data-stu-id="86a0a-227">CQD would just need access to the QoE Metrics database on the Monitoring Server.</span></span> <span data-ttu-id="86a0a-228">CQD 服务器可以是独立计算机、虚拟机，或者甚至可以是监控服务器，具体取决于主机的可用资源和性能要求。</span><span class="sxs-lookup"><span data-stu-id="86a0a-228">The CQD Server can be a standalone machine, a virtual machine, or it can even be the Monitoring Server, depending on the available resources of the host machine and the performance requirements.</span></span> 
  
<span data-ttu-id="86a0a-229">在安装过程中，执行安装的用户只需提供之前在要安装 CQD 的计算机上安装的 Microsoft SQL Server 和 Microsoft SQL Server Analysis Services 实例。</span><span class="sxs-lookup"><span data-stu-id="86a0a-229">During installation, the user performing the installation simply needs to provide the Microsoft SQL Server and Microsoft SQL Server Analysis Services instances that have been previously set up on the machine where the CQD is to be installed.</span></span> <span data-ttu-id="86a0a-230">有关详细信息，请参阅 [部署 Skype for Business Server](deploy-0.md) 的呼叫质量仪表板。</span><span class="sxs-lookup"><span data-stu-id="86a0a-230">Please refer to [Deploy Call Quality Dashboard for Skype for Business Server](deploy-0.md) for more information.</span></span>
  
### <a name="multiserver-configuration"></a><span data-ttu-id="86a0a-231">多服务器配置</span><span class="sxs-lookup"><span data-stu-id="86a0a-231">Multiserver configuration</span></span>

<span data-ttu-id="86a0a-232">在多服务器配置中，QoE 存档、多维数据集和门户都可以位于不同的计算机上。</span><span class="sxs-lookup"><span data-stu-id="86a0a-232">In a multiserver configuration, The QoE Archive, Cube, and Portal can all be on different machines.</span></span> <span data-ttu-id="86a0a-233">多服务器配置有两个主要用途：</span><span class="sxs-lookup"><span data-stu-id="86a0a-233">There are two main uses for the multiserver configuration:</span></span>
  
- <span data-ttu-id="86a0a-234">在不同的服务器上承载 CQD Web 门户和 CQD 多维数据集。</span><span class="sxs-lookup"><span data-stu-id="86a0a-234">Hosting CQD Web Portal and CQD Cube on different servers.</span></span>
    
- <span data-ttu-id="86a0a-235">托管独立于"生产"门户的"开发"门户。</span><span class="sxs-lookup"><span data-stu-id="86a0a-235">Hosting a "development" Portal separate from the "production" Portal.</span></span> 
    
  <span data-ttu-id="86a0a-236">**在不同的计算机上托管 CQD Web 门户和 CQD 多维数据集。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-236">**Hosting CQD Web Portal and CQD Cube on different machines.**</span></span> <span data-ttu-id="86a0a-237">可能要求将 CQD 门户与 SQL Server 安装分开的组织，或者可能希望混合并匹配 SQL Server 实例和 SQL Server Analysis Services 实例的 SQL Server 版本的组织可以选择在不同的计算机上安装 CQD 门户和 CQD 多维数据集。</span><span class="sxs-lookup"><span data-stu-id="86a0a-237">Organizations that might have requirements to separate the CQD Portal from the SQL Server installation or that might want to mix and match SQL Server editions for the SQL Server instance and SQL Server Analysis Services instance can choose to install the CQD Portal and CQD Cube on different machines.</span></span> <span data-ttu-id="86a0a-238">如果组织只是希望采用一种持续方法来存档 QoE 数据，而不在监控服务器上达到性能限制，则 QoE 存档组件还可以是安装的唯一 CQD 组件。</span><span class="sxs-lookup"><span data-stu-id="86a0a-238">The QoE Archive component can also be the sole CQD component that is installed if the organization simply wants to have a sustainable method to archive the QoE data without reaching performance limits on the Monitoring Server.</span></span>
  
![单服务器 CQD](../../media/f65be6f3-6bba-4c3d-b3ae-c05e03551b5b.png)
  
 <span data-ttu-id="86a0a-240">**托管独立于"生产"门户的"开发"门户。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-240">**Hosting a "development" Portal separate from the "production" Portal.**</span></span> <span data-ttu-id="86a0a-241">通过 REST API (开发自己的自定义报告的组织) 可能更希望将其他 (CQD) 门户实例与生产门户一起部署，以便常规用户访问该门户进行呼叫质量监控或调查。</span><span class="sxs-lookup"><span data-stu-id="86a0a-241">Organizations that develop their own custom reports (via the REST APIs) might prefer to deploy additional (CQD) Portal instances alongside the production Portal that regular users access for call quality monitoring or investigations.</span></span> <span data-ttu-id="86a0a-242">开发门户可以将对门户所做的任何修改与生产环境隔离开。</span><span class="sxs-lookup"><span data-stu-id="86a0a-242">The development Portal can isolate any modifications to the Portal from the production environment.</span></span> <span data-ttu-id="86a0a-243">其他 Web 门户可以部署在如下所示 (不同的计算机上) 或部署到同一计算机的不同 Web (上，) 。</span><span class="sxs-lookup"><span data-stu-id="86a0a-243">The additional web portals can be deployed on different machines (shown below) or deployed onto different web directories on the same machine (not shown).</span></span> <span data-ttu-id="86a0a-244">若要完成后者，必须将其他 CQD Web 门户手动复制到生产计算机，因为 CQD 设置过程始终使用预定义的 Web 应用程序名称将 CQD Web 门户部署到默认网站。</span><span class="sxs-lookup"><span data-stu-id="86a0a-244">To accomplish the latter, the additional CQD web portal must be copied to the production machine manually because the CQD setup process always deploys the CQD Web Portal to the default web site with predefined web application names.</span></span>
  
![规划 CQD 多服务器](../../media/2326e61e-b485-43e6-9f82-145237ba89cf.png)
  
### <a name="supported-topologies"></a><span data-ttu-id="86a0a-246">受支持的拓扑</span><span class="sxs-lookup"><span data-stu-id="86a0a-246">Supported topologies</span></span>

<span data-ttu-id="86a0a-247">CQD 不会合并来自多个 QoEMetrics 数据库的数据，因为存在多个 Skype for Business Server 拓扑，每个拓扑都有自己的监控服务器。</span><span class="sxs-lookup"><span data-stu-id="86a0a-247">CQD does not merge data from multiple QoEMetrics databases, as is the case where there are multiple Skype for Business Server topologies, each with its own Monitoring Server.</span></span> <span data-ttu-id="86a0a-248">每个 CQD 实例必须指向一个 QoEMetrics 数据库。</span><span class="sxs-lookup"><span data-stu-id="86a0a-248">Each CQD instance must point to one QoEMetrics database.</span></span> <span data-ttu-id="86a0a-249">但是，由于 CQD 将大部分报告工作负载从监控服务器中移开，因此需要按 Skype for Business Server 拓扑部署一台监控服务器的大型组织应考虑在所有拓扑中使用一台监控服务器。</span><span class="sxs-lookup"><span data-stu-id="86a0a-249">However, because CQD will move much of the reporting workload off of the Monitoring Server, large organizations that needed to deploy one Monitoring Server per Skype for Business Server topology should consider using one Monitoring Server for all topologies.</span></span>
  
## <a name="infrastructure-requirements-for-cqd"></a><span data-ttu-id="86a0a-250">CQD 的基础结构要求</span><span class="sxs-lookup"><span data-stu-id="86a0a-250">Infrastructure requirements for CQD</span></span>
<span data-ttu-id="86a0a-251"><a name="Infrastructure_Req"> </a></span><span class="sxs-lookup"><span data-stu-id="86a0a-251"><a name="Infrastructure_Req"> </a></span></span>

<span data-ttu-id="86a0a-252">CQD（包括所有组件和从属组件）可以部署在虚拟机、单台计算机或跨多台计算机。</span><span class="sxs-lookup"><span data-stu-id="86a0a-252">CQD, including all its components and dependent components, can be deployed on a virtual machine, a single machine, or across multiple machines.</span></span> <span data-ttu-id="86a0a-253">下面列出了最低软件和硬件要求。</span><span class="sxs-lookup"><span data-stu-id="86a0a-253">The minimum software and hardware requirements are listed below.</span></span> <span data-ttu-id="86a0a-254">数据可用性和查询性能可能会因分钟到小时而异，具体取决于活动的 Skype for Business Server 用户数以及硬件和配置，因此下面提供一些性能度量。</span><span class="sxs-lookup"><span data-stu-id="86a0a-254">Data availability and query performance can vary from minutes to hours, depending on the number of active Skype for Business Server users and hardware and configuration, so some performance measurements are given below.</span></span>
  
|||
|:-----|:-----|
|<span data-ttu-id="86a0a-255">对于 CQD 2015</span><span class="sxs-lookup"><span data-stu-id="86a0a-255">For CQD 2015</span></span> <br/> |  <br/> |
|<span data-ttu-id="86a0a-256">支持的操作系统</span><span class="sxs-lookup"><span data-stu-id="86a0a-256">Supported Operating Systems</span></span>  <br/> |<span data-ttu-id="86a0a-257">Windows Server 2008 R2、Windows Server 2012、Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="86a0a-257">Windows Server 2008 R2, Windows Server 2012, Windows Server 2012 R2</span></span>  <br/> |
|<span data-ttu-id="86a0a-258">支持SQL Server</span><span class="sxs-lookup"><span data-stu-id="86a0a-258">Supported SQL Server</span></span>  <br/> |<span data-ttu-id="86a0a-259">SQL Server 2012、SQL Server 2014、SQL Server 2016</span><span class="sxs-lookup"><span data-stu-id="86a0a-259">SQL Server 2012, SQL Server 2014, SQL Server 2016</span></span>  <br/> |

|||
|:-----|:-----|
|<span data-ttu-id="86a0a-260">对于 CQD 2019</span><span class="sxs-lookup"><span data-stu-id="86a0a-260">For CQD 2019</span></span> <br/> |  <br/> |
|<span data-ttu-id="86a0a-261">支持的操作系统</span><span class="sxs-lookup"><span data-stu-id="86a0a-261">Supported Operating Systems</span></span>  <br/> |<span data-ttu-id="86a0a-262">Windows Server 2016、Windows Server 2019</span><span class="sxs-lookup"><span data-stu-id="86a0a-262">Windows Server 2016, Windows Server 2019</span></span>  <br/> |
|<span data-ttu-id="86a0a-263">支持SQL Server</span><span class="sxs-lookup"><span data-stu-id="86a0a-263">Supported SQL Server</span></span>  <br/> |<span data-ttu-id="86a0a-264">2017 SQL Server 2019 SQL Server 2019</span><span class="sxs-lookup"><span data-stu-id="86a0a-264">SQL Server 2017, SQL Server 2019</span></span>  <br/> |
   
<span data-ttu-id="86a0a-265">CQD 利用 Microsoft SQL Server、Microsoft SQL Server Analysis Services 和 Microsoft Internet Information Services，因此 CQD 的最低硬件和软件要求基本上与这些从属组件相同。</span><span class="sxs-lookup"><span data-stu-id="86a0a-265">CQD utilizes Microsoft SQL Server, Microsoft SQL Server Analysis Services, and Microsoft Internet Information Services so CQD's minimum hardware and software requirements are basically the same as those dependent components.</span></span> <span data-ttu-id="86a0a-266">但是，根据组织对数据新鲜度 (的要求（部分取决于组织生成的 QoE 数据量和部署) ），应考虑其他部署注意事项。</span><span class="sxs-lookup"><span data-stu-id="86a0a-266">However, based on the organization's requirements around data freshness (which will depend in part on the volume of QoE data the organization generates) and deployment cost, additional deployment considerations should be made.</span></span>
  
<span data-ttu-id="86a0a-267">CQD 中的数据处理分为两个主要阶段：</span><span class="sxs-lookup"><span data-stu-id="86a0a-267">Data processing in CQD is separated into two main stages:</span></span> 
  
- <span data-ttu-id="86a0a-268">QoE 存档过程</span><span class="sxs-lookup"><span data-stu-id="86a0a-268">QoE Archive process</span></span>
    
- <span data-ttu-id="86a0a-269">CQD 多维数据集处理</span><span class="sxs-lookup"><span data-stu-id="86a0a-269">CQD Cube processing</span></span>
    
  <span data-ttu-id="86a0a-270">**QoE 存档处理。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-270">**QoE Archive processing.**</span></span> <span data-ttu-id="86a0a-271">QoE 存档处理任务将数据从监控服务器的 QoE 指标数据库复制到 QoE 存档数据库。</span><span class="sxs-lookup"><span data-stu-id="86a0a-271">The QoE Archive processing task copies data from the QoE Metrics database on the Monitoring Server to the QoE Archive database.</span></span> <span data-ttu-id="86a0a-272">在两种情况下，任务的处理时间将具有完全不同的性能特征。</span><span class="sxs-lookup"><span data-stu-id="86a0a-272">There are two situations where the processing time of the task would have fundamentally different performance characteristics.</span></span> <span data-ttu-id="86a0a-273">第一个是在 CQD 的初始安装之后。</span><span class="sxs-lookup"><span data-stu-id="86a0a-273">The first is after the initial installation of CQD.</span></span> <span data-ttu-id="86a0a-274">全新安装后首次运行该任务时，QoE 存档处理任务将 QoE 指标数据库中的所有数据复制到 QoE 存档数据库中。</span><span class="sxs-lookup"><span data-stu-id="86a0a-274">When the task is run for the first time after a fresh installation, the QoE Archive processing task will copy all the data that is in the QoE Metrics database into QoE Archive database.</span></span> <span data-ttu-id="86a0a-275">第二种是在此初始轮之后定期处理。</span><span class="sxs-lookup"><span data-stu-id="86a0a-275">The second is the periodic processing after this initial round.</span></span> <span data-ttu-id="86a0a-276">QoE 存档处理任务将每 15 分钟运行一次，并处理 QoE 指标数据库中的任何新 QoE 记录。</span><span class="sxs-lookup"><span data-stu-id="86a0a-276">The QoE Archive processing task will run every 15 minutes and process any new QoE records that are in the QoE Metrics database.</span></span> <span data-ttu-id="86a0a-277">通常，初始处理时间不是一个问题，因为它仅在安装 CQD 时第一次运行。</span><span class="sxs-lookup"><span data-stu-id="86a0a-277">Generally, the initial processing time is not a concern because it is run only the first time, when CQD is installed.</span></span> <span data-ttu-id="86a0a-278">但是，如果 CQD 服务器严重不足，此任务可能需要几个小时。</span><span class="sxs-lookup"><span data-stu-id="86a0a-278">However, if the CQD server is severely under-provisioned, this task can take several hours.</span></span> <span data-ttu-id="86a0a-279">请参阅下表，例如初始 QoE 存档处理时间。</span><span class="sxs-lookup"><span data-stu-id="86a0a-279">Refer to the table below for example initial QoE Archive processing times.</span></span>
  
  <span data-ttu-id="86a0a-280">**CQD 多维数据集处理。**</span><span class="sxs-lookup"><span data-stu-id="86a0a-280">**CQD Cube processing.**</span></span> <span data-ttu-id="86a0a-281">多维数据集处理任务将数据从 QoE 存档数据库聚合到多维数据集中。</span><span class="sxs-lookup"><span data-stu-id="86a0a-281">The Cube processing task aggregates the data from the QoE Archive database into the Cube.</span></span> <span data-ttu-id="86a0a-282">初始多维数据集处理时间和后续多维数据集处理时间由SQL Server Analysis Services CQD 多维数据集使用的多维数据集版本决定。</span><span class="sxs-lookup"><span data-stu-id="86a0a-282">The initial cube processing time and subsequent cube processing time are determined by the SQL Server Analysis Services edition used for the CQD Cube.</span></span> <span data-ttu-id="86a0a-283">如果使用标准版，初始多维数据集处理时间和后续多维数据集处理时间之间没有差异，因为每次刷新多维数据集数据时，它始终会完全处理所有可用数据。</span><span class="sxs-lookup"><span data-stu-id="86a0a-283">If the Standard edition is used, there is no difference between the initial cube processing time and the subsequent cube processing time because each time the Cube data is refreshed, it will always be a full processing of all available data.</span></span> <span data-ttu-id="86a0a-284"> (这意味着多维数据集处理时间随着 QoE 存档数据库中的数据量增加而增加。) 因为商业智能版本和 SQL Server 企业版具有分区支持，如果使用任一版本，则只有初始运行将处理 QoE 存档数据库中的所有数据。</span><span class="sxs-lookup"><span data-stu-id="86a0a-284">(This means that the Cube processing time increases as the amount of data in the QoE Archive database increases.) Because the Business Intelligence Edition and Enterprise Edition of SQL Server have partition support, if either edition is used, only the initial run will process all data in the QoE Archive database.</span></span> <span data-ttu-id="86a0a-285">在后续运行中，每 15 分钟触发一次任务时，任务将仅处理自上次运行任务以来添加到 QoE 存档数据库的新记录。</span><span class="sxs-lookup"><span data-stu-id="86a0a-285">In subsequent runs, when the task is triggered every 15 minutes, the task will only process the new records added to the QoE Archive database since the last time the task was run.</span></span> <span data-ttu-id="86a0a-286">每天还会对包含当前月份数据的分区进行完全处理。</span><span class="sxs-lookup"><span data-stu-id="86a0a-286">Once a day, there will also be a full processing on the partition that contains the current month's data.</span></span>
  
<span data-ttu-id="86a0a-287">物理计算机特征会影响 CQD 性能以及可从这些组件SQL Server功能。</span><span class="sxs-lookup"><span data-stu-id="86a0a-287">The physical machine characteristics can affect CQD performance as well as the software features that are available from the SQL Server components.</span></span> <span data-ttu-id="86a0a-288">与其他组件相比，QoE 存档组件将占用更多的磁盘，而多维数据集组件将占用更多的 CPU 和内存。</span><span class="sxs-lookup"><span data-stu-id="86a0a-288">The QoE Archive component will be more disk-intensive compared to other components, whereas the Cube component will be more CPU and memory intensive.</span></span> <span data-ttu-id="86a0a-289">所有这些因素都会影响 CQD 的总数据处理时间，这直接影响数据新鲜度及可用性。</span><span class="sxs-lookup"><span data-stu-id="86a0a-289">All of these factors contribute to CQD's total data processing time, which directly affects data freshness and availability.</span></span> <span data-ttu-id="86a0a-290">组织应基于组织的个人需求对硬件和软件做出决策。</span><span class="sxs-lookup"><span data-stu-id="86a0a-290">Organizations should make decisions on the hardware and software based on the individual needs of the organization.</span></span> 
  
### <a name="tested-hardware-configurations"></a><span data-ttu-id="86a0a-291">测试的硬件配置</span><span class="sxs-lookup"><span data-stu-id="86a0a-291">Tested Hardware Configurations</span></span>

<span data-ttu-id="86a0a-292">本节假定环境中有一个 QoEMetrics DB。</span><span class="sxs-lookup"><span data-stu-id="86a0a-292">This section makes the assumption that there is a single QoEMetrics DB in the environment.</span></span> 
  
<span data-ttu-id="86a0a-293">**计算机配置文件**</span><span class="sxs-lookup"><span data-stu-id="86a0a-293">**Machine profiles**</span></span>

|<span data-ttu-id="86a0a-294">**计算机**</span><span class="sxs-lookup"><span data-stu-id="86a0a-294">**Machine**</span></span>|<span data-ttu-id="86a0a-295">**CPU 内核**</span><span class="sxs-lookup"><span data-stu-id="86a0a-295">**CPU Cores**</span></span>|<span data-ttu-id="86a0a-296">**RAM**</span><span class="sxs-lookup"><span data-stu-id="86a0a-296">**RAM**</span></span>|<span data-ttu-id="86a0a-297">**同一磁盘上的 QoE 存档和多维数据集**</span><span class="sxs-lookup"><span data-stu-id="86a0a-297">**QoE Archive and Cube on same disk**</span></span>|<span data-ttu-id="86a0a-298">**同一磁盘上SQL QoE 存档和临时数据库**</span><span class="sxs-lookup"><span data-stu-id="86a0a-298">**QoE Archive and SQL Temp DB on same disk**</span></span>|
|:-----|:-----|:-----|:-----|:-----|
|<span data-ttu-id="86a0a-299">虚拟机</span><span class="sxs-lookup"><span data-stu-id="86a0a-299">Virtual machine</span></span>  <br/> |<span data-ttu-id="86a0a-300">4 </span><span class="sxs-lookup"><span data-stu-id="86a0a-300">4</span></span>  <br/> |<span data-ttu-id="86a0a-301">7 GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-301">7 GB</span></span>  <br/> |<span data-ttu-id="86a0a-302">是</span><span class="sxs-lookup"><span data-stu-id="86a0a-302">Yes</span></span>  <br/> |<span data-ttu-id="86a0a-303">是</span><span class="sxs-lookup"><span data-stu-id="86a0a-303">Yes</span></span>  <br/> |
|<span data-ttu-id="86a0a-304">4 核</span><span class="sxs-lookup"><span data-stu-id="86a0a-304">4 core</span></span>  <br/> |<span data-ttu-id="86a0a-305">4 </span><span class="sxs-lookup"><span data-stu-id="86a0a-305">4</span></span>  <br/> |<span data-ttu-id="86a0a-306">20 GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-306">20 GB</span></span>  <br/> |<span data-ttu-id="86a0a-307">是</span><span class="sxs-lookup"><span data-stu-id="86a0a-307">Yes</span></span>  <br/> |<span data-ttu-id="86a0a-308">否</span><span class="sxs-lookup"><span data-stu-id="86a0a-308">No</span></span>  <br/> |
|<span data-ttu-id="86a0a-309">8 核</span><span class="sxs-lookup"><span data-stu-id="86a0a-309">8 core</span></span>  <br/> |<span data-ttu-id="86a0a-310">8 </span><span class="sxs-lookup"><span data-stu-id="86a0a-310">8</span></span>  <br/> |<span data-ttu-id="86a0a-311">32 GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-311">32 GB</span></span>  <br/> |<span data-ttu-id="86a0a-312">是</span><span class="sxs-lookup"><span data-stu-id="86a0a-312">Yes</span></span>  <br/> |<span data-ttu-id="86a0a-313">否</span><span class="sxs-lookup"><span data-stu-id="86a0a-313">No</span></span>  <br/> |
|<span data-ttu-id="86a0a-314">16 核</span><span class="sxs-lookup"><span data-stu-id="86a0a-314">16 core</span></span>  <br/> |<span data-ttu-id="86a0a-315">16 </span><span class="sxs-lookup"><span data-stu-id="86a0a-315">16</span></span>  <br/> |<span data-ttu-id="86a0a-316">128 GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-316">128 GB</span></span>  <br/> |<span data-ttu-id="86a0a-317">否</span><span class="sxs-lookup"><span data-stu-id="86a0a-317">No</span></span>  <br/> |<span data-ttu-id="86a0a-318">否</span><span class="sxs-lookup"><span data-stu-id="86a0a-318">No</span></span>  <br/> |
   
<span data-ttu-id="86a0a-319">**性能结果**</span><span class="sxs-lookup"><span data-stu-id="86a0a-319">**Performance results**</span></span>

|<span data-ttu-id="86a0a-320">**计算机**</span><span class="sxs-lookup"><span data-stu-id="86a0a-320">**Machine**</span></span>|<span data-ttu-id="86a0a-321">**QoE 指标数据库大小**</span><span class="sxs-lookup"><span data-stu-id="86a0a-321">**QoE metrics DB size**</span></span>|<span data-ttu-id="86a0a-322">**SQL分区**</span><span class="sxs-lookup"><span data-stu-id="86a0a-322">**SQL partitions**</span></span>|<span data-ttu-id="86a0a-323">**磁盘类型**</span><span class="sxs-lookup"><span data-stu-id="86a0a-323">**Disk type**</span></span>|<span data-ttu-id="86a0a-324">**流的数量**</span><span class="sxs-lookup"><span data-stu-id="86a0a-324">**Number of streams**</span></span>|<span data-ttu-id="86a0a-325">**初始存档过程**</span><span class="sxs-lookup"><span data-stu-id="86a0a-325">**Initial Archive process**</span></span>|<span data-ttu-id="86a0a-326">**初始多维数据集进程**</span><span class="sxs-lookup"><span data-stu-id="86a0a-326">**Initial Cube process**</span></span>|<span data-ttu-id="86a0a-327">**后续存档过程**</span><span class="sxs-lookup"><span data-stu-id="86a0a-327">**Subsequent Archive process**</span></span>|<span data-ttu-id="86a0a-328">**后续多维数据集进程**</span><span class="sxs-lookup"><span data-stu-id="86a0a-328">**Subsequent Cube process**</span></span>|
|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|
|<span data-ttu-id="86a0a-329">虚拟机</span><span class="sxs-lookup"><span data-stu-id="86a0a-329">Virtual machine</span></span>  <br/> |<span data-ttu-id="86a0a-330">900 MB</span><span class="sxs-lookup"><span data-stu-id="86a0a-330">900 MB</span></span>  <br/> |<span data-ttu-id="86a0a-331">单一</span><span class="sxs-lookup"><span data-stu-id="86a0a-331">Single</span></span>  <br/> |<span data-ttu-id="86a0a-332">VHD (可变大小) </span><span class="sxs-lookup"><span data-stu-id="86a0a-332">VHD (variable-size)</span></span>  <br/> |<span data-ttu-id="86a0a-333">.5 M</span><span class="sxs-lookup"><span data-stu-id="86a0a-333">.5 M</span></span>  <br/> |<span data-ttu-id="86a0a-334">30 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-334">30 m</span></span>  <br/> |<span data-ttu-id="86a0a-335">2 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-335">2 m</span></span>  <br/> |<span data-ttu-id="86a0a-336">30 s</span><span class="sxs-lookup"><span data-stu-id="86a0a-336">30 s</span></span>  <br/> |<span data-ttu-id="86a0a-337">1 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-337">1 m</span></span>  <br/> |
|<span data-ttu-id="86a0a-338">虚拟机</span><span class="sxs-lookup"><span data-stu-id="86a0a-338">Virtual machine</span></span>  <br/> |<span data-ttu-id="86a0a-339">9 GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-339">9 GB</span></span>  <br/> |<span data-ttu-id="86a0a-340">单一</span><span class="sxs-lookup"><span data-stu-id="86a0a-340">Single</span></span>  <br/> |<span data-ttu-id="86a0a-341">VHD (可变大小) </span><span class="sxs-lookup"><span data-stu-id="86a0a-341">VHD (variable-size)</span></span>  <br/> |<span data-ttu-id="86a0a-342">5 M</span><span class="sxs-lookup"><span data-stu-id="86a0a-342">5 M</span></span>  <br/> |<span data-ttu-id="86a0a-343">4 h</span><span class="sxs-lookup"><span data-stu-id="86a0a-343">4 h</span></span>  <br/> |<span data-ttu-id="86a0a-344">15 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-344">15 m</span></span>  <br/> |<span data-ttu-id="86a0a-345">1 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-345">1 m</span></span>  <br/> |<span data-ttu-id="86a0a-346">5 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-346">5 m</span></span>  <br/> |
|<span data-ttu-id="86a0a-347">虚拟机</span><span class="sxs-lookup"><span data-stu-id="86a0a-347">Virtual machine</span></span>  <br/> |<span data-ttu-id="86a0a-348">9 GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-348">9 GB</span></span>  <br/> |<span data-ttu-id="86a0a-349">单一</span><span class="sxs-lookup"><span data-stu-id="86a0a-349">Single</span></span>  <br/> |<span data-ttu-id="86a0a-350">VHD (固定大小) </span><span class="sxs-lookup"><span data-stu-id="86a0a-350">VHD (fixed-size)</span></span>  <br/> |<span data-ttu-id="86a0a-351">5 M</span><span class="sxs-lookup"><span data-stu-id="86a0a-351">5 M</span></span>  <br/> |<span data-ttu-id="86a0a-352">2 h</span><span class="sxs-lookup"><span data-stu-id="86a0a-352">2 h</span></span>  <br/> |<span data-ttu-id="86a0a-353">5 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-353">5 m</span></span>  <br/> |<span data-ttu-id="86a0a-354">1 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-354">1 m</span></span>  <br/> |<span data-ttu-id="86a0a-355">5 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-355">5 m</span></span>  <br/> |
|<span data-ttu-id="86a0a-356">虚拟机</span><span class="sxs-lookup"><span data-stu-id="86a0a-356">Virtual machine</span></span>  <br/> |<span data-ttu-id="86a0a-357">30+ GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-357">30+ GB</span></span>  <br/> |<span data-ttu-id="86a0a-358">单一</span><span class="sxs-lookup"><span data-stu-id="86a0a-358">Single</span></span>  <br/> |<span data-ttu-id="86a0a-359">VHD (固定大小) </span><span class="sxs-lookup"><span data-stu-id="86a0a-359">VHD (fixed-size)</span></span>  <br/> |<span data-ttu-id="86a0a-360">10 M</span><span class="sxs-lookup"><span data-stu-id="86a0a-360">10 M</span></span>  <br/> |<span data-ttu-id="86a0a-361">15 h</span><span class="sxs-lookup"><span data-stu-id="86a0a-361">15 h</span></span>  <br/> |<span data-ttu-id="86a0a-362">20 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-362">20 m</span></span>  <br/> |<span data-ttu-id="86a0a-363">2 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-363">2 m</span></span>  <br/> |<span data-ttu-id="86a0a-364">45 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-364">45 m</span></span>  <br/> |
|<span data-ttu-id="86a0a-365">8 核</span><span class="sxs-lookup"><span data-stu-id="86a0a-365">8 core</span></span>  <br/> |<span data-ttu-id="86a0a-366">9 GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-366">9 GB</span></span>  <br/> |<span data-ttu-id="86a0a-367">单一</span><span class="sxs-lookup"><span data-stu-id="86a0a-367">Single</span></span>  <br/> |<span data-ttu-id="86a0a-368">多个磁盘</span><span class="sxs-lookup"><span data-stu-id="86a0a-368">Multiple Disks</span></span>  <br/> |<span data-ttu-id="86a0a-369">5 M</span><span class="sxs-lookup"><span data-stu-id="86a0a-369">5 M</span></span>  <br/> |<span data-ttu-id="86a0a-370">2 h</span><span class="sxs-lookup"><span data-stu-id="86a0a-370">2 h</span></span>  <br/> |<span data-ttu-id="86a0a-371">5 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-371">5 m</span></span>  <br/> |<span data-ttu-id="86a0a-372">25 s</span><span class="sxs-lookup"><span data-stu-id="86a0a-372">25 s</span></span>  <br/> |<span data-ttu-id="86a0a-373">5 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-373">5 m</span></span>  <br/> |
|<span data-ttu-id="86a0a-374">8 核</span><span class="sxs-lookup"><span data-stu-id="86a0a-374">8 core</span></span>  <br/> |<span data-ttu-id="86a0a-375">9 GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-375">9 GB</span></span>  <br/> |<span data-ttu-id="86a0a-376">多个</span><span class="sxs-lookup"><span data-stu-id="86a0a-376">Multiple</span></span>  <br/> |<span data-ttu-id="86a0a-377">多个磁盘</span><span class="sxs-lookup"><span data-stu-id="86a0a-377">Multiple Disks</span></span>  <br/> |<span data-ttu-id="86a0a-378">5 M</span><span class="sxs-lookup"><span data-stu-id="86a0a-378">5 M</span></span>  <br/> |<span data-ttu-id="86a0a-379">2 h</span><span class="sxs-lookup"><span data-stu-id="86a0a-379">2 h</span></span>  <br/> |<span data-ttu-id="86a0a-380">15 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-380">15 m</span></span>  <br/> |<span data-ttu-id="86a0a-381">35 s</span><span class="sxs-lookup"><span data-stu-id="86a0a-381">35 s</span></span>  <br/> |<span data-ttu-id="86a0a-382">2 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-382">2 m</span></span>  <br/> |
|<span data-ttu-id="86a0a-383">8 核</span><span class="sxs-lookup"><span data-stu-id="86a0a-383">8 core</span></span>  <br/> |<span data-ttu-id="86a0a-384">30+ GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-384">30+ GB</span></span>  <br/> |<span data-ttu-id="86a0a-385">单一</span><span class="sxs-lookup"><span data-stu-id="86a0a-385">Single</span></span>  <br/> |<span data-ttu-id="86a0a-386">多个磁盘</span><span class="sxs-lookup"><span data-stu-id="86a0a-386">Multiple Disks</span></span>  <br/> |<span data-ttu-id="86a0a-387">20 M</span><span class="sxs-lookup"><span data-stu-id="86a0a-387">20 M</span></span>  <br/> |<span data-ttu-id="86a0a-388">9 h</span><span class="sxs-lookup"><span data-stu-id="86a0a-388">9 h</span></span>  <br/> |<span data-ttu-id="86a0a-389">20 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-389">20 m</span></span>  <br/> |<span data-ttu-id="86a0a-390">1 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-390">1 m</span></span>  <br/> |<span data-ttu-id="86a0a-391">20 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-391">20 m</span></span>  <br/> |
|<span data-ttu-id="86a0a-392">8 核</span><span class="sxs-lookup"><span data-stu-id="86a0a-392">8 core</span></span>  <br/> |<span data-ttu-id="86a0a-393">30+ GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-393">30+ GB</span></span>  <br/> |<span data-ttu-id="86a0a-394">多个</span><span class="sxs-lookup"><span data-stu-id="86a0a-394">Multiple</span></span>  <br/> |<span data-ttu-id="86a0a-395">多个磁盘</span><span class="sxs-lookup"><span data-stu-id="86a0a-395">Multiple Disks</span></span>  <br/> |<span data-ttu-id="86a0a-396">20 M</span><span class="sxs-lookup"><span data-stu-id="86a0a-396">20 M</span></span>  <br/> |<span data-ttu-id="86a0a-397">9 h</span><span class="sxs-lookup"><span data-stu-id="86a0a-397">9 h</span></span>  <br/> |<span data-ttu-id="86a0a-398">30 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-398">30 m</span></span>  <br/> |<span data-ttu-id="86a0a-399">2 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-399">2 m</span></span>  <br/> |<span data-ttu-id="86a0a-400">2 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-400">2 m</span></span>  <br/> |
|<span data-ttu-id="86a0a-401">4 核</span><span class="sxs-lookup"><span data-stu-id="86a0a-401">4 core</span></span>  <br/> |<span data-ttu-id="86a0a-402">200 GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-402">200 GB</span></span>  <br/> |<span data-ttu-id="86a0a-403">单一</span><span class="sxs-lookup"><span data-stu-id="86a0a-403">Single</span></span>  <br/> |<span data-ttu-id="86a0a-404">多个磁盘</span><span class="sxs-lookup"><span data-stu-id="86a0a-404">Multiple Disks</span></span>  <br/> |<span data-ttu-id="86a0a-405">125 M</span><span class="sxs-lookup"><span data-stu-id="86a0a-405">125 M</span></span>  <br/> |<span data-ttu-id="86a0a-406">6 天以上</span><span class="sxs-lookup"><span data-stu-id="86a0a-406">6+ days</span></span>  <br/> |<span data-ttu-id="86a0a-407">7 h</span><span class="sxs-lookup"><span data-stu-id="86a0a-407">7 h</span></span>  <br/> |<span data-ttu-id="86a0a-408">2 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-408">2 m</span></span>  <br/> |<span data-ttu-id="86a0a-409">6 h</span><span class="sxs-lookup"><span data-stu-id="86a0a-409">6 h</span></span>  <br/> |
|<span data-ttu-id="86a0a-410">16 核</span><span class="sxs-lookup"><span data-stu-id="86a0a-410">16 core</span></span>  <br/> |<span data-ttu-id="86a0a-411">500 GB</span><span class="sxs-lookup"><span data-stu-id="86a0a-411">500 GB</span></span>  <br/> |<span data-ttu-id="86a0a-412">多个</span><span class="sxs-lookup"><span data-stu-id="86a0a-412">Multiple</span></span>  <br/> |<span data-ttu-id="86a0a-413">多个心轴</span><span class="sxs-lookup"><span data-stu-id="86a0a-413">Multiple Spindles</span></span>  <br/> |<span data-ttu-id="86a0a-414">250 M</span><span class="sxs-lookup"><span data-stu-id="86a0a-414">250 M</span></span>  <br/> |<span data-ttu-id="86a0a-415">8 天</span><span class="sxs-lookup"><span data-stu-id="86a0a-415">8 days</span></span>  <br/> |<span data-ttu-id="86a0a-416">2 h</span><span class="sxs-lookup"><span data-stu-id="86a0a-416">2 h</span></span>  <br/> |<span data-ttu-id="86a0a-417">2 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-417">2 m</span></span>  <br/> |<span data-ttu-id="86a0a-418">10 m</span><span class="sxs-lookup"><span data-stu-id="86a0a-418">10 m</span></span>  <br/> |
   
<span data-ttu-id="86a0a-419">\*预计实际部署中不会遇到这些数据，因为 QoE 指标数据库必须分别具有 9 个月和 18 个月的数据，但此处提供了它们，以完成。</span><span class="sxs-lookup"><span data-stu-id="86a0a-419">\*These are not expected to be encountered in real deployments because the QoE Metrics database would have to have 9 and 18 months of data, respectively, but they're provided here for completeness.</span></span>
  
### <a name="service-account-requirements"></a><span data-ttu-id="86a0a-420">服务帐户要求</span><span class="sxs-lookup"><span data-stu-id="86a0a-420">Service Account Requirements</span></span>

<span data-ttu-id="86a0a-421">您需要一个 (对 QoEMetrics) 具有读取权限的帐户SQL CQD Server 上的 SQL 代理可以使用该帐户将数据导入 QoEArchiveDB。</span><span class="sxs-lookup"><span data-stu-id="86a0a-421">You will need an account (with read access to QoEMetrics) that the SQL Agent on the CQD Server can use for importing data to the QoEArchiveDB.</span></span>
  
<span data-ttu-id="86a0a-422">您可能还需要为 SSAS 作业配置单独的帐户，以从 QoEArchiveDB (这是一个可选) 。</span><span class="sxs-lookup"><span data-stu-id="86a0a-422">You may also need to configure a separate account for an SSAS Job to pull data from QoEArchiveDB (this is an optional process).</span></span>
  
<span data-ttu-id="86a0a-423">IIS 最常使用网络服务作为应用程序池标识，但可以配置为服务帐户。</span><span class="sxs-lookup"><span data-stu-id="86a0a-423">IIS most commonly uses Network Service as App Pool Identity, but can be configured to a Service Account.</span></span>
  
### <a name="portal-access-control"></a><span data-ttu-id="86a0a-424">门户访问控制</span><span class="sxs-lookup"><span data-stu-id="86a0a-424">Portal Access Control</span></span>

<span data-ttu-id="86a0a-425">默认情况下，任何经过身份验证的用户都有访问权限。</span><span class="sxs-lookup"><span data-stu-id="86a0a-425">By default, any authenticated user has access.</span></span> <span data-ttu-id="86a0a-426">这可以通过使用 IIS 授权规则来限制为特定组进行更改。</span><span class="sxs-lookup"><span data-stu-id="86a0a-426">This can be changed by using IIS Authorization rules to restrict to a specific group.</span></span>
  
### <a name="pre-install-requirements"></a><span data-ttu-id="86a0a-427">预安装要求</span><span class="sxs-lookup"><span data-stu-id="86a0a-427">Pre-Install Requirements</span></span>

<span data-ttu-id="86a0a-428">这些说明假定 QoE 指标数据库已安装，并且正在 Skype for Business Server 拓扑中的某位置运行。</span><span class="sxs-lookup"><span data-stu-id="86a0a-428">These instructions assume that a QoE Metrics database has already been installed and is running somewhere in the Skype for Business Server topology.</span></span>
  
#### <a name="hardware-requirements"></a><span data-ttu-id="86a0a-429">硬件要求</span><span class="sxs-lookup"><span data-stu-id="86a0a-429">Hardware Requirements</span></span>

<span data-ttu-id="86a0a-430">CQD 利用 Microsoft SQL Server、Microsoft SQL Analysis Server 和 Microsoft Internet Information Server，因此 CQD 的最低硬件和软件要求基本上与这些相关组件相同。</span><span class="sxs-lookup"><span data-stu-id="86a0a-430">CQD utilizes Microsoft SQL Server, Microsoft SQL Analysis Server, and Microsoft Internet Information Server so CQD's minimum hardware and software requirements are basically the same as those dependent components.</span></span> <span data-ttu-id="86a0a-431">但是，根据组织对数据新鲜度 (的要求（部分取决于组织生成的 QoE 数据量和部署) ），应考虑其他部署注意事项。</span><span class="sxs-lookup"><span data-stu-id="86a0a-431">However, based on the organization's requirements around data freshness (which will depend in part on the volume of QoE data the organization generates) and deployment cost, additional deployment considerations should be made.</span></span>
  
#### <a name="software-requirements"></a><span data-ttu-id="86a0a-432">软件要求</span><span class="sxs-lookup"><span data-stu-id="86a0a-432">Software Requirements</span></span>

<span data-ttu-id="86a0a-433">CQD 需要以下操作系统：</span><span class="sxs-lookup"><span data-stu-id="86a0a-433">The following operating systems are required for CQD:</span></span>
  
- <span data-ttu-id="86a0a-434">Windows Server 2008 R2 与 IIS 7.5</span><span class="sxs-lookup"><span data-stu-id="86a0a-434">Windows Server 2008 R2 with IIS 7.5</span></span>
    
- <span data-ttu-id="86a0a-435">Windows Server 2012 IIS 8.0</span><span class="sxs-lookup"><span data-stu-id="86a0a-435">Windows Server 2012 with IIS 8.0</span></span>
    
- <span data-ttu-id="86a0a-436">Windows Server 2012 IIS 8.5 的 R2</span><span class="sxs-lookup"><span data-stu-id="86a0a-436">Windows Server 2012 R2 with IIS 8.5</span></span>

- <span data-ttu-id="86a0a-437">仅 Windows Server 2016 与 IIS 10.0 (Skype for Business Server 2019 CQD) </span><span class="sxs-lookup"><span data-stu-id="86a0a-437">Windows Server 2016 with IIS 10.0 (Skype for Business Server 2019 CQD only)</span></span>

- <span data-ttu-id="86a0a-438">Windows Server 2019 (Skype for Business Server 2019 CQD 仅) </span><span class="sxs-lookup"><span data-stu-id="86a0a-438">Windows Server 2019 (Skype for Business Server 2019 CQD only)</span></span>
    
<span data-ttu-id="86a0a-439">以下是按层次结构顺序 (IIS 角色服务) ：</span><span class="sxs-lookup"><span data-stu-id="86a0a-439">The following are the required IIS role services (in hierarchical order):</span></span>
  
- <span data-ttu-id="86a0a-440">Web 服务器</span><span class="sxs-lookup"><span data-stu-id="86a0a-440">Web Server</span></span>
    
  - <span data-ttu-id="86a0a-441">常见的 HTTP 功能</span><span class="sxs-lookup"><span data-stu-id="86a0a-441">Common HTTP Features</span></span>
    
  - <span data-ttu-id="86a0a-442">静态内容</span><span class="sxs-lookup"><span data-stu-id="86a0a-442">Static Content</span></span>
    
  - <span data-ttu-id="86a0a-443">默认文档</span><span class="sxs-lookup"><span data-stu-id="86a0a-443">Default Document</span></span>
    
  - <span data-ttu-id="86a0a-444">应用程序开发</span><span class="sxs-lookup"><span data-stu-id="86a0a-444">Application Development</span></span>
    
  - <span data-ttu-id="86a0a-445">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="86a0a-445">ASP.NET</span></span>
    
  - <span data-ttu-id="86a0a-446">ISAPI 筛选器</span><span class="sxs-lookup"><span data-stu-id="86a0a-446">ISAPI Filters</span></span>
    
  - <span data-ttu-id="86a0a-447">运行状况 &amp; 诊断</span><span class="sxs-lookup"><span data-stu-id="86a0a-447">Health &amp; Diagnostics</span></span>
    
  - <span data-ttu-id="86a0a-448">HTTP 日志记录</span><span class="sxs-lookup"><span data-stu-id="86a0a-448">HTTP Logging</span></span>
    
  - <span data-ttu-id="86a0a-449">安全性</span><span class="sxs-lookup"><span data-stu-id="86a0a-449">Security</span></span>
    
  - <span data-ttu-id="86a0a-450">URL 授权</span><span class="sxs-lookup"><span data-stu-id="86a0a-450">URL Authorization</span></span>
    
  - <span data-ttu-id="86a0a-451">Windows 身份验证</span><span class="sxs-lookup"><span data-stu-id="86a0a-451">Windows Authentication</span></span>
    
  - <span data-ttu-id="86a0a-452">管理工具</span><span class="sxs-lookup"><span data-stu-id="86a0a-452">Management Tools</span></span>
    
  - <span data-ttu-id="86a0a-453">IIS 管理控制台</span><span class="sxs-lookup"><span data-stu-id="86a0a-453">IIS Management Console</span></span>
    
> [!NOTE]
>  <span data-ttu-id="86a0a-454">请注意以下上述要求：> 3.5 和 4.5 版本的 .Net framework 可用。</span><span class="sxs-lookup"><span data-stu-id="86a0a-454">Note the following for the above requirements:>  3.5 and 4.5 versions of the .Net framework are available.</span></span> <span data-ttu-id="86a0a-455">更具体地说 (这两者是必需的，) .> 在某些系统中，如果 ASP.NET 是在安装 IIS 之前设置的，则 ASP.NET 可能不会在 IIS 中注册。</span><span class="sxs-lookup"><span data-stu-id="86a0a-455">Both are required (more specifically, 3.5 SP1 is required).>  In some systems, if ASP.NET is setup before IIS install, then ASP.NET may not be registered in IIS.</span></span> <span data-ttu-id="86a0a-456">该问题通过缺少相应 .Net 版本的应用程序池以及应用程序池配置中缺少 .NET CLR 版本而显现。</span><span class="sxs-lookup"><span data-stu-id="86a0a-456">The problem manifests through the absence of application pools for the corresponding .Net version and also missing the .NET CLR version in app pool configuration.</span></span> <span data-ttu-id="86a0a-457">若要在 Windows Server 2008 R2 上更正此类问题，请执行 `%systemroot%\Microsoft.NET\Framework64\4.0.30319\aspnet_regiis.exe -iru` 。</span><span class="sxs-lookup"><span data-stu-id="86a0a-457">To correct such an issue on Windows Server 2008 R2, execute `%systemroot%\Microsoft.NET\Framework64\4.0.30319\aspnet_regiis.exe -iru`.</span></span> <span data-ttu-id="86a0a-458">在 Windows Server 2012 和 Windows Server 2012 R2 上，执行后从 IIS Manager.> 管理工具中的默认网站中删除  `dism /online /enable-Feature /all /FeatureName:WCF-HTTP-Activation45` "ServiceModel"模块，但建议这样做。</span><span class="sxs-lookup"><span data-stu-id="86a0a-458">On Windows Server 2012 and Windows Server 2012 R2, execute  `dism /online /enable-Feature /all /FeatureName:WCF-HTTP-Activation45` followed by removing the "ServiceModel" module from the Default Web Site in IIS Manager.>  Management tools is optional, but recommended.</span></span>
  
<span data-ttu-id="86a0a-459">若要使用 PowerShell 安装这些要求，请运行以下代码：</span><span class="sxs-lookup"><span data-stu-id="86a0a-459">To install these requirements using PowerShell, run the following:</span></span>
  
```PowerShell
import-module servermanager
```

```PowerShell
add-windowsfeature Web-Server, Web-Static-Content, Web-Default-Doc, Web-Asp-Net, Web-Asp-Net45, Web-Net-Ext, Web-Net-Ext45, Web-ISAPI-Ext, Web-ISAPI-Filter, Web-Http-Logging, Web-Url-Auth, Web-Windows-Auth, Web-Mgmt-Console
```

<span data-ttu-id="86a0a-460">支持以下SQL Server版本：</span><span class="sxs-lookup"><span data-stu-id="86a0a-460">The following versions of SQL Server are supported:</span></span>
  
|||
|:-----|:-----|
| <span data-ttu-id="86a0a-461">CQD 2015</span><span class="sxs-lookup"><span data-stu-id="86a0a-461">CQD 2015</span></span> <br/> |  <span data-ttu-id="86a0a-462">SQL Server 2012、SQL Server 2014、SQL Server 2016</span><span class="sxs-lookup"><span data-stu-id="86a0a-462">SQL Server 2012, SQL Server 2014, SQL Server 2016</span></span>  |
|<span data-ttu-id="86a0a-463">CQD 2019</span><span class="sxs-lookup"><span data-stu-id="86a0a-463">CQD 2019</span></span> <br/> |  <span data-ttu-id="86a0a-464">2017 SQL Server 2019 SQL Server 2019</span><span class="sxs-lookup"><span data-stu-id="86a0a-464">SQL Server 2017, SQL Server 2019</span></span>  |
    
<span data-ttu-id="86a0a-465">出于性能原因，建议使用商业智能或企业版。</span><span class="sxs-lookup"><span data-stu-id="86a0a-465">Business Intelligence or Enterprise edition is recommended for performance reasons.</span></span> <span data-ttu-id="86a0a-466">这些版本允许使用多个可以并行处理的分区文件，这有利于处理跨越数月或更长时间的数据。</span><span class="sxs-lookup"><span data-stu-id="86a0a-466">These editions allow use of multiple partition files that can be processed in parallel, which is beneficial for processing data spanning multiple months or longer.</span></span> 
  
<span data-ttu-id="86a0a-467">虽然不建议这样做，但标准版也受支持。</span><span class="sxs-lookup"><span data-stu-id="86a0a-467">While not recommended, Standard edition is supported as well.</span></span> <span data-ttu-id="86a0a-468">处理将受限于单个分区 (需要在安装期间配置) 。</span><span class="sxs-lookup"><span data-stu-id="86a0a-468">Processing will be constrained to a single partition (which needs to be configured during setup).</span></span> 
  
<span data-ttu-id="86a0a-469">必须安装"数据库引擎服务"和"Analysis Services"。</span><span class="sxs-lookup"><span data-stu-id="86a0a-469">In all cases, "Database Engine Services" and "Analysis Services" must be installed.</span></span> <span data-ttu-id="86a0a-470">建议安装（但不要求）安装"管理工具 - 完成"功能，该功能SQL Server Management Studio 对 Analysis Services 的支持。</span><span class="sxs-lookup"><span data-stu-id="86a0a-470">It is recommended but not required to also install the "Management Tools - Complete" feature, which adds SQL Server Management Studio support for Analysis Services.</span></span> <span data-ttu-id="86a0a-471">功能选择屏幕应如图所示。</span><span class="sxs-lookup"><span data-stu-id="86a0a-471">Feature selection screen should look like the figure.</span></span>
  
![SQL Server功能要求](../../media/37f2f64b-49c8-4620-94ba-f6d1ae9abf83.png)
  
<span data-ttu-id="86a0a-473">配置 SSAS 设置时，在"Analysis Services配置"中，将"服务器模式"设置为"多维和数据挖掘模式"。</span><span class="sxs-lookup"><span data-stu-id="86a0a-473">When configuring the SSAS setup, in the Analysis Services Configuration, set "Server Mode" to "Multidimensional and Data Mining Mode".</span></span> 
  
<span data-ttu-id="86a0a-474">有关安装和配置商业智能功能的其他SQL Server，请参阅"在多维Analysis Services和数据挖掘模式下 [安装应用程序](https://msdn.microsoft.com/library/ms143708%28v=sql.110%29.aspx)。</span><span class="sxs-lookup"><span data-stu-id="86a0a-474">For additional help in installing and configuring SQL Server Business Intelligence Features, see [Install Analysis Services in Multidimensional and Data Mining Mode](https://msdn.microsoft.com/library/ms143708%28v=sql.110%29.aspx).</span></span>
  
#### <a name="account-requirements"></a><span data-ttu-id="86a0a-475">帐户要求</span><span class="sxs-lookup"><span data-stu-id="86a0a-475">Account Requirements</span></span>

<span data-ttu-id="86a0a-476">根据最小特权原则建议使用三个域服务帐户：</span><span class="sxs-lookup"><span data-stu-id="86a0a-476">Three domain service accounts are recommended on the principle of least privilege:</span></span> 
  
- <span data-ttu-id="86a0a-477">已具有 QoE 指标数据库 (的登录安全主体（具有 db_datareader 权限) ）和 QoE 存档 SQL Server 实例 (中的登录安全主体（在设置) 期间需要）。</span><span class="sxs-lookup"><span data-stu-id="86a0a-477">One that already has both a login security principal for QoE Metrics database (with db_datareader privilege) and a login security principal in QoE Archive SQL Server Instance (needed to create a Linked Server object during setup).</span></span> <span data-ttu-id="86a0a-478">此帐户将用于运行代理作业的"QoE 存档SQL Server步骤。</span><span class="sxs-lookup"><span data-stu-id="86a0a-478">This account will be used to run "QoE Archive Data" step of the SQL Server Agent job.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="86a0a-479">如果您在严格锁定的环境中工作，则需要检查此服务帐户是否确实被授予了对 QoE 指标监控数据库 SQL Server 和 QoE 存档 SQL Server 的"以批处理作业方式登录"和"允许本地登录"用户权限。</span><span class="sxs-lookup"><span data-stu-id="86a0a-479">If you are working in a heavily locked down environment, you need to check that this service account is indeed granted “Logon as a batch job” and “Allow log on locally” user rights on both the QoE Metrics Monitoring database SQL Server and the QoE Archive SQL Server.</span></span>
    
- <span data-ttu-id="86a0a-480">用于运行代理作业的"进程多维数据集"步骤SQL Server一。</span><span class="sxs-lookup"><span data-stu-id="86a0a-480">One that will be used to run "Process Cube" step of the SQL Server Agent job.</span></span> <span data-ttu-id="86a0a-481">安装程序将创建 QoE 存档数据库的登录安全主体 (具有读取和写入权限) 还会在 QoE 角色 (中为多维数据集创建具有完全控制权限) 的成员。</span><span class="sxs-lookup"><span data-stu-id="86a0a-481">Setup will create a login security principal to QoE Archive database (with read and write privilege) and also create a member in the QoE Role (with full control privilege) for the Cube.</span></span>
    
- <span data-ttu-id="86a0a-482">用于为 Web 门户和 Web API 运行 IIS 工作进程的过程。</span><span class="sxs-lookup"><span data-stu-id="86a0a-482">One that will be used to run IIS Worker Process for the web portals and web APIs.</span></span> <span data-ttu-id="86a0a-483">安装程序将创建具有读取权限) 的 QoE 存档数据库 (的登录安全主体、具有读取和写入权限) 的存储库数据库 (的登录安全主体以及具有多维数据集的完全控制权限) 的 QoERole (成员。</span><span class="sxs-lookup"><span data-stu-id="86a0a-483">Setup will create a login security principal to QoE Archive database (with read privilege), a login security principal to Repository database (with read and write privilege) , and a member in QoERole (with full control privilege) for the Cube.</span></span> 
    
    > [!NOTE]
    > <span data-ttu-id="86a0a-484">当 QoE 存档数据库和存储库数据库都托管在同一个SQL Server时，只会创建一个具有两个用户映射的登录安全主体。</span><span class="sxs-lookup"><span data-stu-id="86a0a-484">When both QoE Archive database and Repository database are hosted in the same SQL Server, only one login security principal with two user mappings is created.</span></span> 
  
<span data-ttu-id="86a0a-485">在逻辑上，可以将前两个帐户视为"后端服务帐户"，最后一个帐户是"前端服务帐户"。</span><span class="sxs-lookup"><span data-stu-id="86a0a-485">The first two accounts can be logically considered as "back end service accounts" and the last account is a "front end service account".</span></span> <span data-ttu-id="86a0a-486">虽然不建议使用，但可以全部使用单个帐户。</span><span class="sxs-lookup"><span data-stu-id="86a0a-486">While not recommended, it is possible to use a single account in all cases.</span></span>
  
> [!NOTE]
> <span data-ttu-id="86a0a-487">启动安装的用户帐户必须具有对 QoE 指标数据库以及 (的读取权限，此外，还必须对必须在其中执行安装的 QoE 存档 DB 服务器具有计算机管理员) 。</span><span class="sxs-lookup"><span data-stu-id="86a0a-487">The user account initiating the installation must have read access to QoE Metrics DB as well (in addition to having machine admin rights on the QoE Archive DB server where the installation must take place).</span></span> 
  
## <a name="capacity-planning"></a><span data-ttu-id="86a0a-488">容量规划</span><span class="sxs-lookup"><span data-stu-id="86a0a-488">Capacity Planning</span></span>
<span data-ttu-id="86a0a-489"><a name="Infrastructure_Req"> </a></span><span class="sxs-lookup"><span data-stu-id="86a0a-489"><a name="Infrastructure_Req"> </a></span></span>

<span data-ttu-id="86a0a-490">CQD 旨在对 QoEMetrics 产生最小影响：代码已经过优化，不会锁定数据，并且导入作业可以运行。</span><span class="sxs-lookup"><span data-stu-id="86a0a-490">CQD is designed for minimal Impact on QoEMetrics: the code has been optimized to not lock data, and import jobs are tunable.</span></span>
  
<span data-ttu-id="86a0a-491">使用的硬件类型取决于您对同步运行速度的要求。</span><span class="sxs-lookup"><span data-stu-id="86a0a-491">The type of hardware to use depends on your requirements for how quickly syncs should run.</span></span> <span data-ttu-id="86a0a-492">磁盘大小调整如下所示：</span><span class="sxs-lookup"><span data-stu-id="86a0a-492">Disk Sizing is as follows:</span></span>
  
- <span data-ttu-id="86a0a-493">QoEArchive 最初比 QoEMetrics DB 大约 1.5 倍</span><span class="sxs-lookup"><span data-stu-id="86a0a-493">QoEArchive is ~1.5x larger than QoEMetrics DB initially</span></span>
    
- <span data-ttu-id="86a0a-494">与 DB 相比，SSIS 多维数据集压缩数据几乎 10 倍</span><span class="sxs-lookup"><span data-stu-id="86a0a-494">SSIS Cube compresses the data almost 10x compared to DB</span></span>
    
- <span data-ttu-id="86a0a-495">数据按月分区;可删除分区</span><span class="sxs-lookup"><span data-stu-id="86a0a-495">Data is partitioned monthly; partitions can be deleted</span></span>
    

