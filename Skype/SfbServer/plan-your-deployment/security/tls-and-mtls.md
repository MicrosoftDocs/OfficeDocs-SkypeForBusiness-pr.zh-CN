---
title: Skype 业务服务器的 TLS 和 MTLS
ms.reviewer: ''
ms.author: kenwith
author: kenwith
manager: serdars
ms.audience: ITPro
ms.topic: conceptual
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: b32a5b85-fc82-42dc-a9b2-96400f8cd2b8
description: 传输层安全性 (TLS) 和相互传输层安全性 (MTLS) 协议提供 Internet 上的加密通信和终结点身份验证。 Skype 业务服务器使用这两项协议来创建受信任的服务器网络和确保网络上的所有通信进行都加密。 服务器之间的所有 SIP 通信都通过 MTLS 进行。 从客户端到服务器的 SIP 通信都通过 TLS 进行。
ms.openlocfilehash: b00ce2102d858db36500f78af47596677ce6d6dd
ms.sourcegitcommit: 111bf6255fa877b3fce70fa8166e8ec5a6643434
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/23/2019
ms.locfileid: "32213499"
---
# <a name="tls-and-mtls-for-skype-for-business-server"></a><span data-ttu-id="4ac5c-106">Skype 业务服务器的 TLS 和 MTLS</span><span class="sxs-lookup"><span data-stu-id="4ac5c-106">TLS and MTLS for Skype for Business Server</span></span>
 
<span data-ttu-id="4ac5c-107">传输层安全性 (TLS) 和相互传输层安全性 (MTLS) 协议提供 Internet 上的加密通信和终结点身份验证。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-107">Transport Layer Security (TLS) and Mutual Transport Layer Security (MTLS) protocols provide encrypted communications and endpoint authentication on the Internet.</span></span> <span data-ttu-id="4ac5c-108">Skype 业务服务器使用这两项协议来创建受信任的服务器网络和确保网络上的所有通信进行都加密。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-108">Skype for Business Server uses these two protocols to create the network of trusted servers and to ensure that all communications over that network are encrypted.</span></span> <span data-ttu-id="4ac5c-109">服务器之间的所有 SIP 通信都通过 MTLS 进行。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-109">All SIP communications between servers occur over MTLS.</span></span> <span data-ttu-id="4ac5c-110">从客户端到服务器的 SIP 通信都通过 TLS 进行。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-110">SIP communications from client to server occur over TLS.</span></span>
  
<span data-ttu-id="4ac5c-111">TLS 启用用户，他们的客户端软件，通过进行身份验证连接到业务 Server 服务器 Skype。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-111">TLS enables users, through their client software, to authenticate the Skype for Business Server servers to which they connect.</span></span> <span data-ttu-id="4ac5c-112">在 TLS 连接上，客户端从服务器请求有效证书。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-112">On a TLS connection, the client requests a valid certificate from the server.</span></span> <span data-ttu-id="4ac5c-113">有效证书必须满足以下条件：由受客户端信任的 CA 颁发，且服务器的 DNS 名称必须与证书上的 DNS 名称一致。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-113">To be valid, the certificate must have been issued by a CA that is also trusted by the client and the DNS name of the server must match the DNS name on the certificate.</span></span> <span data-ttu-id="4ac5c-114">如果证书有效，则客户端使用证书中的公钥对用于通信的对称加密密钥进行加密，因此只有证书的原始所有者可以使用其私钥对通信内容进行解密。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-114">If the certificate is valid, the client uses the public key in the certificate to encrypt the symmetric encryption keys to be used for the communication, so only the original owner of the certificate can use its private key to decrypt the contents of the communication.</span></span> <span data-ttu-id="4ac5c-115">生成的连接将会受到信任，之后再不会受到其他受信任的服务器或客户端的质询。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-115">The resulting connection is trusted and from that point is not challenged by other trusted servers or clients.</span></span> <span data-ttu-id="4ac5c-116">在此上下文中，可将用于 Web 服务的安全套接字层 (SSL) 视为是基于 TLS 的。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-116">Within this context, Secure Sockets Layer (SSL) as used with Web services can be associated as TLS-based.</span></span>
  
<span data-ttu-id="4ac5c-117">服务器到服务器的连接依赖 MTLS 来进行相互身份验证。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-117">Server-to-server connections rely on MTLS for mutual authentication.</span></span> <span data-ttu-id="4ac5c-118">在 MTLS 连接上，发出消息的服务器和接收消息的服务器交换来自相互信任的 CA 的证书。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-118">On an MTLS connection, the server originating a message and the server receiving it exchange certificates from a mutually trusted CA.</span></span> <span data-ttu-id="4ac5c-119">证书可向一台服务器证明另一台服务器的身份。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-119">The certificates prove the identity of each server to the other.</span></span> <span data-ttu-id="4ac5c-120">Skype 业务服务器部署，在由企业 CA 颁发的证书的过程期间，而不由发证 CA 吊销其有效性中都会自动认为有效所有内部客户端和服务器因为活动中的所有成员目录域信任企业 CA 的域中。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-120">In Skype for Business Server deployments, certificates issued by the enterprise CA that are during their validity period and not revoked by the issuing CA are automatically considered valid by all internal clients and servers because all members of an Active Directory domain trust the Enterprise CA in that domain.</span></span> <span data-ttu-id="4ac5c-121">在联盟方案中，发证 CA 必须得到联盟伙伴双方的信任。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-121">In federated scenarios, the issuing CA must be trusted by both federated partners.</span></span> <span data-ttu-id="4ac5c-122">如果需要，任一伙伴均可以使用不同的 CA，只要该 CA 同时获得另一个伙伴的信任即可。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-122">Each partner can use a different CA, if desired, so long as that CA is also trusted by the other partner.</span></span> <span data-ttu-id="4ac5c-123">通过边缘服务器具有合作伙伴的根 CA 证书中其受信任的根 Ca，或使用第三方 CA 受信任的双方，很容易实现此信任。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-123">This trust is most easily accomplished by the Edge Servers having the partner's root CA certificate in their trusted root CAs, or by use of a third-party CA that is trusted by both parties.</span></span>
  
<span data-ttu-id="4ac5c-124">TLS 和 MTLS 有助于防止窃听攻击和中间人攻击。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-124">TLS and MTLS help prevent both eavesdropping and man-in-the middle attacks.</span></span> <span data-ttu-id="4ac5c-125">在中间中中间人攻击中，攻击者重排通过攻击者的计算机的任何一方不知情的情况下的两个网络实体之间的通信。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-125">In a man-in-the-middle attack, the attacker reroutes communications between two network entities through the attacker's computer without the knowledge of either party.</span></span> <span data-ttu-id="4ac5c-126">TLS 和 Skype 的受信任服务器的服务器 （仅在拓扑生成器中指定） 的业务服务器规格缓解部分应用程序图层上手册中中间攻击的风险使用协调使用公钥的端到端加密加密之间的两个端点，攻击者必须有对应的私钥与证书有效且受信任和颁发给到客户端通信进行解密通信服务的名称。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-126">TLS and Skype for Business Server specification of trusted servers (only those specified in Topology Builder) mitigate the risk of a man-in-the middle attack partially on the application layer by using end-to-end encryption coordinated using the Public Key cryptography between the two endpoints, and an attacker would have to have a valid and trusted certificate with the corresponding private key and issued to the name of the service to which the client is communicating to decrypt the communication.</span></span> <span data-ttu-id="4ac5c-127">不过，最终，您还是必须遵循有关您的网络基础结构（在此示例中为企业 DNS）的最佳安全做法。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-127">Ultimately, however, you must follow best security practices with your networking infrastructure (in this case corporate DNS).</span></span> <span data-ttu-id="4ac5c-128">Skype 业务 server 假定 DNS 服务器受信任的域控制器和全局编录是受信任，但 DNS 提供针对 DNS 劫持攻击保护级别通过防止攻击者的服务器响应方式相同成功地为欺骗名称的请求。</span><span class="sxs-lookup"><span data-stu-id="4ac5c-128">Skype for Business Server assumes that the DNS server is trusted in the same way that domain controllers and global catalogs are trusted, but DNS does provide a level of safeguard against DNS hijack attacks by preventing an attacker's server from responding successfully to a request to the spoofed name.</span></span>
  

