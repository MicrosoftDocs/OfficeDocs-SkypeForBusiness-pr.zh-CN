---
title: Skype for Business Online 安全指南
ms.author: tonysmit
author: tonysmit
manager: serdars
ms.reviewer: ''
ms.date: 01/22/2018
ms.topic: article
ms.tgt.pltfrm: cloud
ms.service: skype-for-business-online
search.appverid: MET150
ms.collection: Adm_Skype4B_Online
ms.audience: Admin
appliesto:
- Skype for Business
- Skype for Business Online
- Microsoft Teams
localization_priority: Normal
f1keywords: None
ms.custom:
- Security
description: Skype for Business Online 安全指南 <add description>
ms.openlocfilehash: 646f4235a590532739ae4f06edeaf9c5a3070d5d
ms.sourcegitcommit: 2a6e499165424fe2d189ad140951e222c8ba9c81
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/07/2018
ms.locfileid: "23856770"
---
#  <a name="security-and-skype-for-business-online"></a><span data-ttu-id="10b17-103">安全性和 Skype for Business 联机</span><span class="sxs-lookup"><span data-stu-id="10b17-103">Security and Skype for Business Online</span></span>

<span data-ttu-id="10b17-104">Skype for Business Online（SfBO）作为 Office 365 服务的一部分，通过纵深防御、服务内的客户控制、安全强化和运营最佳实践，遵循所有安全最佳实践和程序（例如服务级安全性）。</span><span class="sxs-lookup"><span data-stu-id="10b17-104">Skype for Business Online (SfBO), as part of the Office 365 service, follows all the security best practices and procedures such as service-level security through defense-in-depth, customer controls within the service, security hardening and operational best practices.</span></span>  <span data-ttu-id="10b17-105">有关完整的详细信息，请参阅 Office 365 信任中心 （https://products.office.com/en-us/business/office-365-trust-center-security)。</span><span class="sxs-lookup"><span data-stu-id="10b17-105">For full details, please see the Office 365 Trust Center (https://products.office.com/en-us/business/office-365-trust-center-security).</span></span>

## <a name="trustworthy-by-design"></a><span data-ttu-id="10b17-106">设计方面的可信赖性</span><span class="sxs-lookup"><span data-stu-id="10b17-106">Trustworthy by Design</span></span>
<span data-ttu-id="10b17-107">Skype for Business Online 的设计和开发符合 Microsoft 可信计算安全开发生命周期 (SDL) 的要求（https://www.microsoft.com/en-us/sdl/default.aspx 有具体说明）。</span><span class="sxs-lookup"><span data-stu-id="10b17-107">Skype for Business Online is designed and developed in compliance with the Microsoft Trustworthy Computing Security Development Lifecycle (SDL), which is described at https://www.microsoft.com/en-us/sdl/default.aspx.</span></span> <span data-ttu-id="10b17-108">创建更安全的统一通信系统的第一步是设计威胁模型，并按每项功能的设计要求对其进行测试。</span><span class="sxs-lookup"><span data-stu-id="10b17-108">The first step in creating a more secure unified communications system was to design threat models and test each feature as it was designed.</span></span> <span data-ttu-id="10b17-109">编码过程和做法中植入了多项与安全相关的改进。</span><span class="sxs-lookup"><span data-stu-id="10b17-109">Multiple security-related improvements were built into the coding process and practices.</span></span> <span data-ttu-id="10b17-110">生成时工具会在将代码签入到最终产品之前检测缓冲区溢出和其他潜在安全威胁。</span><span class="sxs-lookup"><span data-stu-id="10b17-110">Build-time tools detect buffer overruns and other potential security threats before the code is checked in to the final product.</span></span> <span data-ttu-id="10b17-111">当然，在设计上不可能做到能够防范所有未知安全威胁。</span><span class="sxs-lookup"><span data-stu-id="10b17-111">Of course, it is impossible to design against all unknown security threats.</span></span> <span data-ttu-id="10b17-112">任何系统都无法保证绝对的安全。</span><span class="sxs-lookup"><span data-stu-id="10b17-112">No system can guarantee complete security.</span></span> <span data-ttu-id="10b17-113">但是，由于产品开发采纳从开始安全设计原则，业务 online Skype 包含行业标准安全技术作为基本及其体系结构的一部分。</span><span class="sxs-lookup"><span data-stu-id="10b17-113">However, because product development embraced secure design principles from the start, Skype for Business Online incorporates industry standard security technologies as a fundamental part of its architecture.</span></span> 

## <a name="trustworthy-by-default"></a><span data-ttu-id="10b17-114">默认的可信赖性</span><span class="sxs-lookup"><span data-stu-id="10b17-114">Trustworthy by Default</span></span>
<span data-ttu-id="10b17-115">Skype for Business Online 中的网络通信默认进行加密。</span><span class="sxs-lookup"><span data-stu-id="10b17-115">Network communications in Skype for Business Online are encrypted by default.</span></span> <span data-ttu-id="10b17-116">通过要求所有服务器使用证书并使用 OAUTH，TLS，安全实时传输协议 (SRTP) 和其他行业标准的加密技术，包括 256 位高级加密标准 (AES) 加密，所有 Skype for Business在线数据进行保护网络上。</span><span class="sxs-lookup"><span data-stu-id="10b17-116">By requiring all servers to use certificates and by using OAUTH, TLS, Secure Real-Time Transport Protocol (SRTP), and other industry-standard encryption techniques, including 256-bit Advanced Encryption Standard (AES) encryption, all Skype for Business Online data is protected on the network.</span></span>

## <a name="how-sfbo-handles-common-security-threats"></a><span data-ttu-id="10b17-117">SfBO 如何处理常见的安全威胁</span><span class="sxs-lookup"><span data-stu-id="10b17-117">How SfBO Handles Common Security Threats</span></span>
<span data-ttu-id="10b17-118">本节介绍 SFBO 服务安全性的更常见威胁以及 Microsoft 如何抵御每种威胁。</span><span class="sxs-lookup"><span data-stu-id="10b17-118">This section identifies the more common threats to the security of the SFBO Service and how Microsoft mitigates each threat.</span></span>

### <a name="compromised-key-attack"></a><span data-ttu-id="10b17-119">破解密钥攻击</span><span class="sxs-lookup"><span data-stu-id="10b17-119">Compromised-Key Attack</span></span>
<span data-ttu-id="10b17-120">密钥是用于加密、解密或验证机密信息的机密代码或数字。</span><span class="sxs-lookup"><span data-stu-id="10b17-120">A key is a secret code or number that is used to encrypt, decrypt, or validate secret information.</span></span> <span data-ttu-id="10b17-121">在公钥基础设施 (PKI) 中使用的敏感密钥有两个必须考虑的因素：每个证书持有者拥有的私钥以及在通信伙伴成功识别和会话密钥交换后使用的会话密钥。</span><span class="sxs-lookup"><span data-stu-id="10b17-121">There are two sensitive keys in use in public key infrastructure (PKI) that must be considered: the private key that each certificate holder has and the session key that is used after a successful identification and session key exchange by the communicating partners.</span></span>  <span data-ttu-id="10b17-122">破解密钥攻击是指攻击者破解私钥或会话密钥的行为。</span><span class="sxs-lookup"><span data-stu-id="10b17-122">A compromised-key attack occurs when the attacker determines the private key or the session key.</span></span> <span data-ttu-id="10b17-123">攻击者在成功破解密钥之后，可以使用此密钥对已加密的数据进行解密，而数据的发送者对此毫不知情。</span><span class="sxs-lookup"><span data-stu-id="10b17-123">When the attacker is successful in determining the key, the attacker can use the key to decrypt encrypted data without the knowledge of the sender.</span></span>

<span data-ttu-id="10b17-124">Skype 业务 online 在 Windows Server 操作系统使用的 PKI 功能，以保护用于传输层安全性 (TLS) 连接的加密密钥的数据。</span><span class="sxs-lookup"><span data-stu-id="10b17-124">Skype for Business Online uses the PKI features in the Windows Server operating system to protect the key data used for encryption for the Transport Layer Security (TLS) connections.</span></span> <span data-ttu-id="10b17-125">用于媒体加密的密钥交换通过 TLS 连接。</span><span class="sxs-lookup"><span data-stu-id="10b17-125">The keys used for media encryptions are exchanged over TLS connections.</span></span> 

### <a name="network-denial-of-service-attack"></a><span data-ttu-id="10b17-126">网络拒绝服务攻击</span><span class="sxs-lookup"><span data-stu-id="10b17-126">Network Denial-of-Service Attack</span></span>
<span data-ttu-id="10b17-127">当攻击者阻止有效用户正常使用和运行网络时，将发生拒绝服务攻击。</span><span class="sxs-lookup"><span data-stu-id="10b17-127">The denial-of-service attack occurs when the attacker prevents normal network use and function by valid users.</span></span> <span data-ttu-id="10b17-128">通过使用拒绝服务攻击，攻击者可以：</span><span class="sxs-lookup"><span data-stu-id="10b17-128">By using a denial-of-service attack, the attacker can:</span></span>
- <span data-ttu-id="10b17-129">向受到攻击的网络中正在运行的应用程序和服务发送无效数据，干扰它们的正常工作。</span><span class="sxs-lookup"><span data-stu-id="10b17-129">Send invalid data to applications and services running in the attacked network to disrupt their normal function.</span></span>
- <span data-ttu-id="10b17-130">发送大量流量以造成系统过载，直到系统停止对合理请求做出响应或对合理请求做出响应的速度变得很慢。</span><span class="sxs-lookup"><span data-stu-id="10b17-130">Send a large amount of traffic, overloading the system until it stops responding or responds slowly to legitimate requests.</span></span>
- <span data-ttu-id="10b17-131">隐藏攻击证据。</span><span class="sxs-lookup"><span data-stu-id="10b17-131">Hide the evidence of the attacks.</span></span>
- <span data-ttu-id="10b17-132">阻止用户访问网络资源。</span><span class="sxs-lookup"><span data-stu-id="10b17-132">Prevent users from accessing network resources.</span></span>

<span data-ttu-id="10b17-133">通过运行 Azure DDOS 网络保护以及限制来自相同端点、子网和联合实体的客户端请求，SFBO 可以抵御这些攻击。</span><span class="sxs-lookup"><span data-stu-id="10b17-133">SFBO mitigates against these attacks by running Azure DDOS network protection and by throttling client requests from the same endpoints, subnets, and federated entities.</span></span>

### <a name="eavesdropping"></a><span data-ttu-id="10b17-134">窃听</span><span class="sxs-lookup"><span data-stu-id="10b17-134">Eavesdropping</span></span>
<span data-ttu-id="10b17-p107">在攻击者获取对网络中数据路径的访问权并能够监控和读取流量内容时，会发生窃听。窃听也称为监听或窥探。如果流量内容采用纯文本形式，则攻击者在获取路径的访问权之后即可读取流量内容。例如，通过控制数据路径上的路由器进行攻击。</span><span class="sxs-lookup"><span data-stu-id="10b17-p107">Eavesdropping can occur when an attacker gains access to the data path in a network and has the ability to monitor and read the traffic. This is also called sniffing or snooping. If the traffic is in plain text, the attacker can read the traffic when the attacker gains access to the path. An example is an attack performed by controlling a router on the data path.</span></span> 

<span data-ttu-id="10b17-139">SfBO 使用 MTLS 来处理 O365 内部的服务器通信，并使用 TLS 来处理客户端到服务器之间的通信，在特定对话可能受到攻击的时间段内很难甚至根本不可能实现这种攻击。</span><span class="sxs-lookup"><span data-stu-id="10b17-139">SfBO uses mutual TLS (MTLS) for server communications within O365 and TLS from clients to the service, rendering this attack very difficult to impossible to achieve within the time period in which a given conversation could be attacked.</span></span> <span data-ttu-id="10b17-140">TLS 可对各方执行身份验证，并对所有流量内容进行加密。</span><span class="sxs-lookup"><span data-stu-id="10b17-140">TLS authenticates all parties and encrypts all traffic.</span></span> <span data-ttu-id="10b17-141">这样不能阻止窃听，但攻击者不能读取流量内容，除非破坏加密。</span><span class="sxs-lookup"><span data-stu-id="10b17-141">This does not prevent eavesdropping, but the attacker cannot read the traffic unless the encryption is broken.</span></span>

<span data-ttu-id="10b17-142">借助从几个项（包括从不以明文格式发送的 TURN 密码）派生的密钥 SfBO 服务可通过检查消息完整性来确保数据有效。</span><span class="sxs-lookup"><span data-stu-id="10b17-142">The TURN protocol is used for real time media purposes.</span></span>  <span data-ttu-id="10b17-143">TURN 协议不要求对通信进行加密和其发送的信息由消息完整性保护。</span><span class="sxs-lookup"><span data-stu-id="10b17-143">The TURN protocol does not mandate the traffic to be encrypted and the information that it is sending is protected by message integrity.</span></span> <span data-ttu-id="10b17-144">虽然对窃听开放，信息将发送 （即，IP 地址和端口） 可以提取直接通过只查看数据包的源和目标地址。</span><span class="sxs-lookup"><span data-stu-id="10b17-144">Although it is open to eavesdropping, the information it is sending (that is, IP addresses and port) can be extracted directly by simply looking at the source and destination addresses of the packets.</span></span> <span data-ttu-id="10b17-145">SfBO 服务可确保的数据通过检查消息完整性使用密钥派生自几项包括打开密码从不以明文形式发送的邮件有效。</span><span class="sxs-lookup"><span data-stu-id="10b17-145">The SfBO service ensures that the data is valid by checking the Message Integrity of the message using the key derived from a few items including a TURN password, which is never sent in clear text.</span></span> <span data-ttu-id="10b17-146">SRTP 用于媒体流量并且也被加密。</span><span class="sxs-lookup"><span data-stu-id="10b17-146">SRTP is used for media traffic and is also encrypted.</span></span>

### <a name="identity-spoofing-ip-address-spoofing"></a><span data-ttu-id="10b17-147">身份欺骗（IP 地址欺骗）</span><span class="sxs-lookup"><span data-stu-id="10b17-147">Identity Spoofing (IP Address Spoofing)</span></span>
<span data-ttu-id="10b17-148">当攻击者在未经授权的情况下确定和使用网络、计算机或网络组件的 IP 地址时，会发生欺骗。</span><span class="sxs-lookup"><span data-stu-id="10b17-148">Spoofing occurs when the attacker determines and uses an IP address of a network, computer, or network component without being authorized to do so.</span></span> <span data-ttu-id="10b17-149">一旦攻击成功，攻击者便可以假借 IP 地址通常标识的实体的身份执行操作。</span><span class="sxs-lookup"><span data-stu-id="10b17-149">A successful attack allows the attacker to operate as if the attacker is the entity normally identified by the IP address.</span></span> <span data-ttu-id="10b17-150">在 Microsoft Lync Server 2010 的上下文中，这种情况下派上用场仅当管理员执行完以下两项：</span><span class="sxs-lookup"><span data-stu-id="10b17-150">Within the context of Microsoft Lync Server 2010, this situation comes into play only if an administrator has done both of the following:</span></span>
- <span data-ttu-id="10b17-151">已配置仅支持传输控制协议 (TCP) 的连接（建议不要这样做，因为 TCP 通信未经过加密）。</span><span class="sxs-lookup"><span data-stu-id="10b17-151">Configured connections that support only Transmission Control Protocol (TCP) (which is not recommended, because TCP communications are unencrypted).</span></span>
- <span data-ttu-id="10b17-152">将这些连接的 IP 地址标记为受信任的主机。</span><span class="sxs-lookup"><span data-stu-id="10b17-152">Marked the IP addresses of those connections as trusted hosts.</span></span> 

<span data-ttu-id="10b17-153">此操作对于传输层安全性 (TLS) 连接而言不成问题，因为 TLS 对所有方进行验证并加密所有通信。</span><span class="sxs-lookup"><span data-stu-id="10b17-153">This is less of a problem for Transport Layer Security (TLS) connections, as TLS authenticates all parties and encrypts all traffic.</span></span> <span data-ttu-id="10b17-154">使用 TLS 可防止攻击者对特定连接（例如，相互 TLS 连接）执行 IP 地址欺骗攻击。</span><span class="sxs-lookup"><span data-stu-id="10b17-154">Using TLS prevents an attacker from performing IP address spoofing on a specific connection (for example, mutual TLS connections).</span></span> <span data-ttu-id="10b17-155">但是，攻击者仍无法欺骗 SfBO 使用 DNS 服务器的地址。</span><span class="sxs-lookup"><span data-stu-id="10b17-155">But an attacker could still spoof the address of the DNS server that SfBO uses.</span></span> <span data-ttu-id="10b17-156">但是，由于使用证书执行 SfBO 中的身份验证，攻击者不必须对欺骗通信中的各方之一所需的有效证书。</span><span class="sxs-lookup"><span data-stu-id="10b17-156">However, because authentication in SfBO is performed with certificates, an attacker would not have a valid certificate required to spoof one of the parties in the communication.</span></span>

### <a name="man-in-the-middle-attack"></a><span data-ttu-id="10b17-157">中间人攻击</span><span class="sxs-lookup"><span data-stu-id="10b17-157">Man-in-the-Middle Attack</span></span>
<span data-ttu-id="10b17-158">当攻击者在发生通信的两个用户不知情的情况下，通过自己的计算机重新路由这两个用户之间的通信时，就会发生中间人攻击。</span><span class="sxs-lookup"><span data-stu-id="10b17-158">A man-in-the-middle attack occurs when an attacker reroutes communication between two users through the attacker’s computer without the knowledge of the two communicating users.</span></span> <span data-ttu-id="10b17-159">攻击者可以在将通信内容发送到预期接收人之前监控和读取通信内容。</span><span class="sxs-lookup"><span data-stu-id="10b17-159">The attacker can monitor and read the traffic before sending it on to the intended recipient.</span></span> <span data-ttu-id="10b17-160">通信中的每个用户在不知情的情况下向攻击者发送通信和从攻击者接收通信，还以为自己只是在与预期用户进行通信。</span><span class="sxs-lookup"><span data-stu-id="10b17-160">Each user in the communication unknowingly sends traffic to and receives traffic from the attacker, all while thinking they are communicating only with the intended user.</span></span> <span data-ttu-id="10b17-161">如果攻击者可修改 Active Directory 域服务以将他（她）的服务器添加为受信任服务器或修改域名系统 (DNS) 以让客户端在与服务器通信时通过攻击者，则会发生这种情况。</span><span class="sxs-lookup"><span data-stu-id="10b17-161">This can happen if an attacker can modify Active Directory Domain Services to add his or her server as a trusted server or modify Domain Name System (DNS) to get clients to connect through the attacker on their way to the server.</span></span> 

<span data-ttu-id="10b17-162">中间人攻击还可能发生在两个客户端之间的媒体流量中，但在 SfBO 中点对点音频、视频和应用程序共享流使用基于 TLS 的会话启动协议 (SIP) 在对等设备之间协商的加密密钥通过 SRTP 进行加密。</span><span class="sxs-lookup"><span data-stu-id="10b17-162">A man-in-the-middle attack can also occur with media traffic between two clients, except that in SfBO point-to-point audio, video, and application sharing streams are encrypted with SRTP, using cryptographic keys that are negotiated between the peers using Session Initiation Protocol (SIP) over TLS.</span></span> 

### <a name="rtp-replay-attack"></a><span data-ttu-id="10b17-163">RTP 重播攻击</span><span class="sxs-lookup"><span data-stu-id="10b17-163">RTP Replay Attack</span></span>
<span data-ttu-id="10b17-164">重播攻击是指出于恶意目的截获并重新传输双方之间的有效媒体传输。</span><span class="sxs-lookup"><span data-stu-id="10b17-164">A replay attack occurs when a valid media transmission between two parties is intercepted and retransmitted for malicious purposes.</span></span> <span data-ttu-id="10b17-165">SfBO 与通过启用接收器来维护已接收的 RTP 数据包的索引和比较与这些已列出在索引中每个新数据包从重播攻击保护传输安全信号协议结合使用 SRTP。</span><span class="sxs-lookup"><span data-stu-id="10b17-165">SfBO uses SRTP in conjunction with a secure signaling protocol that protects transmissions from replay attacks by enabling the receiver to maintain an index of already received RTP packets and compare each new packet with those already listed in the index.</span></span>

### <a name="spim"></a><span data-ttu-id="10b17-166">SPIM</span><span class="sxs-lookup"><span data-stu-id="10b17-166">Spim</span></span>
<span data-ttu-id="10b17-p114">Spim 是主动提供的商业即时消息或状态订阅请求。虽然 Spim 本身并不会导致网络问题，但至少会有些烦人，占用资源和生产时间，而且可能会导致网络问题。例如，用户通过发送请求相互发送垃圾消息。用户可以相互阻止对方来防止出现这种情况，但对于联盟，如果建立了协作的 Spim 攻击，则很难防止出现这种情况，除非你禁用联盟伙伴关系。</span><span class="sxs-lookup"><span data-stu-id="10b17-p114">Spim is unsolicited commercial instant messages or presence subscription requests. While not by itself a compromise of the network, it is annoying in the least, can reduce resource availability and production, and can possibly lead to a compromise of the network. An example of this is users spimming each other by sending requests. Users can block each other to prevent this, but with federation, if a coordinated spim attack is established, this can be difficult to overcome unless you disable federation for the partner.</span></span>

### <a name="viruses-and-worms"></a><span data-ttu-id="10b17-171">病毒和蠕虫</span><span class="sxs-lookup"><span data-stu-id="10b17-171">Viruses and Worms</span></span>
<span data-ttu-id="10b17-172">病毒是一个代码单元，其目的是为了复制更多类似的代码单元。</span><span class="sxs-lookup"><span data-stu-id="10b17-172">A virus is a unit of code whose purpose is to reproduce additional, similar code units.</span></span> <span data-ttu-id="10b17-173">病毒需要像文件、电子邮件或程序这样的宿主才能发挥作用。</span><span class="sxs-lookup"><span data-stu-id="10b17-173">To work, a virus needs a host, such as a file, email, or program.</span></span> <span data-ttu-id="10b17-174">和病毒一样，蠕虫是一种代码单元，它的代码旨在繁殖更多的类似代码单元，但与病毒不同的是，蠕虫不需要宿主。</span><span class="sxs-lookup"><span data-stu-id="10b17-174">Like a virus, a worm is a unit of code that is coded to reproduce additional, similar code units, but that unlike a virus does not need a host.</span></span> <span data-ttu-id="10b17-175">病毒和蠕虫主要是在客户端之间传送文件期间或从其他用户发送 URL 时出现。</span><span class="sxs-lookup"><span data-stu-id="10b17-175">Viruses and worms primarily show up during file transfers between clients or when URLs are sent from other users.</span></span> <span data-ttu-id="10b17-176">例如，如果你的计算机上存在某种病毒，则该病毒可使用你的身份代表你发送即时消息。</span><span class="sxs-lookup"><span data-stu-id="10b17-176">If a virus is on your computer, it can, for example, use your identity and send instant messages on your behalf.</span></span>  <span data-ttu-id="10b17-177">标准的客户端安全最佳实践（例如定期扫描病毒）可以缓解此问题。</span><span class="sxs-lookup"><span data-stu-id="10b17-177">Standard client security best practices such as periodically scanning for viruses can mitigate this issue.</span></span>  

## <a name="personally-identifiable-information"></a><span data-ttu-id="10b17-178">个人身份信息</span><span class="sxs-lookup"><span data-stu-id="10b17-178">Personally Identifiable Information</span></span>
<span data-ttu-id="10b17-179">SfBO 已通过可能能够链接到个人的公用网络披露信息。</span><span class="sxs-lookup"><span data-stu-id="10b17-179">SfBO has the potential to disclose information over a public network that might be able to be linked to an individual.</span></span> <span data-ttu-id="10b17-180">这些信息类型具体可分为两大类：</span><span class="sxs-lookup"><span data-stu-id="10b17-180">The information types can be broken down to two specific categories:</span></span>
- <span data-ttu-id="10b17-181">**增强状态数据**&nbsp;&nbsp;&nbsp;增强状态数据是用户可以选择共享或通过指向联盟伙伴或与组织内的联系人的链接不共享的信息。</span><span class="sxs-lookup"><span data-stu-id="10b17-181">**Enhanced presence data**&nbsp;&nbsp;&nbsp;Enhanced presence data is information that a user can choose to share or not share over a link to a federated partner or with contacts within an organization.</span></span> <span data-ttu-id="10b17-182">不与公用 IM 网络上的用户共享此数据。</span><span class="sxs-lookup"><span data-stu-id="10b17-182">This data is not shared with users on a public IM network.</span></span> <span data-ttu-id="10b17-183">客户端策略和其他客户端配置可能会为系统管理员提供一些控制能力。</span><span class="sxs-lookup"><span data-stu-id="10b17-183">Client policies and other client configuration may put some control with the system administrator.</span></span> <span data-ttu-id="10b17-184">在 SfBO 服务中，可以为单个用户以防止 SfBO 用户不在用户的联系人列表上看到用户的状态信息配置增强的状态隐私模式。</span><span class="sxs-lookup"><span data-stu-id="10b17-184">In the SfBO service, enhanced presence privacy mode can be configured for an individual user to prevent SfBO users not on the user’s Contacts list from seeing the user’s presence information.</span></span> 
- <span data-ttu-id="10b17-185">**强制性数据**&nbsp;&nbsp;&nbsp;强制性数据是服务器或客户端正常运行所需的数据。</span><span class="sxs-lookup"><span data-stu-id="10b17-185">**Mandatory data**&nbsp;&nbsp;&nbsp;Mandatory data is data that is required for the proper operation of the server or the client.</span></span> <span data-ttu-id="10b17-186">这是所需的服务器或网络级别的路由、 状态维护和信号传输的信息。</span><span class="sxs-lookup"><span data-stu-id="10b17-186">This is information that is necessary at a server or network level for the purposes of routing, state maintenance, and signaling.</span></span>
<span data-ttu-id="10b17-187">下表列出了 SfBO 运行所需的数据。</span><span class="sxs-lookup"><span data-stu-id="10b17-187">The following tables list the data that is required for SfBO to operate.</span></span>

<span data-ttu-id="10b17-188">***表 1 - 增强状态数据***</span><span class="sxs-lookup"><span data-stu-id="10b17-188">***Table 1 - Enhanced Presence Data***</span></span>

<!--start table here -->

||||
|:-----|:-----|:-----|
|<span data-ttu-id="10b17-189">**数据**</span><span class="sxs-lookup"><span data-stu-id="10b17-189">**Data**</span></span>|<span data-ttu-id="10b17-190">**可能的** **设置**</span><span class="sxs-lookup"><span data-stu-id="10b17-190">**Possible** **settings**</span></span>|
|<span data-ttu-id="10b17-191">个人数据</span><span class="sxs-lookup"><span data-stu-id="10b17-191">Personal Data</span></span> |<span data-ttu-id="10b17-192">姓名、 职务、 公司、 电子邮件地址、 时区</span><span class="sxs-lookup"><span data-stu-id="10b17-192">Name, Title, Company, Email address, Time zone</span></span>|
|<span data-ttu-id="10b17-193">电话号码</span><span class="sxs-lookup"><span data-stu-id="10b17-193">Telephone Numbers</span></span>|<span data-ttu-id="10b17-194">工作电话号码、手机号码、住宅电话号码</span><span class="sxs-lookup"><span data-stu-id="10b17-194">Work, Mobile, Home</span></span>|
|<span data-ttu-id="10b17-195">日历信息</span><span class="sxs-lookup"><span data-stu-id="10b17-195">Calendar Information</span></span>|<span data-ttu-id="10b17-196">忙/闲、 出城通知，会议 （到有权访问您的日历） 的详细信息</span><span class="sxs-lookup"><span data-stu-id="10b17-196">Free/Busy, Out-of-town notice, meeting details (to those who have access to your calendar)</span></span>| 
|<span data-ttu-id="10b17-197">状态</span><span class="sxs-lookup"><span data-stu-id="10b17-197">Presence Status</span></span>|<span data-ttu-id="10b17-198">离开、空闲、忙碌、请勿打扰、脱机</span><span class="sxs-lookup"><span data-stu-id="10b17-198">Away, Available, Busy, Do Not Disturb, Offline</span></span>|
|||||

<!-- end of table -->

<span data-ttu-id="10b17-199">***表2  - 强制性数据***</span><span class="sxs-lookup"><span data-stu-id="10b17-199">***Table 2 - Mandatory Data***</span></span>

<!--start table here -->

||||
|:-----|:-----|:-----|
|<span data-ttu-id="10b17-200">**类别**</span><span class="sxs-lookup"><span data-stu-id="10b17-200">**Category**</span></span> |<span data-ttu-id="10b17-201">**可能的设置**</span><span class="sxs-lookup"><span data-stu-id="10b17-201">**Possible settings**</span></span> |
|<span data-ttu-id="10b17-202">IP 地址</span><span class="sxs-lookup"><span data-stu-id="10b17-202">IP Address</span></span>|<span data-ttu-id="10b17-203">计算机的实际地址或经过 NAT 转换的地址</span><span class="sxs-lookup"><span data-stu-id="10b17-203">Actual address of computer or NATed address</span></span>|
|<span data-ttu-id="10b17-204">SIP URI</span><span class="sxs-lookup"><span data-stu-id="10b17-204">SIP URI</span></span>|<span data-ttu-id="10b17-205"><u>david.campbell@contoso.com</u></span><span class="sxs-lookup"><span data-stu-id="10b17-205"><u>david.campbell@contoso.com</u></span></span>|
|<span data-ttu-id="10b17-206">名称</span><span class="sxs-lookup"><span data-stu-id="10b17-206">Name</span></span>|<span data-ttu-id="10b17-207">David Campbell（在 Active Directory 域服务中定义）</span><span class="sxs-lookup"><span data-stu-id="10b17-207">David Campbell (as defined in Active Directory Domain Services)</span></span>|
|||||

<!-- end of table -->

## <a name="security-framework-for-sfbo"></a><span data-ttu-id="10b17-208">SfBO 的安全框架</span><span class="sxs-lookup"><span data-stu-id="10b17-208">Security Framework for SfBO</span></span>
<span data-ttu-id="10b17-209">本节概述了 Microsoft SfBO 的表单的安全框架的基本要素。</span><span class="sxs-lookup"><span data-stu-id="10b17-209">This section provides an overview of the fundamental elements that form the security framework for Microsoft SfBO.</span></span> <span data-ttu-id="10b17-210">这些要素如下所示：</span><span class="sxs-lookup"><span data-stu-id="10b17-210">These elements are as follows:</span></span>
- <span data-ttu-id="10b17-211">Azure Active Directory (AAD) 为用户帐户提供单个受信任的后端存储库。</span><span class="sxs-lookup"><span data-stu-id="10b17-211">Azure Active Directory (AAD) provides a single trusted back-end repository for user accounts.</span></span> 
- <span data-ttu-id="10b17-212">公钥基础结构 (PKI) 使用受信任的证书颁发机构 (Ca) 颁发的证书进行身份验证服务器和确保数据完整性。</span><span class="sxs-lookup"><span data-stu-id="10b17-212">Public key infrastructure (PKI) uses certificates issued by trusted certification authorities (CAs) to authenticate servers and ensure data integrity.</span></span>
- <span data-ttu-id="10b17-213">传输层安全性 (TLS)、HTTPS over SSL (HTTPS) 和相互 TLS (MTLS) 可实现终结点身份验证和 IM 加密。</span><span class="sxs-lookup"><span data-stu-id="10b17-213">Transport Layer Security (TLS), HTTPS over SSL (HTTPS), and mutual TLS (MTLS) enable endpoint authentication and IM encryption.</span></span> <span data-ttu-id="10b17-214">点对点音频、 视频和应用程序共享流进行加密和完整性检查使用安全实时传输协议 (SRTP)。</span><span class="sxs-lookup"><span data-stu-id="10b17-214">Point-to-point audio, video, and application sharing streams are encrypted and integrity checked using Secure Real-Time Transport Protocol (SRTP).</span></span>
- <span data-ttu-id="10b17-215">用于用户身份验证的行业标准协议，如果可能。</span><span class="sxs-lookup"><span data-stu-id="10b17-215">Industry-standard protocols for user authentication, where possible.</span></span>

<span data-ttu-id="10b17-216">本节中的主题介绍每个基本要素如何工作以增强 SfBO 服务的安全性。</span><span class="sxs-lookup"><span data-stu-id="10b17-216">The topics in this section describe how each of these fundamental elements works to enhance the security of the SfBO service.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="10b17-217">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="10b17-217">Azure Active Directory</span></span>
<span data-ttu-id="10b17-218">Azure Active Directory 充当 O365 的目录服务。</span><span class="sxs-lookup"><span data-stu-id="10b17-218">Azure Active Directory functions as the directory service for O365.</span></span> <span data-ttu-id="10b17-219">它存储所有的用户目录信息和策略分配。</span><span class="sxs-lookup"><span data-stu-id="10b17-219">It stores all user directory information and policy assignments.</span></span> 

### <a name="public-key-infrastructure-for-sfbo"></a><span data-ttu-id="10b17-220">SfBO 的公钥基础架构</span><span class="sxs-lookup"><span data-stu-id="10b17-220">Public Key Infrastructure for SfBO</span></span>
<span data-ttu-id="10b17-221">SfBO 服务依靠证书进行服务器身份验证以及建立之间的不同服务器角色和客户端和服务器之间的信任链。</span><span class="sxs-lookup"><span data-stu-id="10b17-221">SfBO service relies on certificates for server authentication and to establish a chain of trust between clients and servers and among the different server roles.</span></span> <span data-ttu-id="10b17-222">Windows Server 公钥基础架构 (PKI) 为建立和验证此信任链提供了基础架构。</span><span class="sxs-lookup"><span data-stu-id="10b17-222">The Windows Server public key infrastructure (PKI) provides the infrastructure for establishing and validating this chain of trust.</span></span>
<span data-ttu-id="10b17-223">证书是数字 ID。</span><span class="sxs-lookup"><span data-stu-id="10b17-223">Certificates are digital IDs.</span></span> <span data-ttu-id="10b17-224">它们通过名称来标识某台服务器并指定其属性。</span><span class="sxs-lookup"><span data-stu-id="10b17-224">They identify a server by name and specify its properties.</span></span> <span data-ttu-id="10b17-225">若要确保该证书上的信息有效，证书必须颁发由受信任的客户端或连接到服务器的其他服务器的证书颁发机构 (CA)。</span><span class="sxs-lookup"><span data-stu-id="10b17-225">To ensure that the information on a certificate is valid, the certificate must be issued by a Certificate Authority (CA) that is trusted by clients or other servers that connect to the server.</span></span> <span data-ttu-id="10b17-226">如果服务器仅与专用网络中的其他客户端和服务器建立连接，则 CA 可以是企业 CA。</span><span class="sxs-lookup"><span data-stu-id="10b17-226">If the server connects only with other clients and servers on a private network, the CA can be an enterprise CA.</span></span> <span data-ttu-id="10b17-227">如果服务器与专用网络外部的实体进行交互，则可能需要公共 CA。</span><span class="sxs-lookup"><span data-stu-id="10b17-227">If the server interacts with entities outside the private network, a public CA might be required.</span></span>

<span data-ttu-id="10b17-228">即使证书上的信息是有效的，也必须通过某些方法来确认提供证书的服务器实际上就是证书所代表的服务器。</span><span class="sxs-lookup"><span data-stu-id="10b17-228">Even if the information on the certificate is valid, there must be some way to verify that the server presenting the certificate is actually the one represented by the certificate.</span></span> <span data-ttu-id="10b17-229">在这种情况下可以使用 Windows PKI。</span><span class="sxs-lookup"><span data-stu-id="10b17-229">This is where the Windows PKI comes in.</span></span>
<span data-ttu-id="10b17-230">每个证书都链接到一个公钥。</span><span class="sxs-lookup"><span data-stu-id="10b17-230">Each certificate is linked to a public key.</span></span> <span data-ttu-id="10b17-231">证书上指明的服务器持有一个只有它自己知道的对应的私钥。</span><span class="sxs-lookup"><span data-stu-id="10b17-231">The server named on the certificate holds a corresponding private key that only it knows.</span></span> <span data-ttu-id="10b17-232">连接的客户端或服务器使用公钥对随机的信息段进行加密并将其发送到该服务器。</span><span class="sxs-lookup"><span data-stu-id="10b17-232">A connecting client or server uses the public key to encrypt a random piece of information and sends it to the server.</span></span> <span data-ttu-id="10b17-233">如果该服务器将此信息解密并以纯文本形式返回此信息，则连接的实体就可以确定该服务器持有证书的私钥，因此该服务器即是证书上指明的服务器。</span><span class="sxs-lookup"><span data-stu-id="10b17-233">If the server decrypts the information and returns it as plain text, the connecting entity can be sure that the server holds the private key to the certificate and therefore is the server named on the certificate.</span></span>

#### <a name="crl-distribution-points"></a><span data-ttu-id="10b17-234">CRL 分发点</span><span class="sxs-lookup"><span data-stu-id="10b17-234">CRL Distribution Points</span></span>
<span data-ttu-id="10b17-235">SfBO 要求所有服务器证书包含一个或多个证书吊销列表 (CRL) 分发点。</span><span class="sxs-lookup"><span data-stu-id="10b17-235">SfBO requires all server certificates to contain one or more Certificate Revocation List (CRL) distribution points.</span></span> <span data-ttu-id="10b17-236">可从 CRL 分发点 (CDP) 下载 CRL，以便确认证书自颁发以来未被吊销且仍处于有效期内。</span><span class="sxs-lookup"><span data-stu-id="10b17-236">CRL distribution points (CDPs) are locations from which CRLs can be downloaded for purposes of verifying that the certificate has not been revoked since the time it was issued and the certificate is still within the validity period.</span></span> <span data-ttu-id="10b17-237">CRL 分发点作为 URL 证书的属性中记下，安全 HTTP。</span><span class="sxs-lookup"><span data-stu-id="10b17-237">A CRL distribution point is noted in the properties of the certificate as a URL and is secure HTTP.</span></span>  <span data-ttu-id="10b17-238">SfBO 服务使用每个证书身份验证来检查 CRL。</span><span class="sxs-lookup"><span data-stu-id="10b17-238">The SfBO service checks CRL with every certificate authentication.</span></span>

#### <a name="enhanced-key-usage"></a><span data-ttu-id="10b17-239">增强型密钥使用</span><span class="sxs-lookup"><span data-stu-id="10b17-239">Enhanced Key Usage</span></span>
<span data-ttu-id="10b17-240">SfBO 服务的所有组件都要求所有服务器证书支持增强型密钥使用 (EKU)，以用于服务器身份验证。</span><span class="sxs-lookup"><span data-stu-id="10b17-240">All components of the SfBO service require all server certificates to support Enhanced Key Usage (EKU) for the purpose of server authentication.</span></span> <span data-ttu-id="10b17-241">配置用于服务器身份验证的 EKU 字段意味着证书可以对服务器进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="10b17-241">Configuring the EKU field for server authentication means that the certificate is valid for the purpose of authenticating servers.</span></span> <span data-ttu-id="10b17-242">此 EKU 对 MTLS 至关重要。</span><span class="sxs-lookup"><span data-stu-id="10b17-242">This EKU is essential for MTLS.</span></span> 

### <a name="tls-and-mtls-for-sfbo"></a><span data-ttu-id="10b17-243">用于 SfBO 的 TLS 和 MTLS</span><span class="sxs-lookup"><span data-stu-id="10b17-243">TLS and MTLS for SfBO</span></span>
<span data-ttu-id="10b17-244">TLS 和 MTLS 协议提供 Internet 上的加密的通信和终结点身份验证。</span><span class="sxs-lookup"><span data-stu-id="10b17-244">TLS and MTLS protocols provide encrypted communications and endpoint authentication on the Internet.</span></span> <span data-ttu-id="10b17-245">SfBO 使用这两项协议来创建受信任的服务器网络并确保网络上的所有通信进行都加密。</span><span class="sxs-lookup"><span data-stu-id="10b17-245">SfBO uses these two protocols to create the network of trusted servers and to ensure that all communications over that network are encrypted.</span></span> <span data-ttu-id="10b17-246">服务器之间的所有 SIP 通信都通过 MTLS 进行。</span><span class="sxs-lookup"><span data-stu-id="10b17-246">All SIP communications between servers occur over MTLS.</span></span> <span data-ttu-id="10b17-247">从客户端到服务器的 SIP 通信都通过 TLS 进行。</span><span class="sxs-lookup"><span data-stu-id="10b17-247">SIP communications from client to server occur over TLS.</span></span>

<span data-ttu-id="10b17-248">TLS，用户，通过其客户端软件，可以对他们连接到 SfBO 服务器身份验证。</span><span class="sxs-lookup"><span data-stu-id="10b17-248">TLS enables users, through their client software, to authenticate the SfBO servers to which they connect.</span></span> <span data-ttu-id="10b17-249">在 TLS 连接上，客户端从服务器请求有效证书。</span><span class="sxs-lookup"><span data-stu-id="10b17-249">On a TLS connection, the client requests a valid certificate from the server.</span></span> <span data-ttu-id="10b17-250">有效证书必须满足以下条件：由受客户端信任的 CA 颁发，且服务器的 DNS 名称必须与证书上的 DNS 名称一致。</span><span class="sxs-lookup"><span data-stu-id="10b17-250">To be valid, the certificate must have been issued by a CA that is also trusted by the client and the DNS name of the server must match the DNS name on the certificate.</span></span> <span data-ttu-id="10b17-251">如果证书有效，则客户端使用证书中的公钥对用于通信的对称加密密钥进行加密，因此只有证书的原始所有者可以使用其私钥对通信内容进行解密。</span><span class="sxs-lookup"><span data-stu-id="10b17-251">If the certificate is valid, the client uses the public key in the certificate to encrypt the symmetric encryption keys to be used for the communication, so only the original owner of the certificate can use its private key to decrypt the contents of the communication.</span></span> <span data-ttu-id="10b17-252">生成的连接将会受到信任，之后再不会受到其他受信任的服务器或客户端的质询。</span><span class="sxs-lookup"><span data-stu-id="10b17-252">The resulting connection is trusted and from that point is not challenged by other trusted servers or clients.</span></span> <span data-ttu-id="10b17-253">在此上下文中，可将用于 Web 服务的安全套接字层 (SSL) 视为是基于 TLS 的。</span><span class="sxs-lookup"><span data-stu-id="10b17-253">Within this context, Secure Sockets Layer (SSL) as used with Web services can be associated as TLS-based.</span></span>

<span data-ttu-id="10b17-254">服务器到服务器的连接依靠相互 TLS (MTLS) 进行相互验证。</span><span class="sxs-lookup"><span data-stu-id="10b17-254">Server-to-server connections rely on mutual TLS (MTLS) for mutual authentication.</span></span> <span data-ttu-id="10b17-255">在 MTLS 连接上，发出消息的服务器和接收消息的服务器交换来自相互信任的 CA 的证书。</span><span class="sxs-lookup"><span data-stu-id="10b17-255">On an MTLS connection, the server originating a message and the server receiving it exchange certificates from a mutually trusted CA.</span></span> <span data-ttu-id="10b17-256">证书可向一台服务器证明另一台服务器的身份。</span><span class="sxs-lookup"><span data-stu-id="10b17-256">The certificates prove the identity of each server to the other.</span></span> <span data-ttu-id="10b17-257">在 SfBO 服务中，遵循此程序。</span><span class="sxs-lookup"><span data-stu-id="10b17-257">In the SfBO service, this procedure is followed.</span></span>

<span data-ttu-id="10b17-258">TLS 和 MTLS 有助于防止窃听攻击和中间人攻击。</span><span class="sxs-lookup"><span data-stu-id="10b17-258">TLS and MTLS help prevent both eavesdropping and man-in-the middle attacks.</span></span> <span data-ttu-id="10b17-259">在中间人攻击中，攻击者将通过其计算机重新路由两个网络实体之间的通信，而这两个网络实体对此毫不知情。</span><span class="sxs-lookup"><span data-stu-id="10b17-259">In a man-in-the-middle attack, the attacker reroutes communications between two network entities through the attacker’s computer without the knowledge of either party.</span></span> <span data-ttu-id="10b17-260">TLS 和 SfBO 的受信任的服务器的规范缓解部分应用程序图层上手册中中间攻击的风险使用协调使用之间的两个端点公钥加密的端到端加密和攻击者必须为具有有效并可信证书与相应的专用密钥和颁发给到客户端通信进行解密通信服务的名称。</span><span class="sxs-lookup"><span data-stu-id="10b17-260">TLS and SfBO’s specification of trusted servers mitigate the risk of a man-in-the middle attack partially on the application layer by using end-to-end encryption coordinated using the Public Key cryptography between the two endpoints, and an attacker would have to have a valid and trusted certificate with the corresponding private key and issued to the name of the service to which the client is communicating to decrypt the communication.</span></span> 

### <a name="encryption-for-sfbo"></a><span data-ttu-id="10b17-261">SfBO 的加密</span><span class="sxs-lookup"><span data-stu-id="10b17-261">Encryption for SfBO</span></span>
<span data-ttu-id="10b17-262">SfBO 使用 TLS 和 MTLS 来加密即时消息。</span><span class="sxs-lookup"><span data-stu-id="10b17-262">SfBO uses TLS and MTLS to encrypt instant messages.</span></span> <span data-ttu-id="10b17-263">无论通信是限制在内部网络还是跨内部网络外围，所有服务器到服务器的通信都需要使用 MTLS。</span><span class="sxs-lookup"><span data-stu-id="10b17-263">All server-to-server traffic requires MTLS, regardless of whether the traffic is confined to the internal network or crosses the internal network perimeter.</span></span>

<span data-ttu-id="10b17-264">下表总结了 SfBO 使用的协议。</span><span class="sxs-lookup"><span data-stu-id="10b17-264">The following table summarizes the protocol used by SfBO.</span></span>

<span data-ttu-id="10b17-265">***表 3  - 流量保护***</span><span class="sxs-lookup"><span data-stu-id="10b17-265">***Table 3 - Traffic Protection***</span></span>

<!--start table here with header -->


|||
|:-----|:-----|
|<span data-ttu-id="10b17-266">**通信类型**</span><span class="sxs-lookup"><span data-stu-id="10b17-266">**Traffic type**</span></span>|<span data-ttu-id="10b17-267">**保护协议**</span><span class="sxs-lookup"><span data-stu-id="10b17-267">**Protected by**</span></span>|
|<span data-ttu-id="10b17-268">服务器到服务器</span><span class="sxs-lookup"><span data-stu-id="10b17-268">Server-to-server</span></span>|<span data-ttu-id="10b17-269">MTLS</span><span class="sxs-lookup"><span data-stu-id="10b17-269">MTLS</span></span>|
|<span data-ttu-id="10b17-270">客户端到服务器</span><span class="sxs-lookup"><span data-stu-id="10b17-270">Client-to-server</span></span>|<span data-ttu-id="10b17-271">TLS</span><span class="sxs-lookup"><span data-stu-id="10b17-271">TLS</span></span>|
|<span data-ttu-id="10b17-272">即时消息和状态</span><span class="sxs-lookup"><span data-stu-id="10b17-272">Instant messaging and presence</span></span>|<span data-ttu-id="10b17-273">TLS（如果已配置 TLS）</span><span class="sxs-lookup"><span data-stu-id="10b17-273">TLS (if configured for TLS)</span></span>|
|<span data-ttu-id="10b17-274">音频、视频和媒体的桌面共享</span><span class="sxs-lookup"><span data-stu-id="10b17-274">Audio and video and desktop sharing of media</span></span>|<span data-ttu-id="10b17-275">SRTP</span><span class="sxs-lookup"><span data-stu-id="10b17-275">SRTP</span></span>|
|<span data-ttu-id="10b17-276">桌面共享（信号）</span><span class="sxs-lookup"><span data-stu-id="10b17-276">Desktop sharing (signaling)</span></span>|<span data-ttu-id="10b17-277">TLS</span><span class="sxs-lookup"><span data-stu-id="10b17-277">TLS</span></span>|
|<span data-ttu-id="10b17-278">Web 会议</span><span class="sxs-lookup"><span data-stu-id="10b17-278">Web conferencing</span></span>|<span data-ttu-id="10b17-279">TLS</span><span class="sxs-lookup"><span data-stu-id="10b17-279">TLS</span></span>|
|<span data-ttu-id="10b17-280">会议内容下载、通讯簿下载和通讯组扩展</span><span class="sxs-lookup"><span data-stu-id="10b17-280">Meeting content download, address book download, distribution group expansion</span></span>|<span data-ttu-id="10b17-281">HTTPS</span><span class="sxs-lookup"><span data-stu-id="10b17-281">HTTPS</span></span>|
|||

<!-- end of table -->

#### <a name="media-encryption"></a><span data-ttu-id="10b17-282">媒体加密</span><span class="sxs-lookup"><span data-stu-id="10b17-282">Media Encryption</span></span>
<span data-ttu-id="10b17-283">媒体通信使用安全 RTP (SRTP) 进行加密，SRTP 是为 RTP 通信提供保密性、身份验证和重播攻击保护的实时传输协议 (RTP) 的配置文件。</span><span class="sxs-lookup"><span data-stu-id="10b17-283">Media traffic is encrypted using Secure RTP (SRTP), a profile of Real-Time Transport Protocol (RTP) that provides confidentiality, authentication, and replay attack protection to RTP traffic.</span></span> <span data-ttu-id="10b17-284">SRTP 使用通过安全随机号码生成器生成的会话密钥，并使用信令 TLS 信道进行交换。</span><span class="sxs-lookup"><span data-stu-id="10b17-284">SRTP uses a session key generated by using a secure random number generator and exchanged using the signaling TLS channel.</span></span> <span data-ttu-id="10b17-285">此外，中介服务器与其内部下一个跃点之间的双向媒体流也使用 SRTP 进行加密。</span><span class="sxs-lookup"><span data-stu-id="10b17-285">In addition, media flowing in both directions between the Mediation Server and its internal next hop is also encrypted using SRTP.</span></span> 

<span data-ttu-id="10b17-286">SfBO 通过 TURN 生成用户名/密码以安全访问媒体中继。</span><span class="sxs-lookup"><span data-stu-id="10b17-286">SfBO generates username/passwords for secure access to media relays over TURN.</span></span> <span data-ttu-id="10b17-287">媒体中继通过 TLS 安全 SIP 信道交换用户名/密码。</span><span class="sxs-lookup"><span data-stu-id="10b17-287">Media relays exchange the username/password over a TLS-secured SIP channel.</span></span>

#### <a name="fips"></a><span data-ttu-id="10b17-288">FIPS</span><span class="sxs-lookup"><span data-stu-id="10b17-288">FIPS</span></span>
<span data-ttu-id="10b17-289">SfBO 使用符合 FIPS（联邦信息处理标准）的算法进行加密密钥交换。</span><span class="sxs-lookup"><span data-stu-id="10b17-289">SfBO uses FIPS (Federal Information Processing Standard) compliant algorithms for encryption key exchanges.</span></span> 

### <a name="user-and-client-authentication"></a><span data-ttu-id="10b17-290">用户和客户端身份验证</span><span class="sxs-lookup"><span data-stu-id="10b17-290">User and Client Authentication</span></span> 
<span data-ttu-id="10b17-291">受信任的用户是指其凭据已经过身份验证通过 AAD O365 中。</span><span class="sxs-lookup"><span data-stu-id="10b17-291">A trusted user is one whose credentials have been authenticated by AAD in O365.</span></span> 

<span data-ttu-id="10b17-292">身份验证是到受信任的服务器或服务的用户凭据的设置。</span><span class="sxs-lookup"><span data-stu-id="10b17-292">Authentication is the provision of user credentials to a trusted server or service.</span></span> <span data-ttu-id="10b17-293">SfBO 使用以下身份验证协议，具体取决于状态和用户的位置。</span><span class="sxs-lookup"><span data-stu-id="10b17-293">SfBO uses the following authentication protocols, depending on the status and location of the user.</span></span>
- <span data-ttu-id="10b17-294">**现代身份验证**是 Microsoft 为实现客户端到服务器的通信而实施 OAUTH 2.0 的过程。</span><span class="sxs-lookup"><span data-stu-id="10b17-294">**Modern Authentication** is the Microsoft implementation of OAUTH 2.0 for client to server communication.</span></span> <span data-ttu-id="10b17-295">它支持众多安全功能，如 O365 基于证书的身份验证、O365 多因素身份验证和 O365 条件访问等。</span><span class="sxs-lookup"><span data-stu-id="10b17-295">It enables security features such as O365 Certificate Based Authentication, O365 Multi-Factor Authentication and O365 Conditional Access.</span></span>  <span data-ttu-id="10b17-296">为使用 MA，在线租户和客户端都需要启用 MA。</span><span class="sxs-lookup"><span data-stu-id="10b17-296">In order to use MA, both the online tenant and the clients need to be enabled for MA.</span></span>  <span data-ttu-id="10b17-297">2017 年 5 月之后创建的 SfBO 租户默认启用 MA。</span><span class="sxs-lookup"><span data-stu-id="10b17-297">SfBO tenants created after May 2017 have MA enabled by default.</span></span>  <span data-ttu-id="10b17-298">此时间之前创建的租户，请按照此处的说明予以启用。</span><span class="sxs-lookup"><span data-stu-id="10b17-298">For tenants created before this time, follow the instructions here to turn it on.</span></span>  <span data-ttu-id="10b17-299">以下客户端均支持 MA：Skype for Business 2015 或 2016 客户端、Skype for Business Mac、Lync 2013 客户端、3PIP IP 电话、iOS 和 Android。</span><span class="sxs-lookup"><span data-stu-id="10b17-299">The following clients all support MA: Skype for Business 2015 or 2016 client, Skype for Business on Mac, Lync 2013 client, 3PIP IP Phones, iOS, and Android.</span></span> 
- <span data-ttu-id="10b17-300">**组织 ID** 在现代身份验证未启用（或不可用）时使用</span><span class="sxs-lookup"><span data-stu-id="10b17-300">**Org ID** is used when Modern Authentication is not enabled (or not available)</span></span>
- <span data-ttu-id="10b17-p135">**摘要式协议** - 用于所谓的匿名用户。匿名用户是指满足以下条件的外部用户：这些用户虽然不具备认可的 Active Directory 凭据，但已被邀请参与内部会议并且拥有有效的会议密钥。摘要式身份验证不用于其他客户端交互。</span><span class="sxs-lookup"><span data-stu-id="10b17-p135">**Digest protocol** for so-called anonymous users. Anonymous users are outside users who do not have recognized Active Directory credentials but who have been invited to an on-premises conference and possess a valid conference key. Digest authentication is not used for other client interactions.</span></span>

<span data-ttu-id="10b17-304">SfBO 身份验证包括以下两个阶段：</span><span class="sxs-lookup"><span data-stu-id="10b17-304">SfBO authentication consists of two phases:</span></span>
1. <span data-ttu-id="10b17-305">在客户端和服务器之间建立安全关联。</span><span class="sxs-lookup"><span data-stu-id="10b17-305">A security association is established between the client and the server.</span></span>
2. <span data-ttu-id="10b17-p136">客户端和服务器使用现有的安全关联签署它们发送的消息，以及验证所收到的消息。如果在服务器上启用了身份验证，则不会接受来自客户端的未经身份验证的消息。</span><span class="sxs-lookup"><span data-stu-id="10b17-p136">The client and server use the existing security association to sign messages that they send and to verify the messages they receive. Unauthenticated messages from a client are not accepted when authentication is enabled on the server.</span></span>

<span data-ttu-id="10b17-308">用户信任会附加到用户发出的每条消息，而不会附加到用户标识本身。</span><span class="sxs-lookup"><span data-stu-id="10b17-308">User trust is attached to each message that originates from a user, not to the user identity itself.</span></span> <span data-ttu-id="10b17-309">服务器将检查每条消息是否具有有效的用户凭据。</span><span class="sxs-lookup"><span data-stu-id="10b17-309">The server checks each message for valid user credentials.</span></span> <span data-ttu-id="10b17-310">如果用户凭据有效，对消息进行质询不只能由第一台服务器接收但 SfBO 中的所有其他服务器。</span><span class="sxs-lookup"><span data-stu-id="10b17-310">If the user credentials are valid, the message is unchallenged not only by the first server to receive it but by all other servers in SfBO.</span></span>

<span data-ttu-id="10b17-311">拥有联盟伙伴颁发的有效凭据的用户会受到信任，但其他限制可能会阻止这些用户享有与内部用户相同的全部权限。</span><span class="sxs-lookup"><span data-stu-id="10b17-311">Users with valid credentials issued by a federated partner are trusted but optionally prevented by additional constraints from enjoying the full range of privileges accorded to internal users.</span></span>

<span data-ttu-id="10b17-312">对于媒体身份验证，ICE 和 TURN 协议也使用摘要式质询，如 IETF TURN RFC 中所述。</span><span class="sxs-lookup"><span data-stu-id="10b17-312">For media authentication, the ICE and TURN protocols also use the Digest challenge as described in the IETF TURN RFC.</span></span> <span data-ttu-id="10b17-313">有关详情，请参阅[媒体遍历](#external-user-av-traffic-traversal)。</span><span class="sxs-lookup"><span data-stu-id="10b17-313">For details, see [media traversal](#external-user-av-traffic-traversal).</span></span>

<span data-ttu-id="10b17-314">客户端证书提供用户进行身份验证 SFBO 另一种的方法。</span><span class="sxs-lookup"><span data-stu-id="10b17-314">Client certificates provide an alternate way for users to be authenticated by SFBO.</span></span> <span data-ttu-id="10b17-315">用户无需提供用户名和密码，因为他们具有证书以及解析加密质询所需的与证书对应的私钥。</span><span class="sxs-lookup"><span data-stu-id="10b17-315">Instead of providing a user name and password, users have a certificate and the private key corresponding to the certificate that is required to resolve a cryptographic challenge.</span></span> 

### <a name="windows-powershell-and-sfbo-management-tools"></a><span data-ttu-id="10b17-316">Windows PowerShell 和 SfBO 管理工具</span><span class="sxs-lookup"><span data-stu-id="10b17-316">Windows PowerShell and SfBO Management Tools</span></span>
<span data-ttu-id="10b17-317">在 SfBO 中，IT 管理员可以通过 O365 管理门户或使用 Tenant Remote PowerShell（TRPS）管理他们的服务。</span><span class="sxs-lookup"><span data-stu-id="10b17-317">In SfBO, IT Admins can manage their service via the O365 Admin portal or by using Tenant Remote PowerShell (TRPS).</span></span>  <span data-ttu-id="10b17-318">租户管理员使用现代身份验证向 TRPS 进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="10b17-318">Tenant admins use Modern Authentication to authenticate to TRPS.</span></span>

### <a name="configuring-access-to-sfbo-at-your-internet-boundary"></a><span data-ttu-id="10b17-319">在 Internet 边界配置对 SfBO 的访问</span><span class="sxs-lookup"><span data-stu-id="10b17-319">Configuring Access to SfBO at your Internet Boundary</span></span>
<span data-ttu-id="10b17-320">为 SfBO 协同工作 （用户能够加入会议等），客户需要配置其 internet 访问以便允许 SfBO 云服务的出站 UDP 和 TCP 通信。</span><span class="sxs-lookup"><span data-stu-id="10b17-320">For SfBO to function properly (users able to join meetings etc.), customers need to configure their internet access such that outbound UDP and TCP traffic to services in the SfBO cloud is allowed.</span></span>  <span data-ttu-id="10b17-321">有关详细信息，请参阅此处：https://support.office.com/en-us/article/Office-365-URLs-and-IP-address-ranges-8548a211-3fe7-47cb-abb1-355ea5aa88a2#bkmk_lyo</span><span class="sxs-lookup"><span data-stu-id="10b17-321">For more details, see here: https://support.office.com/en-us/article/Office-365-URLs-and-IP-address-ranges-8548a211-3fe7-47cb-abb1-355ea5aa88a2#bkmk_lyo</span></span> 

### <a name="udp-3478-3481-and-tcp-443"></a><span data-ttu-id="10b17-322">UDP 3478-3481 和 TCP 443</span><span class="sxs-lookup"><span data-stu-id="10b17-322">UDP 3478-3481 and TCP 443</span></span>

<span data-ttu-id="10b17-323">客户端使用 UDP 3478-3481 和 TCP 443 端口向 A/V 边缘服务请求服务。</span><span class="sxs-lookup"><span data-stu-id="10b17-323">The UDP 3478-3481 and TCP 443 ports are used by clients to request service from the A/V Edge service.</span></span> <span data-ttu-id="10b17-324">客户端使用这两个端口分别分配 UDP 和 TCP 端口以供远程方连接。</span><span class="sxs-lookup"><span data-stu-id="10b17-324">A client uses these two ports to allocate UDP and TCP ports respectively for the remote party to connect to.</span></span> <span data-ttu-id="10b17-325">要访问 A/V 边缘服务，客户端必须首先与 SFBO 注册服务器建立经过验证的 SIP 信令会话，以获取 A/V 边缘服务身份验证证书。</span><span class="sxs-lookup"><span data-stu-id="10b17-325">To access the A/V Edge service, the client must first have established an authenticated SIP signaling session with SFBO registrar to obtain A/V Edge service authentication credentials.</span></span> <span data-ttu-id="10b17-326">这些值通过 TLS 保护的信令信道发送，并通过计算机生成以减轻字典式攻击。</span><span class="sxs-lookup"><span data-stu-id="10b17-326">These values are sent across the TLS-protected signaling channel and are computer generated to mitigate against dictionary attacks.</span></span> <span data-ttu-id="10b17-327">然后，客户端可以使用这些证书执行摘要式身份验证，使用 A/V 边缘服务分配端口以用于媒体会话。</span><span class="sxs-lookup"><span data-stu-id="10b17-327">Clients can then use these credentials for digest authentication with the A/V Edge service to allocate ports for use in a media session.</span></span> <span data-ttu-id="10b17-328">初始分配请求从客户端发送，并使用来自 A/V 边缘服务的 401 随机 nonce/质询消息进行响应。</span><span class="sxs-lookup"><span data-stu-id="10b17-328">An initial allocate request is sent from the client and responded with a 401 nonce/challenge message from the A/V Edge service.</span></span> <span data-ttu-id="10b17-329">客户端发送第二个分配，其中包含用户名以及用户名和 nonce 的哈希消息验证代码 (HMAC) 哈希。</span><span class="sxs-lookup"><span data-stu-id="10b17-329">The client sends a second allocate containing the user name and a Hash Message Authentication Code (HMAC) hash of the user name and nonce.</span></span> 

<span data-ttu-id="10b17-330">序列号机制也可以防止重播攻击。</span><span class="sxs-lookup"><span data-stu-id="10b17-330">A sequence number mechanism is also in place to prevent replay attacks.</span></span> <span data-ttu-id="10b17-331">服务器根据自己对用户名和密码的了解计算预期的 HMAC，如果 HMAC 值匹配，则执行分配过程。否则，数据包将被丢弃。</span><span class="sxs-lookup"><span data-stu-id="10b17-331">The server calculates the expected HMAC based on its own knowledge of the user name and password and if the HMAC values match, the allocate procedure is carried out. Otherwise, the packet is dropped.</span></span> <span data-ttu-id="10b17-332">相同的 HMAC 机制也适用于此呼叫会话中的后续消息。</span><span class="sxs-lookup"><span data-stu-id="10b17-332">This same HMAC mechanism is also applied to subsequent messages within this call session.</span></span> <span data-ttu-id="10b17-333">此用户名/密码值的生存期最长为 8 个小时，之后客户端需重新获取新用户名/密码以用于后续呼叫。</span><span class="sxs-lookup"><span data-stu-id="10b17-333">The lifetime of this user name/password value is a maximum of eight hours at which time the client reacquires a new user name/password for subsequent calls.</span></span>

### <a name="udptcp-50000-59999"></a><span data-ttu-id="10b17-334">UDP / TCP 50,000-59,999</span><span class="sxs-lookup"><span data-stu-id="10b17-334">UDP/TCP 50,000– 59,999</span></span>
<span data-ttu-id="10b17-335">TCP 50,000 出站用于 SfBO，包括应用程序和桌面共享以及文件传输。</span><span class="sxs-lookup"><span data-stu-id="10b17-335">TCP 50,000 outbound is used for SfBO, including for application and desktop sharing, file transfer.</span></span> <span data-ttu-id="10b17-336">UDP/TCP 50,000-59,999 端口范围用于与 Microsoft Office Communications Server 2007 合作伙伴的媒体会话，这些合作伙伴需要 A/V 边缘服务提供的 NAT/防火墙遍历服务。</span><span class="sxs-lookup"><span data-stu-id="10b17-336">UDP/TCP 50,000-59,999 port ranges are used for media sessions with Microsoft Office Communications Server 2007 partners that require NAT/firewall traversal service from the A/V Edge service.</span></span> <span data-ttu-id="10b17-337">因为 A/V 边缘服务是使用这些端口的唯一进程，所以端口范围的大小并不表示潜在的攻击面。</span><span class="sxs-lookup"><span data-stu-id="10b17-337">Because the A/V Edge service is the sole process using these ports, the size of the port range does not indicate the potential surface of attack.</span></span> <span data-ttu-id="10b17-338">良好的安全做法是：始终不运行不必要的网络服务，以最大限度地减少监听端口的总数。</span><span class="sxs-lookup"><span data-stu-id="10b17-338">Good security practice is to always minimize the total number of listening ports by not running unnecessary network services.</span></span> <span data-ttu-id="10b17-339">如果网络服务未运行，远程攻击者将无法利用该网络服务，并且主机的攻击面减少。</span><span class="sxs-lookup"><span data-stu-id="10b17-339">If a network service is not running, it is not exploitable by a remote attacker and the surface of attack of the host computer is reduced.</span></span> <span data-ttu-id="10b17-340">但是，在单一服务中，减少端口数量不会产生同样的好处。</span><span class="sxs-lookup"><span data-stu-id="10b17-340">However, within a single service, reducing the number of ports does not provide the same benefit.</span></span> <span data-ttu-id="10b17-341">A/V 边缘服务软件打开 10,000 个端口时并不会比打开 10 个端口时更容易受到攻击。</span><span class="sxs-lookup"><span data-stu-id="10b17-341">The A/V Edge service software is no more exposed to attack with 10,000 ports open as it is with 10.</span></span> <span data-ttu-id="10b17-342">此范围内的端口分配是随机完成的，并且当前未分配的端口不侦听数据包。</span><span class="sxs-lookup"><span data-stu-id="10b17-342">The allocation of ports within this range is done randomly and ports not currently allocated do not listen for packets.</span></span>
 
### <a name="external-user-av-traffic-traversal"></a><span data-ttu-id="10b17-343">外部用户 A/V 流量遍历</span><span class="sxs-lookup"><span data-stu-id="10b17-343">External User A/V Traffic Traversal</span></span>
<span data-ttu-id="10b17-344">如要让外部用户和内部用户能够交换媒体，则需访问边缘服务来处理建立和 终结会话所需的 SIP 信号。</span><span class="sxs-lookup"><span data-stu-id="10b17-344">Enabling external users and internal users to exchange media requires an Access Edge service to handle the SIP signaling that is necessary to set up and tear down a session.</span></span> <span data-ttu-id="10b17-345">此外还需要 A/V 边缘服务充当媒体传输的中继。</span><span class="sxs-lookup"><span data-stu-id="10b17-345">It also requires an A/V Edge service to act as a relay for the transfer of the media.</span></span> <span data-ttu-id="10b17-346">呼叫顺序如下图所示。</span><span class="sxs-lookup"><span data-stu-id="10b17-346">The call sequence is illustrated in the following figure.</span></span>


![在会议加入中的呼叫顺序](media/sfbo-call-sequence-security.png) 

1. <span data-ttu-id="10b17-348">用户收到一封电子邮件，其中包含加入 SfBO 会议的邀请。</span><span class="sxs-lookup"><span data-stu-id="10b17-348">A user receives an email containing an invitation to join an SfBO meeting.</span></span> <span data-ttu-id="10b17-349">该电子邮件包含会议密钥和基于 HTTP 的会议链接 URL。</span><span class="sxs-lookup"><span data-stu-id="10b17-349">The email contains a conference key and a HTTP-based URL linking to the conference.</span></span> <span data-ttu-id="10b17-350">密钥和网址对于特定会议而言都是唯一的。</span><span class="sxs-lookup"><span data-stu-id="10b17-350">Both the key and the URL are unique for a particular meeting.</span></span><p><span data-ttu-id="10b17-351">用户单击电子邮件中的会议 URL，此操作将启动用户计算机上的客户端检测流程，以便让用户加入会议。</span><span class="sxs-lookup"><span data-stu-id="10b17-351">The user initiates the join procedure by clicking the meeting URL in the email which initiates a client detection process on the user’s machine.</span></span>  <span data-ttu-id="10b17-352">如果检测到客户端，则启动该客户端。</span><span class="sxs-lookup"><span data-stu-id="10b17-352">If the client is detected, this client is launched.</span></span>  <span data-ttu-id="10b17-353">否则，用户将重定向到 Web 客户端。</span><span class="sxs-lookup"><span data-stu-id="10b17-353">If it is not detected, the user is redirected to the web client.</span></span><p/>
2. <span data-ttu-id="10b17-354">SfBO 客户端发送包含用户证书的 SIP INVITE。</span><span class="sxs-lookup"><span data-stu-id="10b17-354">The SfBO client sends a SIP INVITE containing the user’s credentials.</span></span> <span data-ttu-id="10b17-355">联合或远程用户使用其企业证书加入会议。</span><span class="sxs-lookup"><span data-stu-id="10b17-355">A federated or remote user joins a conferencing using their enterprise credentials.</span></span> <span data-ttu-id="10b17-356">对于联合用户，SIP INVITE 首先会发送到他或她的家庭服务器，后者对用户进行身份验证并将 INVITE 转发给 SfBO。</span><span class="sxs-lookup"><span data-stu-id="10b17-356">For a federated user, the SIP INVITE is first sent to his or her home server, which authenticates the user and forwards the INVITE to SfBO.</span></span> <span data-ttu-id="10b17-357">匿名用户需通过摘要式身份验证。</span><span class="sxs-lookup"><span data-stu-id="10b17-357">An anonymous user is required to pass digest authentication.</span></span><p><span data-ttu-id="10b17-358">SfBO 对远程或匿名用户进行身份验证，并通知客户端。</span><span class="sxs-lookup"><span data-stu-id="10b17-358">SfBO authenticates the remote or anonymous user and notifies the client.</span></span> <span data-ttu-id="10b17-359">如步骤 2 所述，加入会议的联合用户由他们的企业进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="10b17-359">As mentioned in step 2, federated users joining a conference are authenticated by their enterprise.</span></span><p/>

3. <span data-ttu-id="10b17-360">客户端发送 INFO 请求以将用户添加到 A/V 会议。</span><span class="sxs-lookup"><span data-stu-id="10b17-360">The client sends an INFO request to add the user to the A/V conference.</span></span>

    <span data-ttu-id="10b17-361">A/V 会议发送“添加用户”响应，其中包含需向 AV 会议边缘服务提供的令牌和其他信息。</span><span class="sxs-lookup"><span data-stu-id="10b17-361">The A/V conferences sends an Add User response that contains the token to present to the AV Conferencing Edge service among other information.</span></span>

    <span data-ttu-id="10b17-362">[注意] 所有上述 SIP 流量都将流经访问边缘服务。</span><span class="sxs-lookup"><span data-stu-id="10b17-362">[Note]  All the preceding SIP traffic flowed through the Access Edge service.</span></span>

    <span data-ttu-id="10b17-363">客户端连接到 A/V 会议服务器，后者验证令牌并作为代理而将包含其他授权令牌的请求发送给内部 A/V 会议服务器。</span><span class="sxs-lookup"><span data-stu-id="10b17-363">The client connects to the A/V Conference Server, which validates the token and proxies the request, which contains another authorization token, to the internal A/V Conferencing Server.</span></span> <span data-ttu-id="10b17-364">A/V 会议服务器验证最初通过 SIP 信道发出的授权令牌，以进一步确保有效用户加入会议。</span><span class="sxs-lookup"><span data-stu-id="10b17-364">The A/V Conferencing Server validates the Authorization Token, which it originally issued over the SIP channel, to further ensure that a valid user is joining the conference.</span></span>
    
4. <span data-ttu-id="10b17-365">在客户端和 AV 会议服务器之间，媒体连接是通过 SRTP 进行协商和设置的。</span><span class="sxs-lookup"><span data-stu-id="10b17-365">Between the client and the AV conferencing server, a media connection is negotiated and setup over SRTP.</span></span>
5. <span data-ttu-id="10b17-366">用户收到一封电子邮件，其中包含加入 SfBO 会议的邀请。</span><span class="sxs-lookup"><span data-stu-id="10b17-366">A user receives an email containing an invitation to join an SfBO meeting.</span></span> <span data-ttu-id="10b17-367">该电子邮件包含会议密钥和基于 HTTP 的会议链接 URL。</span><span class="sxs-lookup"><span data-stu-id="10b17-367">The email contains a conference key and a HTTP-based URL linking to the conference.</span></span> <span data-ttu-id="10b17-368">密钥和网址对于特定会议而言都是唯一的。</span><span class="sxs-lookup"><span data-stu-id="10b17-368">Both the key and the URL are unique for a particular meeting.</span></span>

### <a name="federation-safeguards-for-sfbo"></a><span data-ttu-id="10b17-369">SfBO 的联盟保障</span><span class="sxs-lookup"><span data-stu-id="10b17-369">Federation Safeguards for SfBO</span></span>
<span data-ttu-id="10b17-370">联盟让你的组织能够与其他组织通信，以共享 IM 和状态。</span><span class="sxs-lookup"><span data-stu-id="10b17-370">Federation provides your organization with the ability to communicate with other organizations to share IM and presence.</span></span> <span data-ttu-id="10b17-371">在 SfBO 中，默认设置为开启联盟。</span><span class="sxs-lookup"><span data-stu-id="10b17-371">In SfBO federation is on by default.</span></span>  <span data-ttu-id="10b17-372">但是，租户管理员可以通过 O365 管理门户进行控制。</span><span class="sxs-lookup"><span data-stu-id="10b17-372">However, tenant admins have the ability to control this via the O365 Admin portal.</span></span>  <span data-ttu-id="10b17-373">了解更多详情。</span><span class="sxs-lookup"><span data-stu-id="10b17-373">See more.</span></span>

## <a name="addressing-threats-to-sfbo-conferences"></a><span data-ttu-id="10b17-374">应对 SfBO 会议的威胁</span><span class="sxs-lookup"><span data-stu-id="10b17-374">Addressing Threats to SfBO Conferences</span></span>

<span data-ttu-id="10b17-375">SfBO 让企业用户能够创建和加入实时 Web 会议。</span><span class="sxs-lookup"><span data-stu-id="10b17-375">SfBO provides the capability for enterprise users to create and join real-time Web conferences.</span></span> <span data-ttu-id="10b17-376">企业用户还可以邀请没有 AAD/O365 帐户的外部用户参加这些会议。</span><span class="sxs-lookup"><span data-stu-id="10b17-376">Enterprise users can also invite external users who do not have an AAD/O365 account to participate in these meetings.</span></span> <span data-ttu-id="10b17-377">受联合合作伙伴雇用并具有安全和身份验证身份的用户也可以加入会议，并且可以在升格后担任演示者。</span><span class="sxs-lookup"><span data-stu-id="10b17-377">Users who are employed by federated partners with a secure and authenticated identity can also join meetings and, if promoted to do so, can act as presenters.</span></span> <span data-ttu-id="10b17-378">匿名用户无法作为演示者创建或加入会议，但他们可以在加入后升格为演示者。</span><span class="sxs-lookup"><span data-stu-id="10b17-378">Anonymous users cannot create or join a meeting as a presenter, but they can be promoted to presenter after they join.</span></span>

<span data-ttu-id="10b17-379">让外部用户参加 SfBO 会议大大增加了此功能的价值，但也带来一些安全风险。</span><span class="sxs-lookup"><span data-stu-id="10b17-379">Enabling external users to participate in SfBO meetings greatly increases the value of this feature, but it also entails some security risks.</span></span> <span data-ttu-id="10b17-380">为应对这些风险，SfBO 提供以下附加保障措施：</span><span class="sxs-lookup"><span data-stu-id="10b17-380">To address these risks, SfBO provides the following additional safeguards:</span></span>
- <span data-ttu-id="10b17-381">参与者的角色决定了其会议控制权限。</span><span class="sxs-lookup"><span data-stu-id="10b17-381">Participant roles determine conference control privileges.</span></span>
- <span data-ttu-id="10b17-382">参与者类型可让你限制对特定会议的访问。</span><span class="sxs-lookup"><span data-stu-id="10b17-382">Participant types allow you to limit access to specific meetings.</span></span>
- <span data-ttu-id="10b17-383">已定义的会议类型决定了哪类参与者可以参加。</span><span class="sxs-lookup"><span data-stu-id="10b17-383">Defined meeting types determine which types of participants can attend.</span></span>
- <span data-ttu-id="10b17-384">会议日程安排仅限拥有 AAD 帐户和 SfBO 许可证的用户。</span><span class="sxs-lookup"><span data-stu-id="10b17-384">Conference scheduling is restricted to users who have an AAD account and an SfBO license.</span></span>
- <span data-ttu-id="10b17-385">匿名，即未经身份验证，用户要加入电话拨入式会议拨一个会议访问号码，以及然后系统会提示用户输入会议 id。</span><span class="sxs-lookup"><span data-stu-id="10b17-385">Anonymous, that is, unauthenticated, users who want to join a dial-in conference dial one of the conference access numbers and then they are prompted to enter the conference ID.</span></span> <span data-ttu-id="10b17-386">还会提示未经身份验证的匿名用户记录其名称。</span><span class="sxs-lookup"><span data-stu-id="10b17-386">Unauthenticated anonymous users are also prompted to record their name.</span></span> <span data-ttu-id="10b17-387">记录的名称用于在会议中标识未经身份验证的用户。</span><span class="sxs-lookup"><span data-stu-id="10b17-387">The recorded name identifies unauthenticated users in the conference.</span></span> <span data-ttu-id="10b17-388">除非至少一个主持人或经过身份验证的用户已参加会议，否则不允许匿名用户参加会议，且无法向其分配预定义角色。</span><span class="sxs-lookup"><span data-stu-id="10b17-388">Anonymous users are not admitted to the conference until at least one leader or authenticated user has joined, and they cannot be assigned a predefined role.</span></span>

### <a name="participant-roles"></a><span data-ttu-id="10b17-389">参与者角色</span><span class="sxs-lookup"><span data-stu-id="10b17-389">Participant Roles</span></span>
<span data-ttu-id="10b17-390">会议参与者分为三组，每组都有自己的权利和限制：</span><span class="sxs-lookup"><span data-stu-id="10b17-390">Meeting participants fall into three groups, each with its own privileges and restrictions:</span></span>
- <span data-ttu-id="10b17-391">\*\*组织者 \*\* &nbsp;&nbsp; 创建会议的用户，可以是临时指定或者事先安排。</span><span class="sxs-lookup"><span data-stu-id="10b17-391">**Organizer** &nbsp;&nbsp; The user who creates a meeting, whether impromptu or by scheduling.</span></span> <span data-ttu-id="10b17-392">组织者必须是经过身份验证、并且可以控制会议所有终端用户各个方面的企业用户。</span><span class="sxs-lookup"><span data-stu-id="10b17-392">An organizer must be an authenticated enterprise user and have control over all end-user aspects of a meeting.</span></span>
- <span data-ttu-id="10b17-393">**演示者** &nbsp;&nbsp; 有权使用任何支持的媒体在会议上呈现信息的用户。</span><span class="sxs-lookup"><span data-stu-id="10b17-393">**Presenter** &nbsp;&nbsp; A user who is authorized to present information at a meeting, using whatever media is supported.</span></span> <span data-ttu-id="10b17-394">根据定义，会议组织者也可以是演示者，并确定谁还可以成为演示者。</span><span class="sxs-lookup"><span data-stu-id="10b17-394">A meeting organizer is by definition also a presenter and determines who else can be a presenter.</span></span> <span data-ttu-id="10b17-395">会议安排或会议开始时，组织者可以做出决定。</span><span class="sxs-lookup"><span data-stu-id="10b17-395">An organizer can make this determination when a meeting is scheduled or while the meeting is under way.</span></span>
- <span data-ttu-id="10b17-396">**与会者** &nbsp;&nbsp; 被邀请出席会议、但未获得授权担任演示者的用户。</span><span class="sxs-lookup"><span data-stu-id="10b17-396">**Attendee** &nbsp;&nbsp; A user who has been invited to attend a meeting but who is not authorized to act as a presenter.</span></span>

<span data-ttu-id="10b17-397">演示者还可以在会议期间将某一与会者升格为演示者。</span><span class="sxs-lookup"><span data-stu-id="10b17-397">A presenter can also promote an attendee to the role of presenter during the meeting.</span></span>

### <a name="participant-types"></a><span data-ttu-id="10b17-398">参与者类型</span><span class="sxs-lookup"><span data-stu-id="10b17-398">Participant Types</span></span>

<span data-ttu-id="10b17-399">会议参与者也按照地点和证书分类。</span><span class="sxs-lookup"><span data-stu-id="10b17-399">Meeting participants are also categorized by location and credentials.</span></span> <span data-ttu-id="10b17-400">你可以使用这两个特征来指定哪些用户可以访问特定的会议。</span><span class="sxs-lookup"><span data-stu-id="10b17-400">You can use both of these characteristics to specify which users can have access to specific meetings.</span></span> <span data-ttu-id="10b17-401">用户可以大致分为以下几类：</span><span class="sxs-lookup"><span data-stu-id="10b17-401">Users can be divided broadly into the following categories:</span></span>
1.  <span data-ttu-id="10b17-402">**属于租户的用户** &nbsp;&nbsp; 这些用户在租户的 Azure Active Directory 中拥有一个凭据。</span><span class="sxs-lookup"><span data-stu-id="10b17-402">**Users that belong to the tenant** &nbsp;&nbsp; These users have a credential in Azure Active Directory for the tenant.</span></span><br/>
    <span data-ttu-id="10b17-403">a.</span><span class="sxs-lookup"><span data-stu-id="10b17-403">a.</span></span> <span data-ttu-id="10b17-404">*内部企业网络*– 这些用户加入从企业网络内部。</span><span class="sxs-lookup"><span data-stu-id="10b17-404">*Inside corpnet* – These users are joining from inside the corporate network.</span></span><br/><span data-ttu-id="10b17-405">b.</span><span class="sxs-lookup"><span data-stu-id="10b17-405">b.</span></span> <span data-ttu-id="10b17-406">*远程用户*– 这些用户加入从企业网络外部。</span><span class="sxs-lookup"><span data-stu-id="10b17-406">*Remote users* – These users are joining from outside the corporate network.</span></span> <span data-ttu-id="10b17-407">这些用户包括在家工作或在路上工作的员工以及其他人员，如受信任供应商的员工，他们已根据服务条款方面获得企业证书。</span><span class="sxs-lookup"><span data-stu-id="10b17-407">They can include employees who are working at home or on the road, and others, such as employees of trusted vendors, who have been granted enterprise credentials for their terms of service.</span></span> <span data-ttu-id="10b17-408">远程用户可以创建和加入会议并担任演示者。</span><span class="sxs-lookup"><span data-stu-id="10b17-408">Remote users can create and join conferences and act as presenters.</span></span>
2.  <span data-ttu-id="10b17-409">**属于租户的用户** &nbsp;&nbsp; 这些用户在租户的 Azure Active Directory 中拥有一个凭据。</span><span class="sxs-lookup"><span data-stu-id="10b17-409">**Users that do not belong to the tenant**&nbsp;&nbsp;These users do not have credentials in Azure Active Directory for the tenant.</span></span><br/><span data-ttu-id="10b17-410">a.</span><span class="sxs-lookup"><span data-stu-id="10b17-410">a.</span></span> <span data-ttu-id="10b17-411">*联盟用户*-联盟用户拥有联盟伙伴的有效凭据和，因此被视为已通过 SFBO 身份验证。</span><span class="sxs-lookup"><span data-stu-id="10b17-411">*Federated Users* - Federated users possess valid credentials with federated partners and are therefore treated as authenticated by SFBO.</span></span> <span data-ttu-id="10b17-412">联合用户可以参加会议并在他们加入会议后晋升为演示者，但他们无法在与其联合的企业中创建会议。</span><span class="sxs-lookup"><span data-stu-id="10b17-412">Federated users can join conferences and be promoted to presenters after they have joined the meeting, but they cannot create conferences in enterprises with which they are federated.</span></span><br/><span data-ttu-id="10b17-413">b.</span><span class="sxs-lookup"><span data-stu-id="10b17-413">b.</span></span> <span data-ttu-id="10b17-414">*匿名用户*-匿名用户没有 Active Directory 标识，不与租户联盟。</span><span class="sxs-lookup"><span data-stu-id="10b17-414">*Anonymous Users* - Anonymous users do not have an Active Directory identity and are not federated with the tenant.</span></span> 

<span data-ttu-id="10b17-415">客户数据显示，许多会议涉及外部用户。</span><span class="sxs-lookup"><span data-stu-id="10b17-415">Customer data shows that many conferences involve external users.</span></span> <span data-ttu-id="10b17-416">在允许这些用户加入会议之前，这些客户也希望确保外部用户的身份。</span><span class="sxs-lookup"><span data-stu-id="10b17-416">Those same customers also want reassurance about the identity of external users before allowing those users to join a conference.</span></span> <span data-ttu-id="10b17-417">如以下部分所述，SfBO 将访问权限限制为已明确允许的用户类型，并要求所有用户类型在进入会议时提供适当的证书。</span><span class="sxs-lookup"><span data-stu-id="10b17-417">As the following section describes, SfBO limits meeting access to those user types that have been explicitly allowed and requires all user types to present appropriate credentials when entering a meeting.</span></span>

### <a name="participant-admittance"></a><span data-ttu-id="10b17-418">参与者与会</span><span class="sxs-lookup"><span data-stu-id="10b17-418">Participant Admittance</span></span>
<span data-ttu-id="10b17-419">在 SfBO，匿名用户被转移到名为大厅的等候区。</span><span class="sxs-lookup"><span data-stu-id="10b17-419">In SfBO, anonymous users are transferred to a waiting area called the lobby.</span></span> <span data-ttu-id="10b17-420">演示者可以接受这些用户参加会议或拒绝他们。</span><span class="sxs-lookup"><span data-stu-id="10b17-420">Presenters can then either admit these users to the meeting or reject them.</span></span> <span data-ttu-id="10b17-421">这些用户被转移到大厅，通知领导后，用户将等待领导接受或拒绝，直到连接超时。在大厅里，用户会听到音乐播放。</span><span class="sxs-lookup"><span data-stu-id="10b17-421">These users are transferred to the lobby, the leader is notified, and the users then wait until a leader either accepts or rejects them or their connection times out. While in the lobby, the users hear music.</span></span> 

<span data-ttu-id="10b17-422">默认情况下，从 PSTN 拨入的与会者直接进入会议，但可以更改此选项以强制拨入与会者前往大厅。</span><span class="sxs-lookup"><span data-stu-id="10b17-422">By default, participants dialing in from the PSTN go directly to the meeting, but this option can be changed to force dial-in participants to go to the lobby.</span></span>  
<span data-ttu-id="10b17-423">会议组织者决定参与者是否可以加入会议而无需在大厅等待。</span><span class="sxs-lookup"><span data-stu-id="10b17-423">Meeting organizers control whether participants can join a meeting without waiting in the lobby.</span></span> <span data-ttu-id="10b17-424">每个会议都可以设置为使用以下任何一种方法启用访问：</span><span class="sxs-lookup"><span data-stu-id="10b17-424">Each meeting can be set up to enable access using any one of the following methods:</span></span>
- <span data-ttu-id="10b17-425">**只有我，会议组织者**&nbsp;&nbsp;除组织者之外，每个人都必须在大厅等候，直到被允许参加会议。</span><span class="sxs-lookup"><span data-stu-id="10b17-425">**Only me, the meeting organizer**&nbsp;&nbsp;Everyone except the organizer must wait in the lobby until admitted.</span></span>
- <span data-ttu-id="10b17-426">**我从我公司邀请的人**&nbsp;&nbsp;即使没有被邀请，公司内的任何人都可以直接参加会议。</span><span class="sxs-lookup"><span data-stu-id="10b17-426">**People I invite from my company**&nbsp;&nbsp;Anyone from your company can get in to the meeting directly, even if not invited.</span></span>
- <span data-ttu-id="10b17-427">**我组织中的任何人**&nbsp;&nbsp;O365 租户中的所有 SfBO 用户（即使那些不在分发名单中的人）均可以参加会议，无需在大厅等待。</span><span class="sxs-lookup"><span data-stu-id="10b17-427">**Anyone from my organization**&nbsp;&nbsp;All SfBO users in the O365 tenant can join the meeting without waiting in the lobby, even if those who are not on the distribution list.</span></span> <span data-ttu-id="10b17-428">所有其他人（包括所有外部和匿名用户）必须在大厅等候，直到被允许参加会议。</span><span class="sxs-lookup"><span data-stu-id="10b17-428">All others, including all external and anonymous users, must wait in the lobby until admitted.</span></span>
- <span data-ttu-id="10b17-429">**任何人**&nbsp;&nbsp;有权访问会议链接的任何人（没有限制）直接进入会议。</span><span class="sxs-lookup"><span data-stu-id="10b17-429">**Anyone**&nbsp;&nbsp;Anyone (there are no restrictions)who has access to the meeting link gets in to the meeting directly.</span></span>
<span data-ttu-id="10b17-430">如果指定了“仅限组织者（锁定）”以外的任何方法，会议组织者还可以指定通过电话拨入的人员直接参加会议而绕过大厅。</span><span class="sxs-lookup"><span data-stu-id="10b17-430">When any method except Organizer only (locked) is specified, the meeting organizer can also specify People dialing in by phone bypass the lobby.</span></span> 

### <a name="presenter-capabilities"></a><span data-ttu-id="10b17-431">演示者功能</span><span class="sxs-lookup"><span data-stu-id="10b17-431">Presenter Capabilities</span></span>
<span data-ttu-id="10b17-432">会议组织者决定参与者是否可以在会议期间演示。</span><span class="sxs-lookup"><span data-stu-id="10b17-432">Meeting organizers control whether participants can present during a meeting.</span></span> <span data-ttu-id="10b17-433">每个会议都可以设置为将演示者限制为以下任何一种情况：</span><span class="sxs-lookup"><span data-stu-id="10b17-433">Each meeting can be set up to limit presenters to any one of the following:</span></span>
- <span data-ttu-id="10b17-434">**仅限组织者**&nbsp;&nbsp; 只有会议组织者才能演示。</span><span class="sxs-lookup"><span data-stu-id="10b17-434">**Organizer only**&nbsp;&nbsp; Only the meeting organizer can present.</span></span>
- <span data-ttu-id="10b17-435">**来自我公司的人员**&nbsp;&nbsp; 所有内部用户都可以演示。</span><span class="sxs-lookup"><span data-stu-id="10b17-435">**People from my company**&nbsp;&nbsp; All internal users can present.</span></span>
- <span data-ttu-id="10b17-436">**每个人，包括我公司以外的人**&nbsp;&nbsp; 参加会议的每个人（没有限制）都可以演示。</span><span class="sxs-lookup"><span data-stu-id="10b17-436">**Everyone including people outside my company**&nbsp;&nbsp; Everyone (there are no restrictions) who joins the meeting can present.</span></span>
- <span data-ttu-id="10b17-437">**我选择的人**&nbsp;&nbsp;会议组织者通过将其添加到演示者列表中来指定哪些用户可以演示。</span><span class="sxs-lookup"><span data-stu-id="10b17-437">**People I choose**&nbsp;&nbsp;The meeting organizer specifies which users can present by adding them to a list of presenters.</span></span>

## <a name="related-topics"></a><span data-ttu-id="10b17-438">相关主题</span><span class="sxs-lookup"><span data-stu-id="10b17-438">Related topics</span></span>
[<span data-ttu-id="10b17-439">Office 365 信任中心</span><span class="sxs-lookup"><span data-stu-id="10b17-439">Office 365 Trust Center</span></span>](https://products.office.com/en-us/business/office-365-trust-center-security)

