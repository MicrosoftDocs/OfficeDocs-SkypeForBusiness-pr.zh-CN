### YamlMime:Tutorial
title: <span data-ttu-id="052b4-101">使用 PowerShell 在 Microsoft Teams 中创建公司范围的团队</span><span class="sxs-lookup"><span data-stu-id="052b4-101">Create a company-wide team in Microsoft Teams using PowerShell</span></span>
metadata:
  title: 使用 PowerShell 在 Microsoft Teams 中创建公司范围的团队
  description: 指导 IT 管理员利用 PowerShell 创建公司范围的团队
  audience: IT Pro
  level: Intermediate
  displayType: one-column
  interactive: azurecli
  ms.author: ninadara
  manager: serdars
  ms.date: 02/07/2018
  ms.service: msteams
  ms.topic: tutorial
  localization_priority: Priority
  ms.collection: Strat_MT_TeamsAdmin
  ms.openlocfilehash: bd9a5e04709b49703de43af48794115c9a48604e
  ms.sourcegitcommit: fa61d0b380a6ee559ad78e06bba85bc28d1045a6
  ms.translationtype: MT
  ms.contentlocale: zh-CN
  ms.lasthandoff: 05/03/2018
items:
- durationInMinutes: 3
  content: "\n<span data-ttu-id=\"052b4-104\">此培训提供用于在 Teams 中创建公司范围的公共团队的 PowerShell 脚本。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-104\">This training provides a PowerShell script that creates a public, company-wide team in Teams.</span></span> <span data-ttu-id=\"052b4-105\">该脚本使用 MicrosoftTeams PowerShell 模块（当前在 beta 版中提供）创建公司范围的公共团队。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-105\">The script uses the MicrosoftTeams PowerShell module (currently in beta) to create a public, company-wide team.</span></span> <span data-ttu-id=\"052b4-106\">它还使用 AzureAD PowerShell 模块提取你的租户中的用户列表。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-106\">It also uses the AzureAD PowerShell module to fetch the list of users in your tenant.</span></span> \n\n<span data-ttu-id=\"052b4-107\">如果你想要尝试使用一些简单的 PowerShell 命令并熟悉此功能强大的企业工具，这是一个很好的起点。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-107\">This is a great starting point if you want to dabble in some simple PowerShell commands and familiarize yourself with this powerful enterprise tool.</span></span> <span data-ttu-id=\"052b4-108\">PowerShell 是用于对 AzureAd 组的其他方面（包括组创建控制 - 即如何管理哪些人可以在 Teams 中创建团队）进行管理的一个关键组件。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-108\">PowerShell is a key component in management of other aspects of AzureAd Groups, including group-creation control - which is how to manage who can create a team in Teams.</span></span> \n\n### <span data-ttu-id=\"052b4-109\"><a href=\"https://docs.microsoft.com/MicrosoftTeams/scripts/powershell-script-sample-create-company-wide-team\" target=\"_blank\">:arrow_down: 获取 PowerShell 脚本</a></span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-109\"><a href=\"https://docs.microsoft.com/MicrosoftTeams/scripts/powershell-script-sample-create-company-wide-team\" target=\"_blank\">:arrow_down: Get the PowerShell script</a></span></span>\n\n> [!IMPORTANT]\n> <span data-ttu-id=\"052b4-110\">此 PowerShell 脚本仅将前 2500 个成员添加到团队中。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-110\">This PowerShell script adds only the first 2500 members to a team.</span></span> <span data-ttu-id=\"052b4-111\">2500 是当前的团队大小限制。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-111\">2500 is the current team size limit.</span></span> \n\n\n<span data-ttu-id=\"052b4-112\">此培训面向 IT 管理员或希望自动完成团队创建的 Teams 用户。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-112\">This training is for IT admins or Teams users who want to automate team creation.</span></span> <span data-ttu-id=\"052b4-113\">你将了解以下内容：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-113\">You'll learn how to:</span></span>  \n- <span data-ttu-id=\"052b4-114\">在 PowerShell 中安装相关模块</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-114\">Install the relevant modules in PowerShell</span></span>\n- <span data-ttu-id=\"052b4-115\">使用该脚本</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-115\">Use the script</span></span> \n\n<span data-ttu-id=\"052b4-116\">以下内容在此不做介绍：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-116\">We won't cover these things:</span></span>\n1. <span data-ttu-id=\"052b4-117\">深入了解 PowerShell。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-117\">A deep dive into PowerShell.</span></span> <span data-ttu-id=\"052b4-118\">我们仅介绍设置和运行 PowerShell 脚本所需的 PowerShell 信息。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-118\">We only include the PowerShell information you need to get up and running with the PowerShell script.</span></span> <span data-ttu-id=\"052b4-119\">要了解详细信息，请参阅 <a href=\"https://docs.microsoft.com/powershell/scripting/getting-started/getting-started-with-windows-powershell?view=powershell-5.1\" target=\"_blank\">Windows PowerShell 入门</a></span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-119\">To learn more, start at <a href=\"https://docs.microsoft.com/powershell/scripting/getting-started/getting-started-with-windows-powershell?view=powershell-5.1\" target=\"_blank\">Getting Started with Windows PowerShell</a></span></span>\n2. <span data-ttu-id=\"052b4-120\"><a href=\"https://docs.microsoft.com/powershell/azure/active-directory/overview?view=azureadps-2.0\" target=\"_blank\">AzureAD</a> 模块的功能。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-120\">The functionality of the <a href=\"https://docs.microsoft.com/powershell/azure/active-directory/overview?view=azureadps-2.0\" target=\"_blank\">AzureAD</a> module.</span></span> <span data-ttu-id=\"052b4-121\">此 PowerShell 脚本使用 AzureAD 模块实现一个用于提取租户中的用户的命令。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-121\">This PowerShell script uses the AzureAD module for a single command to fetch the users in the tenant.</span></span> \n3. <span data-ttu-id=\"052b4-122\"><a href=\"https://github.com/MicrosoftDocs/office-docs-powershell/tree/master/teams/teams-ps/teams\" target=\"_blank\">MicrosoftTeams</a> 模块中的 cmdlet。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-122\">The cmdlets in the <a href=\"https://github.com/MicrosoftDocs/office-docs-powershell/tree/master/teams/teams-ps/teams\" target=\"_blank\">MicrosoftTeams</a> module.</span></span> \n4. <span data-ttu-id=\"052b4-123\">详细介绍 PowerShell 脚本。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-123\">A line-by-line walk-through of the PowerShell script.</span></span> \n\n\n<span data-ttu-id=\"052b4-124\">要就此培训提出问题或发送反馈：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-124\">To ask questions or send feedback about this training:</span></span>\n  - <span data-ttu-id=\"052b4-125\">在此教程的“[后续步骤](company-wide-team-creation-powershell.yml#step-7)”页面底部的“评论”部分中发布。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-125\">Post in the comments section at the bottom of the [Next steps](company-wide-team-creation-powershell.yml#step-7) page of this tutorial.</span></span>\n  - <span data-ttu-id=\"052b4-126\">给我们发送电子邮件：[AskTeams@microsoft.com](mailto:askteams@microsoft.com?subject=Create company-wide team using PowerShell)。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-126\">Email us at [AskTeams@microsoft.com](mailto:askteams@microsoft.com?subject=Create company-wide team using PowerShell).</span></span>\n  - <span data-ttu-id=\"052b4-127\">要向我们提供你的产品反馈（例如功能请求），请访问 <a href=\"https://aka.ms/TeamsUserVoice\" target=\"_blank\">UserVoice</a>。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-127\">To give us your product feedback, such as feature requests, go to <a href=\"https://aka.ms/TeamsUserVoice\" target=\"_blank\">UserVoice</a>.</span></span>\n"
- title: <span data-ttu-id="052b4-128">最低要求</span><span class="sxs-lookup"><span data-stu-id="052b4-128">Minimum requirements</span></span>
  durationInMinutes: 2
  content: "\n### <a name=\"user-requirements\"></a><span data-ttu-id=\"052b4-129\">用户要求</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-129\">User requirements</span></span>\n\n<span data-ttu-id=\"052b4-130\">你需要对你的计算机拥有管理员权限，以便你能够以管理员身份运行应用程序。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-130\">You'll need to have Administrator permissions on your computer, so you can run applications as administrator.</span></span> \n\n### <a name=\"system-requirements\"></a><span data-ttu-id=\"052b4-131\">系统要求</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-131\">System requirements</span></span>\n<span data-ttu-id=\"052b4-132\">此脚本中使用的模块要求使用以下操作系统之一：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-132\">The modules that we use in this script require one of the following operating systems:</span></span>\n\n- <span data-ttu-id=\"052b4-133\">Windows 10</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-133\">Windows 10</span></span>\n- <span data-ttu-id=\"052b4-134\">Windows 8.1 Pro</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-134\">Windows 8.1 Pro</span></span>\n- <span data-ttu-id=\"052b4-135\">Windows 8.1 Enterprise</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-135\">Windows 8.1 Enterprise</span></span>\n- <span data-ttu-id=\"052b4-136\">Windows 7 SP1</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-136\">Windows 7 SP1</span></span>\n- <span data-ttu-id=\"052b4-137\">Windows Server 2016</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-137\">Windows Server 2016</span></span>\n- <span data-ttu-id=\"052b4-138\">Windows Server 2012 R2</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-138\">Windows Server 2012 R2</span></span>\n- <span data-ttu-id=\"052b4-139\">Windows Server 2008 R2 SP1</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-139\">Windows Server 2008 R2 SP1</span></span>\n\n<span data-ttu-id=\"052b4-140\">这些模块还要求使用 .NET Framework 4.5 或更高版本。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-140\">The modules also require .NET Framework 4.5 or above.</span></span> <span data-ttu-id=\"052b4-141\"><a href=\"https://msdn.microsoft.com/library/5a4x27ek.aspx\" target=\"_blank\">安装面向开发人员的 .NET Framework</a>。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-141\"><a href=\"https://msdn.microsoft.com/library/5a4x27ek.aspx\" target=\"_blank\">Install the .NET Framework for developers</a>.</span></span>\n"
- title: <span data-ttu-id="052b4-142">入门</span><span class="sxs-lookup"><span data-stu-id="052b4-142">Get started</span></span>
  durationInMinutes: 10
  content: "\n\n<span data-ttu-id=\"052b4-143\">要开始使用，你需要满足以下条件：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-143\">To get started, you'll need the following:</span></span>\n1. <span data-ttu-id=\"052b4-144\">试用版的 <a href=\"https://products.office.com/business/office-365-enterprise-e3-business-software\" target=\"_blank\">Office 365 企业版 E3</a>。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-144\">A trial version of <a href=\"https://products.office.com/business/office-365-enterprise-e3-business-software\" target=\"_blank\">Office 365 Enterprise E3</a>.</span></span> <span data-ttu-id=\"052b4-145\">建议先在测试租户中测试并了解情况，然后开始在实际租户中操作。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-145\">We recommend testing and learning in a test tenant before starting to work in your actual tenant.</span></span> <span data-ttu-id=\"052b4-146\">将一些测试用户添加到你的租户（最少 5 个），以帮助你了解该脚本的使用。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-146\">Add some test users to your tenant (minimum 5) to help you play around with the script.</span></span> \n\n2. <span data-ttu-id=\"052b4-147\">以管理员权限启动 PowerShell。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-147\">Launch PowerShell with administrator privileges.</span></span> <span data-ttu-id=\"052b4-148\">下面介绍在 Windows 10 中的操作方式：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-148\">Here's how to do it in Windows 10:</span></span>\n \n  <span data-ttu-id=\"052b4-149\">a.</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-149\">a.</span></span> <span data-ttu-id=\"052b4-150\">单击“**开始**”。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-150\">Click **Start**.</span></span>\n \n  <span data-ttu-id=\"052b4-151\">b.</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-151\">b.</span></span> <span data-ttu-id=\"052b4-152\">键入 **Windows PowerShell**。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-152\">Type **Windows PowerShell**.</span></span>\n \n  <span data-ttu-id=\"052b4-153\">c.</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-153\">c.</span></span> <span data-ttu-id=\"052b4-154\">单击右键并选择“**以管理员身份运行**”。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-154\">Right-click and choose **Run as administrator**.</span></span>\n\n3. <span data-ttu-id=\"052b4-155\"><a href=\"https://docs.microsoft.com/azure/active-directory/active-directory-accessmanagement-groups-settings-v2-cmdlets#install-the-azure-ad-powershell-module\" target=\"_blank\">安装 AzureAD PowerShell 模块</a>。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-155\"><a href=\"https://docs.microsoft.com/azure/active-directory/active-directory-accessmanagement-groups-settings-v2-cmdlets#install-the-azure-ad-powershell-module\" target=\"_blank\">Install the AzureAD PowerShell module</a>.</span></span> \n  \n  > [!NOTE]\n  > <span data-ttu-id=\"052b4-156\">在执行这些步骤期间，PowerShellGet 可能会提示你更新 NuGet 提供程序。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-156\">You may get prompted to update your NuGet provider by PowerShellGet during the execution of these steps.</span></span> <span data-ttu-id=\"052b4-157\">如果出现提示，请在看到“是否要让 PowerShellGet 立即安装并导入 NuGet 提供程序?”时选择“**是**”。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-157\">If you get prompted, choose **Yes** for \"Do you want PowerShellGet to install and import the NuGet provider now?\"</span></span> <span data-ttu-id=\"052b4-158\">你可能还会看到有关不受信任的存储库的提示：“是否确实要从“PSGallery”安装模块?”</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-158\">You may also get prompted about an untrusted repository: \"Are you sure you want to install the modules from 'PSGallery?'\"</span></span> <span data-ttu-id=\"052b4-159\">此处也选择“**是**”。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-159\">Choose **Yes** here as well.</span></span> \n\n4. <span data-ttu-id=\"052b4-160\">安装 MicrosoftTeams PowerShell 模块。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-160\">Install the MicrosoftTeams PowerShell module.</span></span> <span data-ttu-id=\"052b4-161\">如果你已满足安装 AzureAD 模块的所有条件，则安装 MicrosoftTeams 模块将会很快（它们的条件相同）。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-161\">If you've met all the conditions to install the AzureAD module, installing the MicrosoftTeams module will go quickly (they share the same set of conditions).</span></span> <span data-ttu-id=\"052b4-162\">要安装 MicrosoftTeams 模块，请运行此命令：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-162\">To install the MicrosoftTeams module, run this command:</span></span> \n\n          Install-Module MicrosoftTeams\n\n  > [!NOTE]\n  > <span data-ttu-id=\"052b4-163\">你可能会再次看到有关不受信任的存储库的提示。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-163\">You may get prompted about the untrusted repository again.</span></span> \n\n5. <span data-ttu-id=\"052b4-164\"><a href=\"https://docs.microsoft.com/MicrosoftTeams/scripts/PowerShell-script-sample-create-company-wide-team.md\" target=\"_blank\">获取 PowerShell 脚本</a></span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-164\"><a href=\"https://docs.microsoft.com/MicrosoftTeams/scripts/PowerShell-script-sample-create-company-wide-team.md\" target=\"_blank\">Get the PowerShell script</a></span></span>\n"
- title: <span data-ttu-id="052b4-165">参数指导</span><span class="sxs-lookup"><span data-stu-id="052b4-165">Parameter guidance</span></span>
  durationInMinutes: 2
  content: "\n<span data-ttu-id=\"052b4-166\">所有参数均设置为可选，但如果未设置任何参数，则该脚本无法运行。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-166\">All the parameters are set as optional, but the script won't run if none of the parameters are set.</span></span> <span data-ttu-id=\"052b4-167\">你将使用参数组合来创建和更新你的公司范围的团队。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-167\">You'll use a combination of parameters to create and update your company-wide team.</span></span> <span data-ttu-id=\"052b4-168\">我们将在后面的部分中介绍示例，帮助你根据你的应用场景执行该脚本。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-168\">We'll show you samples in a later section to help you execute the script based on your scenario.</span></span> \n\n|<span data-ttu-id=\"052b4-169\">参数</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-169\">Parameter</span></span>| <span data-ttu-id=\"052b4-170\">说明</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-170\">Description</span></span> |\n| ---  | ---  |\n|<span data-ttu-id=\"052b4-171\">Owners</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-171\">Owners</span></span> | <span data-ttu-id=\"052b4-172\">至少指定两个成员（其中一个可以是你，但脚本要求至少有两个）。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-172\">Specify at least two members (one of the two can be you but the script requires a minimum of two).</span></span> <span data-ttu-id=\"052b4-173\">我们建议有多个所有者，尤其是对于租户范围的团队。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-173\">We recommend more owners especially for the tenant wide team.</span></span> |\n|<span data-ttu-id=\"052b4-174\">TeamName</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-174\">TeamName</span></span> | <span data-ttu-id=\"052b4-175\">如果你打算创建一个新团队，则指定此参数。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-175\">Specify this if you intend to create a new team.</span></span> <span data-ttu-id=\"052b4-176\">如果未指定此参数，则必须指定现有团队的 GroupId。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-176\">If this isn't specified, you must specify the GroupId of an existing team.</span></span> |\n|<span data-ttu-id=\"052b4-177\">TeamDescription</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-177\">TeamDescription</span></span> | <span data-ttu-id=\"052b4-178\">这是你要创建的新团队的说明。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-178\">This is the description for the new team you are creating.</span></span> <span data-ttu-id=\"052b4-179\">这不会更新现有团队的说明。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-179\">It won't update an existing team's description.</span></span> |\n|<span data-ttu-id=\"052b4-180\">频道</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-180\">Channels</span></span> | <span data-ttu-id=\"052b4-181\">你想要创建的频道列表。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-181\">List of channels you want to create.</span></span> <span data-ttu-id=\"052b4-182\">此脚本要求至少有两个频道（如果你使用此参数）。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-182\">This script requires at least two channels (if you  use this parameter).</span></span> <span data-ttu-id=\"052b4-183\">该脚本运行时，它将要求你提供每个频道的说明。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-183\">When the script runs, it'll ask you for each channel's description.</span></span> |\n|<span data-ttu-id=\"052b4-184\">GroupId</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-184\">GroupId</span></span> | <span data-ttu-id=\"052b4-185\">如果你有一个现有团队，并希望通过添加更多成员以使其成为公司范围的团队，则指定此参数。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-185\">Specify this if you have an existing team that you want to make into a company-wide team by adding more members.</span></span> <span data-ttu-id=\"052b4-186\">如果你指定此参数，则不会创建新团队。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-186\">If you specify this parameter, a new team does not get created.</span></span> |\n|<span data-ttu-id=\"052b4-187\">Members</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-187\">Members</span></span> | <span data-ttu-id=\"052b4-188\">如果你不希望所有人都添加进来，则可以指定成员列表。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-188\">You can specify a list of members if don't want everyone to get added.</span></span> <span data-ttu-id=\"052b4-189\">该列表至少有 2 个成员。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-189\">Minimum number in the list is 2.</span></span> |\n"
- title: <span data-ttu-id="052b4-190">运行脚本</span><span class="sxs-lookup"><span data-stu-id="052b4-190">Run the script</span></span>
  durationInMinutes: 5
  content: "\n<span data-ttu-id=\"052b4-191\">提供的脚本是未签名脚本。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-191\">The script provided is an unsigned script.</span></span> <span data-ttu-id=\"052b4-192\">要了解详细信息，请阅读<a href=\"https://docs.microsoft.com/powershell/module/microsoft.powershell.core/about/about_execution_policies?view=powershell-5.1&viewFallbackFrom=powershell-Microsoft.PowerShell.Core\" target=\"_blank\">关于执行策略</a>。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-192\">Read <a href=\"https://docs.microsoft.com/powershell/module/microsoft.powershell.core/about/about_execution_policies?view=powershell-5.1&viewFallbackFrom=powershell-Microsoft.PowerShell.Core\" target=\"_blank\">About Execution Policies</a> to learn more.</span></span> <span data-ttu-id=\"052b4-193\">在更改执行策略之前，通过运行以下命令提取当前策略：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-193\">Before changing the execution policy, fetch the current policy by running the following command:</span></span>\n\n        Get-ExecutionPolicy\n\n<span data-ttu-id=\"052b4-194\">记下此策略级别。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-194\">Note this policy level.</span></span> <span data-ttu-id=\"052b4-195\">运行此脚本创建你的公司范围的团队后，要将其更改回此级别。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-195\">You'll change it back to this level once you're done running this script to create your company-wide team.</span></span> <span data-ttu-id=\"052b4-196\">要将策略更改为 RemoteSigned，请运行此命令：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-196\">To change the policy to RemoteSigned, run this command:</span></span>\n\n        Set-ExecutionPolicy -ExecutionPolicy RemoteSigned\n\n<span data-ttu-id=\"052b4-197\">下面是可以使用该脚本完成的操作：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-197\">Here's what you can do using the script:</span></span> \n1. <span data-ttu-id=\"052b4-198\">创建包含你的租户中所有成员的新团队（最多 2500 个成员）。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-198\">Create a new team with all the members in your tenant (maximum 2500 members).</span></span>\n\n          .\\CreateCompanyWideTeam.ps1 -Owners \"CBeane@Contoso.onmicrosoft.com\", \"PHampton@Contoso.onmicrosoft.com\" -TeamName \"Contoso Team\" -TeamDescription \"Tenant wide team to get everyone into one place. Use this team to share announcements, hold townhalls, or just encourage a more open work environment for everyone\" -Channels \"Announcements\", \"Townhalls\"\n\n2. <span data-ttu-id=\"052b4-199\">将你的租户中所有成员添加到现有团队中（最多 2500 个成员）。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-199\">Add all the members in your tenant to an existing team (maximum 2500 members).</span></span>\n    \n          .\\CreateCompanyWideTeam.ps1 -GroupID \"45f7b85e-149b-4ae4-bf43-9cedf9415e34\"\n\n3. <span data-ttu-id=\"052b4-200\">将指定的一组成员添加到新团队或现有团队中。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-200\">Add a specified set of members to a new or existing team.</span></span>\n    \n          .\\CreateCompanyWideTeam.ps1 -Owners \"CBeane@Contoso.onmicrosoft.com\", \"PHampton@Contoso.onmicrosoft.com\" -TeamName \"Project Scorpio\" -TeamDescription \"Wanted to reserve a cool project name, now we need a project\" -Channels \"Code Reviews\", \"Engineering Alerts\" -Members \"BMcMillan@Contoso.onmicrosoft.com\", \"DTodd@Contoso.onmicrosoft.com\", \"DMills@Contoso.onmicrosoft.com\"\n"
- title: <span data-ttu-id="052b4-201">示例公司范围的团队</span><span class="sxs-lookup"><span data-stu-id="052b4-201">Sample company-wide team</span></span>
  durationInMinutes: 6
  content: "\n<span data-ttu-id=\"052b4-202\">下表显示了如何为一家销售公司设置团队。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-202\">Here's a table showing how you might set up a team for a sales company.</span></span> <span data-ttu-id=\"052b4-203\">其中包括建议的频道、选项卡、连接器和聊天机器人。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-203\">It includes suggested channels, tabs, connects, and bots.</span></span> <span data-ttu-id=\"052b4-204\">建议至少一开始时创建一些频道。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-204\">We recommend that, at least initially, you create a couple of channels.</span></span> <span data-ttu-id=\"052b4-205\">如果这是将包含很多人的第一个团队，它将帮助他们了解要创建哪些种类的频道。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-205\">If this is the first team that many people will be a part of, it'll help them understand what kind of channels to create.</span></span> <span data-ttu-id=\"052b4-206\">在其中一些初始频道中填入数据还将帮助新用户熟悉该产品以及了解此工作方式。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-206\">Seeding some of these initial channels with data will also help new users get familiar with the product and understand this working style.</span></span> <span data-ttu-id=\"052b4-207\">目前，无法使用 PowerShell 向频道中添加数据，因此必须手动执行此操作。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-207\">For now, you can't add data to channels using PowerShell, so you'll have to do this part manually.</span></span> \n\n> [!Tip]\n> <span data-ttu-id=\"052b4-208\">下载我们的 <a href=\"https://www.microsoft.com/download/confirmation.aspx?id=56505\" target=\"_blank\">Microsoft Teams 入门工具包</a>。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-208\">Download our <a href=\"https://www.microsoft.com/download/confirmation.aspx?id=56505\" target=\"_blank\">Microsoft Teams getting started kit</a>.</span></span> <span data-ttu-id=\"052b4-209\">本指南包括“要在 Teams 中完成的前 10 件事”。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-209\">This guide includes \"The first 10 things to do in Teams.\"</span></span> <span data-ttu-id=\"052b4-210\">你将了解在贵组织中的不同岗位（包括市场营销、销售、财务、人力资源、信息技术、工程和项目管理）充分利用 Teams 的提示。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-210\">You’ll find tips to make the most of Teams for various functions in your organization, including Marketing, Sales, Finance, Human Resources, Information Technology, Engineering, and Project Management.</span></span>\n\n#### <a name=\"trophy-best-practices\"></a><span data-ttu-id=\"052b4-211\">:trophy: 最佳实践：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-211\">:trophy: Best practices:</span></span>\n- <span data-ttu-id=\"052b4-212\">在此阶段，请勿创建你想到的每个频道，只需开始创建一些即可。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-212\">Don't create every channel you can think of at this stage, just enough to get the ball rolling.</span></span> <span data-ttu-id=\"052b4-213\">在出现新的方面时，继续创建频道。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-213\">Keep creating channels as new areas arise.</span></span>\n- <span data-ttu-id=\"052b4-214\">请勿重命名频道，因为基础 SharePoint 文件夹结构不会持续与频道名称保持一致。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-214\">Don't rename channels, because the underlying SharePoint folder structure won't continue to align with the channel name.</span></span> \n\n \n  > [!NOTE]\n  > <span data-ttu-id=\"052b4-215\">不能使用相同名称重新创建已删除的频道，但你仍可以找到 SharePoint 文件。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-215\">Deleted channels can't be recreated with the same name, but you can still find the SharePoint files.</span></span>\n\n\n<span data-ttu-id=\"052b4-216\">下表概括列出了一个示例团队，并提供了建议的选项卡、连接器和聊天机器人。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-216\">The table below outlines a sample team with some suggested tabs, connectors, and bots.</span></span> <span data-ttu-id=\"052b4-217\">这绝不是一个完整列表，但足以让你了解哪些种类的频道可能对贵公司有用。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-217\">It's definitely not a complete list, just enough to give you an idea of what kind of channels could be useful for your company.</span></span> \n|<span data-ttu-id=\"052b4-218\">频道</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-218\">Channel</span></span>|<span data-ttu-id=\"052b4-219\">选项卡和资源</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-219\">Tabs & resources</span></span>|\n|-------|----------------|\n|<span data-ttu-id=\"052b4-220\">常规</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-220\">General</span></span>|<ul><li><span data-ttu-id=\"052b4-221\">上线指导</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-221\">Onboarding guidance</span></span></li><li><span data-ttu-id=\"052b4-222\">角色信息</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-222\">Role information</span></span></li><li><span data-ttu-id=\"052b4-223\">培训视频</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-223\">Training videos</span></span></li></ul>|\n|<span data-ttu-id=\"052b4-224\">帐户计划</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-224\">Account plans</span></span>|<ul><li><span data-ttu-id=\"052b4-225\">OneNote 用于战略帐户</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-225\">OneNote for strategic accounts</span></span></li><li><span data-ttu-id=\"052b4-226\">文件夹用于帐户计划</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-226\">Folders for account plans</span></span></li></ul>|\n|<span data-ttu-id=\"052b4-227\">预测</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-227\">Forecasting</span></span>|<ul><li><span data-ttu-id=\"052b4-228\">Power BI 仪表板</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-228\">Power BI dashboards</span></span></li><li><span data-ttu-id=\"052b4-229\">业务线 (LOB) 应用</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-229\">Line-of-business (LOB) apps</span></span></li><li><span data-ttu-id=\"052b4-230\">查看日历和任务</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-230\">Review calendar & tasks</span></span></li></ul>|\n|<span data-ttu-id=\"052b4-231\">需要帮助</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-231\">Help needed</span></span>|<ul><li><span data-ttu-id=\"052b4-232\">有关需要帮助的对话</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-232\">Conversations on help needed</span></span></li><li><span data-ttu-id=\"052b4-233\">事务审核表单</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-233\">Deal review form</span></span></li></ul>|\n|<span data-ttu-id=\"052b4-234\">区域内市场营销</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-234\">In-region marketing</span></span>|<ul><li><span data-ttu-id=\"052b4-235\">市场营销日历</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-235\">Marketing calendar</span></span></li><li><span data-ttu-id=\"052b4-236\">客户指导</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-236\">Customer guidance</span></span></li></ul>|\n|<span data-ttu-id=\"052b4-237\">产品更新和反馈</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-237\">Product updates & feedback</span></span>|<ul><li><span data-ttu-id=\"052b4-238\">定价指南</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-238\">Pricing guides</span></span></li><li><span data-ttu-id=\"052b4-239\">产品手册</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-239\">Product brochures</span></span></li><li><span data-ttu-id=\"052b4-240\">参考链接</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-240\">Reference links</span></span></li></ul>|\n<span data-ttu-id=\"052b4-241\">Contoso 的团队合作</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-241\">Teamwork at Contoso</span></span>|<ul><li><span data-ttu-id=\"052b4-242\">适用于 Teams 的工具包（*正在构建 - 请以后回来查看*)</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-242\">Toolkit for Teams (*Under construction - check back later*)</span></span></li><li><span data-ttu-id=\"052b4-243\">方法文章（例如，贵组织的快速入门指南）</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-243\">How-to articles (for example, your organization's quick-start guide)</span></span></li></ul>|\n|<span data-ttu-id=\"052b4-244\">闲谈</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-244\">Water cooler talk</span></span>|<ul><li><span data-ttu-id=\"052b4-245\">团队建设主题</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-245\">Team-building topics</span></span></li><li><span data-ttu-id=\"052b4-246\">社交活动</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-246\">Social events</span></span></li></ul>|\n\n<span data-ttu-id=\"052b4-247\">观看我们的视频“技术提示：团队、频道和选项卡设置指导”（4 分钟），了解设置团队、频道和选项卡以最大限度地提高工作效率的最佳实践。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-247\">Watch our video, Tech Tip: Guidance for Setting Up Teams, Channels and Tabs (4 minutes), to learn best practices for setting up your teams, channels, and tabs for maximum productivity.</span></span>\n> [!VIDEO https://www.youtube.com/embed/hjJWtoaRJeE]\n"
- title: <span data-ttu-id="052b4-248">脚本概览</span><span class="sxs-lookup"><span data-stu-id="052b4-248">Script at a glance</span></span>
  durationInMinutes: 2
  content: "\n<span data-ttu-id=\"052b4-249\">此脚本有 5 个部分（按从上到下的顺序列出）：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-249\">There are 5 sections to this script (listed in order from top to bottom):</span></span>\n1. <span data-ttu-id=\"052b4-250\">**文档和变量定义**</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-250\">**Documentation and variable definitions**</span></span>\n2. <span data-ttu-id=\"052b4-251\">**Function Create-Team**：创建团队（如果需要）。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-251\">**Function Create-Team**: Creates a team if necessary.</span></span> <span data-ttu-id=\"052b4-252\">如果你未指定 GroupID，则此部分将使用指定的 TeamName 和 TeamDescription 创建团队。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-252\">If you don't specify a GroupID, this section will create the team with the specified TeamName and TeamDescription.</span></span>\n3. <span data-ttu-id=\"052b4-253\">**Function Add-Channels**：如果你指定了频道，则在此提供频道说明，然后创建频道。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-253\">**Function Add-Channels**: If you've specified channels, this is where the channel description gets requested, and then the channel gets created.</span></span> \n4. <span data-ttu-id=\"052b4-254\">**Function Add-Members**：在此部分进行所有成员管理。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-254\">**Function Add-Members**: This does all member management.</span></span> <span data-ttu-id=\"052b4-255\">此部分连接到 AzureAD、提取一组用户，然后将其添加到团队（如果你未提供成员列表）。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-255\">This section connects to AzureAD,  fetches a set of users, and adds them to the team if you don’t provide a member list.</span></span> <span data-ttu-id=\"052b4-256\">此部分处理添加所有者和成员以及不添加已属于团队的成员的逻辑。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-256\">It handles the logic of adding owners and members, and not adding members who already belong to the team.</span></span> \n5. <span data-ttu-id=\"052b4-257\">**Main program**：这是各功能的执行顺序。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-257\">**Main program**: This is the order in which the functions get executed.</span></span> \n"
- title: <span data-ttu-id="052b4-258">行动号召</span><span class="sxs-lookup"><span data-stu-id="052b4-258">Call to action</span></span>
  durationInMinutes: 5
  content: "\n### <a name=\"next-steps\"></a><span data-ttu-id=\"052b4-259\">后续步骤</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-259\">Next Steps</span></span>\n\n1. <span data-ttu-id=\"052b4-260\">计划你的公司范围的团队（如果你还没有可以用于此用途的现有团队）。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-260\">Plan your company-wide team if you don't already have an existing team that can fill this role.</span></span> <span data-ttu-id=\"052b4-261\">确定名称、说明、所需的所有者以及有用的初始频道。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-261\">Figure out the name, description, required owners, and useful initial channels.</span></span> \n\n2. <span data-ttu-id=\"052b4-262\">在你的测试租户中使用你的参数测试该脚本。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-262\">Test the script using your parameters in your test tenant.</span></span> <span data-ttu-id=\"052b4-263\">添加一些示例内容，并确保其正确。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-263\">Add some sample content, and make sure it looks good.</span></span> \n\n3. <span data-ttu-id=\"052b4-264\">运行该脚本在你的租户中创建团队。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-264\">Run the script to create the team in your tenant.</span></span> <span data-ttu-id=\"052b4-265\">或者，也可以通过 Teams UI 手动创建团队、填入所有数据（频道、聊天机器人、应用、连接器），然后只是利用该脚本添加所有所有者和成员。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-265\">Alternatively, you can manually create the team through the Teams UI, seed all the data (channels, bots, apps, connectors) then leverage the script just to add all the owners and members.</span></span> <span data-ttu-id=\"052b4-266\">要查看你创建的团队列表及其 GroupID，请使用：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-266\">To see a list of teams you've created and their groupIDs use:</span></span>\n\n        Connect-MicrosoftTeams\n        Get-Team\n\n    <span data-ttu-id=\"052b4-267\">然后使用此 GroupID 并运行该脚本，指定更多所有者：</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-267\">Then use this GroupID and run the script specifying more owners:</span></span>\n\n        .\\CreateCompanyWideTeam.ps1 -GroupID \"45f7b85e-149b-4ae4-bf43-9cedf9415e34\" -Owners \"CBeane@Contoso.onmicrosoft.com\", \"PHampton@Contoso.onmicrosoft.com\"\n\n    <span data-ttu-id=\"052b4-268\">现在，当有人加入此团队时，他们就会知道还可以放置、连接哪些内容或就哪些展开聊天。</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-268\">Now when people enter this team, they already have an idea of what else they can pin, connect, or chat about.</span></span> \n\n5.  <span data-ttu-id=\"052b4-269\">向我们发送反馈</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-269\">Send us feedback</span></span>\n    - <span data-ttu-id=\"052b4-270\">在此页面底部的**评论**部分中向我们提供有关此培训的反馈或提出相关问题</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-270\">Give us feedback, or ask questions, about this training in the **Comments** section at the bottom of this page</span></span>\n    - <span data-ttu-id=\"052b4-271\">给我们发送电子邮件：[AskTeams@Microsoft.com](mailto:askteams@microsoft.com?subject=Create company-wide team using PowerShell)</span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-271\">Email us at [AskTeams@Microsoft.com](mailto:askteams@microsoft.com?subject=Create company-wide team using PowerShell)</span></span>\n    - <span data-ttu-id=\"052b4-272\">要向我们提供 Teams 产品反馈或请求新功能，请访问 <a href=\"https://aka.ms/TeamsUserVoice\" target=\"_blank\">Teams UserVoice</a></span><span class=\"sxs-lookup\"><span data-stu-id=\"052b4-272\">To give us Teams product feedback or to request a new feature, go to <a href=\"https://aka.ms/TeamsUserVoice\" target=\"_blank\">Teams UserVoice</a></span></span>"
