---
title: 规划Teams助理和呼叫队列
ms.author: mikeplum
author: MikePlumleyMSFT
manager: serdars
ms.reviewer: colongma
ms.topic: article
ms.assetid: ab9f05a2-22cb-4692-a585-27f82d1b37c7
ms.tgt.pltfrm: cloud
ms.service: msteams
search.appverid: MET150
ms.collection:
- M365-voice
- m365initiative-voice
audience: Admin
appliesto:
- Skype for Business
- Microsoft Teams
ms.localizationpriority: medium
f1.keywords:
- CSH
ms.custom:
- ms.teamsadmincenter.autoattendants.overview
- Phone System
- seo-marvel-apr2020
description: 了解自动助理和呼叫队列，以及如何使用它们来帮助呼叫者浏览菜单系统，以联系你组织中的人员或部门。
ms.openlocfilehash: 1bd9f1d299123812c4a2621e48578730126fe619
ms.sourcegitcommit: 15e90083c47eb5bcb03ca80c2e83feffe67646f2
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/30/2021
ms.locfileid: "58729571"
---
# <a name="plan-for-teams-auto-attendants-and-call-queues"></a>规划Teams助理和呼叫队列

自动助理允许您设置菜单选项，以便根据呼叫者输入路由呼叫。 菜单选项，例如"对于销售，请按 1。  对于"服务按 2"，对于自动助理，让组织提供一系列选项来引导呼叫者快速到达其目的地，而无需依赖人工接线员来处理传入呼叫。

呼叫队列正在等待呼叫者的区域。 对于呼叫者需要联系具有特定专业性（例如销售或服务）而不是特定人员的人的情况，可以使用呼叫队列将呼叫者连接到可以协助他们的代理组。 调用方将保持保留状态，直到分配到队列的代理可以发起其呼叫。

自动助理和呼叫队列一起使用可以轻松地将呼叫者路由到组织中相应的人员或部门。

## <a name="auto-attendants"></a>自动助理

自动助理的主要用途是根据呼叫者对所提供的菜单选项的输入，将呼叫者引导给相应的人员或部门。 呼叫者可以定向到组织内的特定人员，呼叫他们等待与下一个可用代理交谈的队列或语音邮件。 可以针对营业时间、非工作时间和假日指定不同的呼叫路由选项。

菜单提示可以通过使用文本到语音 (系统生成的提示) 上传录制的音频文件。 语音识别接受语音命令进行免提导航，但呼叫者也可使用电话键盘导航菜单。

每个自动助理都有特定的语言和时区。 如果你以多种语言或世界多个地区经营业务，你可以创建许多不同的自动助理，以满足你的呼叫者需求。

对于每个自动助理，可以配置操作员。 虽然可以将接线员呼叫配置为转到各种目的地，但操作员功能旨在允许呼叫者与组织中可以提供帮助的特定人员交谈。

可以将自动助理配置为允许呼叫者按姓名或分机号码搜索组织的目录。 在自动助理中，可以通过选择要包括或排除的用户组来指定可供目录搜索的用户。  (这称为拨号 *范围*.) 

呼叫者可以通过直接电话号码（如果已配置）或者通过从另一个自动助理或呼叫队列重定向来联系自动助理。

## <a name="call-queues"></a>呼叫队列

呼叫队列类似于物理大楼中的等待室。 当呼叫路由到队列中的代理时，调用方将等待等待。 呼叫队列通常用于销售和服务功能。 但是，呼叫队列可用于任何呼叫数超出内部容量的情况，例如忙碌设施中的接待员。

当队列中的呼叫者总数或等待时间超过指定的限制时，呼叫队列允许特定的呼叫路由。 呼叫可以路由到特定人员、语音邮件、其他呼叫队列或自动助理。

与自动助理一样，呼叫队列每个都有语言设置。 如果以多种语言进行业务，可以使用不同的呼叫队列。 代理可以是多个队列的成员（如果它们是多语言的）。

对于每个呼叫队列，可以指定队列中的代理是否可以选择不接听呼叫，以及是否应当根据呼叫队列中的显示指示将呼叫路由到Teams。

可以将电话号码分配给呼叫队列，但是呼叫队列不提供非工作时间和假日的单独呼叫路由。 除非你的呼叫队列是 24/7 人员，否则我们建议将电话号码分配给在营业时间重定向到呼叫队列的自动助理。

## <a name="prerequisites"></a>先决条件

若要配置自动助理和呼叫队列，需要以下资源：

- 每个自动助理和每个呼叫队列的资源帐户
- 免费电话系统 - 每个资源帐户的虚拟用户许可证
- 要直接拨打的每个资源帐户至少有一个 [Microsoft](getting-service-phone-numbers.md)服务号码、直接路由号码或混合号码
 - 服务号码可能是收费或免费号码

从呼叫队列接收呼叫的代理必须企业语音或本地用户启用。 此外，如果呼叫队列使用直接路由号码，则需要电话会议或转接呼叫的代理还需要：

- 如果呼叫队列使用传输模式，则分配的联机语音路由策略
- 如果呼叫队列使用会议模式，则分配音频会议许可证或在线语音路由策略

如果代理使用 Microsoft Teams应用进行呼叫队列调用，则需要在 TeamsOnly 模式下。

将呼叫转接到外部电话号码时，执行转接 (即与自动助理或呼叫队列) 关联的资源帐户必须具有 Microsoft 365 电话系统 虚拟用户许可证和以下分配之一：

- 分配的 [呼叫](calling-plans-for-office-365.md) 计划许可证和电话号码
- 使用 [直接路由](manage-voice-routing-policies.md) (时，可以选择使用联机语音路由策略) 

> [!NOTE]
> 自动助理和呼叫队列的直接路由服务号码仅支持Microsoft Teams和呼叫代理。<br>
> 不支持在呼叫计划中继和直接路由中继之间传输。<br>
> 在混合方案中，必须在本地创建资源帐户。 有关详细信息，请参阅规划 [云呼叫队列](/skypeforbusiness/hybrid/plan-call-queue)。

## <a name="business-decisions"></a>业务决策

在设置自动助理和呼叫队列之前，应做出一些有关如何在业务中使用这些功能的决策。 这些决策将确定配置自动助理和呼叫队列时选择的设置。

记录这些问题的解答，并为执行配置的管理员提供相关信息。

- 需要哪些语言？ 这些语言需要在何处 - 哪个部门或组？
- 是否要允许来自呼叫者的语音输入或仅允许拨号输入？
- 非工作时间或假日是否需要单独的呼叫路由？ 什么是小时和假日？
- 是否允许呼叫队列中的代理选择不接听呼叫？
- 希望呼叫队列中的代理或接线员在拨出时拥有特定的来电显示？
- 是否希望在你的组织中 [启用](call-park-and-retrieve.md) 呼叫停放和检索，以帮助人员或部门之间的呼叫协调？
- 对于语音提示，是否要录制自己的语音或使用系统生成的语音？  (系统生成的语音易于更新。) 

## <a name="technical-decisions"></a>技术决策

使用自动助理和呼叫队列将呼叫者连接到组织人员时，在开始配置之前，需要做出一些技术决策。

可以按照以下方式添加代理以调用队列：

- 单个用户
- 通讯组列表
- 安全组，包括启用邮件的安全组
- Microsoft 365组或Teams

如果需要，可以针对每个队列使用这些选项的组合。 具有电子邮件地址的组可用于语音邮件。 使用 Teams 提供许多优势，包括共享文件存储和代理之间的聊天、可接收语音邮件的公用邮箱，以及可扩展的平台，其中包括与业务线应用程序或 Power Apps 的集成。

建议在开始配置之前选择将呼叫代理添加到队列的策略。

如果有现有的自动助理和呼叫队列基础结构，并且要迁移到 Teams，则需要制定计划，将现有电话号码转移到新的自动助理和呼叫队列。 您可能需要创建转口 [订单，以](phone-number-calling-plans/port-order-overview.md) 从另一个提供商移动您的号码。 建议暂时获取一个或多个新电话号码，测试自动助理和呼叫队列流，然后再切换当前使用的电话号码。

*会议* 模式是呼叫队列中的一个选项，可显著减少将 VOIP Teams PSTN 呼叫连接到代理所花的时间。 若要使会议模式正常工作，呼叫队列中的代理必须使用以下客户端之一：

- 最新版本的桌面Microsoft Teams Android 应用或 iOS 应用
  - Microsoft Teams 1449/1.0.94.2020051601 或更高版本
  
将代理Teams帐户设置为Teams模式。 不符合要求的代理不包括在呼叫路由列表中。

如果代理都使用兼容的客户端，建议为呼叫队列启用会议模式。

## <a name="plan-your-call-routing-flow"></a>规划呼叫路由流

在规划过程中，我们建议在图表中为组织制定呼叫路由。 该图可帮助确定呼叫组织人员最有效的路由。 还可使用图表来确定需要创建的自动助理和呼叫队列，以及服务号码、许可证和资源帐户等相关要求。

让我们看看自动助理和呼叫队列如何路由呼叫。

自动助理通过以下方式之一路由所有呼叫：

- **立即重定向** - 呼叫可以重定向到下面列出的呼叫路由目标 (在) 或初始问候后立即列出。
- **基于拨号选项重定向** - 可以指示呼叫者在分配给其电话键盘上的号码的选项之间选择 0-9。 可以为每个拨号键分配呼叫路由目标。
- **按姓名或** 分机号码呼叫人员 - 呼叫者可以拨打他们尝试在组织的目录中联系的联系人的分机号码，或者通过拼写人员的姓名来拨打分机号码。
- **断开连接** - 自动助理可以挂断呼叫。

> [!NOTE]
> 单个自动助理只能支持单个"拨号方式"方法。  若要允许呼叫者按姓名和号码进行拨号，你需要创建一个自动助理，该助理具有按姓名进行拨号的选项，另一个选项用于按分机进行拨号。  其中每个选项将路由到为这些"拨号方式"方案配置的单独自动助理。

当呼叫由自动助理或呼叫队列重定向时，可以从以下呼叫路由目标中选择：

- **组织中的人** - 组织中能够接收语音呼叫的人。 这可以是联机用户，或者是使用云托管在本地Skype for Business Server。
- **语音应用** - 另一个自动助理或呼叫队列。 选择与目标关联的资源帐户。
- **外部电话号码** - 任何电话号码。  (请参阅[外部传输技术详细信息) 。](create-a-phone-system-auto-attendant.md#external-phone-number-transfers---technical-details)
- **语音邮件**- 与指定的Microsoft 365组关联的语音邮箱。 你可以选择是否要语音信箱听录和"请在语音后留言"。 系统提示。
- **接线** (自动助理) 自动助理 - 为自动助理定义的接线员。 定义运算符是可选的。 操作员可以是此列表中的任何其他目标。

自动助理为在营业时间外和节假日收到的呼叫提供单独的呼叫路由选项。 非工作时间呼叫路由允许上面列出的所有选项，而假日呼叫路由仅允许重定向或断开呼叫，但允许拨号键选项。

呼叫队列将调用方放在保持状态，直到分配到队列的代理可以发起其呼叫。 在两种情况下，调用方可能会被定向到队列中：

- **调用溢出** - 如果队列中的调用数超过设置的限制，则新调用方将重定向到队列中。
- **调用超时** - 如果调用方在队列中的时间超过配置的超时设置，则将其从队列中重定向。

从队列中重定向的呼叫可以发送到上面列出的任何呼叫路由目标，操作员除外。  (呼叫队列没有运算符，但可以将呼叫者重定向到为自动助理配置的同一目标。) 

以下示例显示了使用自动助理和呼叫队列的呼叫路由示例。

![使用自动助理和呼叫队列的呼叫路由图。](media/attendant-and-queue-call-routing.png)

在上例中：

- 0 (0) 键将调用方重定向到操作员。 该自动助理的接线员已配置为组织中 **的人**。
- 第一 (1) 键将调用方重定向到销售呼叫队列。 此呼叫队列连接到包含分配到队列的销售团队的团队。
- 两 (2) 密钥将调用方重定向到支持呼叫队列。 此呼叫队列连接到包含分配给该团队的支持团队的团队。
- 支持呼叫队列通过中间自动助理获得直接电话号码。 让自动助理应答支持行允许单独的非工作时间和假日呼叫路由。
- 三 (3) 将用户重定向到公司目录的另一个自动助理。 公司目录自动助理允许呼叫者通过拨打其姓名或分机号呼叫组织中个人。

我们建议创建一个或多个类似于上面的图表来映射呼叫路由。 请确保在图表或随附文档中包含以下内容：

- 哪些自动助理可通过电话号码直接访问？
- 每个自动助理的非工作时间和假日路线要求是什么？
- 每个调用队列的成员身份。  (可以单独添加用户或将队列映射到不同类型的组。 将队列映射到团队可提供最通用的体验。) 

下面是一些呼叫路由最佳做法：

- 查看现有呼叫系统并分析传入呼叫的类型和频率。 使用此信息帮助通知自动助理和呼叫队列结构。
- 最早在菜单中放入最常见的选项，以尽快路由调用。
- 避免将服务号码直接连接到呼叫队列，除非这些队列 24/7 可用。 呼叫队列不允许在非工作时间或假日单独处理呼叫。 如果要使用具有直接号码的队列，请为自动助理分配该号码，该自动助理会在营业时间自动重定向到队列。
- 如果您收到大量呼叫，要求提供有关您的公司的基本信息（例如营业时间、位置或网站地址）的呼叫，请考虑创建自动助理以使用录制的消息回答这些问题。
- 将菜单项列表保留为五个或更少。 呼叫者在记住超过五个选项时可能遇到问题。 如果需要更多选项来正确路由呼叫，请使用嵌套式自动助理。
- 首先描述服务，然后是按 (选项，例如：对于 Sales 按 1) ，而不是按其他方式 (例如 按 1 表示"销售) "。
- 呼叫者将理解用户术语，而不是在内部使用术语。
- 避免频繁更新调用路由。 如果以后更改自动助理的菜单选项，在前 30 天的语音提示中发出该提示。

## <a name="getting-started"></a>入门

完成本文中的规划任务后，请按照以下步骤设置自动助理和呼叫队列：

1. 从组织外部直接拨号，获取自动助理和呼叫队列所需的服务号码。 这可能包括 [从另一个提供商转移号码](phone-number-calling-plans/transfer-phone-numbers-to-teams.md) 或 [请求新的服务号码](getting-service-phone-numbers.md)。

2. 获取[电话系统创建的每个](teams-add-on-licensing/virtual-user.md)资源帐户的虚拟用户许可证。 这些许可证是免费的，因此如果你决定在将来对资源帐户进行更改，我们建议额外获取一些许可证。

3. [为要创建的每个](manage-resource-accounts.md) 自动助理和呼叫队列创建资源帐户。 为每个帐户分配电话系统 - 虚拟用户许可证和服务编号（可选）。

4. [创建想要](set-up-holidays-in-teams.md) 在自动助理中单独进行呼叫路由的假日。

5. （可选 [）如果要使用](call-park-and-retrieve.md) 此功能来帮助进行呼叫转接，请设置呼叫停放和检索。

6. 创建要用于包含呼叫队列的呼叫代理的组。

7. 如果计划允许按分机进行拨号，请确保你已将用户的分机号码添加到其Azure Active Directory个人资料。

完成上述步骤后，即可创建自动助理和呼叫队列。 由于自动助理和呼叫队列可以将呼叫重定向到彼此，因此请参考创建的工作流关系图，以确定应首先创建哪个自动助理或呼叫队列。 在上图中的示例中，创建 Contoso 主自动助理之前，需创建销售和支持呼叫队列，因为主自动助理需要将呼叫者引导至销售和支持呼叫队列。

请参阅以下文章，了解如何创建自动助理和呼叫队列：

- [设置自动助理](create-a-phone-system-auto-attendant.md)
- [创建呼叫队列](create-a-phone-system-call-queue.md)

如果需要更广泛的功能（例如与工作流、机器人和短信集成），请考虑 [使用 Azure 通信服务](/azure/communication-services/overview)。

## <a name="related-topics"></a>相关主题

[规划直接路由](direct-routing-plan.md)

[音频会议和通话套餐的国家/地区可用性](country-and-region-availability-for-audio-conferencing-and-calling-plans/country-and-region-availability-for-audio-conferencing-and-calling-plans.md)

[创建呼叫队列 - 小型企业教程](business-voice/create-a-phone-system-call-queue-smb.md)

[设置自动助理 - 小型企业教程](business-voice/create-a-phone-system-auto-attendant-smb.md)
