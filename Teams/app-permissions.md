---
title: Microsoft 团队应用程序权限和注意事项
author: Lester-Hewett
ms.author: lehewe
manager: serdars
ms.date: 08/20/2018
ms.topic: article
ms.service: msteams
search.appverid: MET150
ms.reviewer: lehewe
description: 了解请求从您的组织数据和权限的应用程序。
localization_priority: Priority
appliesto:
- Microsoft Teams
ms.openlocfilehash: f35620c1778bbe12f7d98f1a326e47a58804680b
ms.sourcegitcommit: 2a6e499165424fe2d189ad140951e222c8ba9c81
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/07/2018
ms.locfileid: "23870170"
---
# <a name="microsoft-teams-apps-permissions-and-considerations"></a><span data-ttu-id="7bb00-103">Microsoft 团队应用程序权限和注意事项</span><span class="sxs-lookup"><span data-stu-id="7bb00-103">Microsoft Teams apps permissions and considerations</span></span>

<span data-ttu-id="7bb00-104">Microsoft 团队应用程序是一种方法，以聚合到可安装、 升级和卸载_应用程序包_的一个或多个功能。</span><span class="sxs-lookup"><span data-stu-id="7bb00-104">Microsoft Teams apps are a way to aggregate one or more capabilities into an _app package_ that can be installed, upgraded, and uninstalled.</span></span> <span data-ttu-id="7bb00-105">功能包括：</span><span class="sxs-lookup"><span data-stu-id="7bb00-105">The capabilities include:</span></span>

-   <span data-ttu-id="7bb00-106">自动程序</span><span class="sxs-lookup"><span data-stu-id="7bb00-106">Bots</span></span>
-   <span data-ttu-id="7bb00-107">消息扩展</span><span class="sxs-lookup"><span data-stu-id="7bb00-107">Messaging extensions</span></span>
-   <span data-ttu-id="7bb00-108">选项卡</span><span class="sxs-lookup"><span data-stu-id="7bb00-108">Tabs</span></span>
-   <span data-ttu-id="7bb00-109">连接器</span><span class="sxs-lookup"><span data-stu-id="7bb00-109">Connectors</span></span>

<span data-ttu-id="7bb00-110">应用程序是由用户同意和由 IT 从策略角度。</span><span class="sxs-lookup"><span data-stu-id="7bb00-110">Apps are consented to by users and managed by IT from a policy perspective.</span></span> <span data-ttu-id="7bb00-111">但是，大多数情况下，应用程序的权限和风险配置文件由定义的权限和风险配置文件，它包含的功能。</span><span class="sxs-lookup"><span data-stu-id="7bb00-111">However, for the most part, an app's permissions and risk profile are defined by the permissions and risk profiles of the capabilities it contains.</span></span> <span data-ttu-id="7bb00-112">因此，本文重点介绍权限和功能级别的注意事项。</span><span class="sxs-lookup"><span data-stu-id="7bb00-112">Therefore, this article focuses on permissions and considerations at the capability level.</span></span>

<span data-ttu-id="7bb00-113">以大写字母形式，例如 RECEIVE_MESSAGE 和 REPLYTO_MESSAGE，下面列出的权限不出现在[Microsoft 团队开发人员文档](https://aka.ms/teamsdevdocs)或[Microsoft Graph 权限](https://developer.microsoft.com/graph/docs/concepts/permissions_reference)的任何位置。</span><span class="sxs-lookup"><span data-stu-id="7bb00-113">The permissions listed below in capital letters, for example RECEIVE_MESSAGE and REPLYTO_MESSAGE, don't appear anywhere in the [Microsoft Teams developer documentation](https://aka.ms/teamsdevdocs) or the [permissions for Microsoft Graph](https://developer.microsoft.com/graph/docs/concepts/permissions_reference).</span></span> <span data-ttu-id="7bb00-114">它们只需描述性简写出于本文目的。</span><span class="sxs-lookup"><span data-stu-id="7bb00-114">They're simply a descriptive shorthand for the purpose of this article.</span></span>


|    |     |
|-----------|------------|
| ![](media/audio_conferencing_image7.png) <br/><span data-ttu-id="7bb00-115">决策点</span><span class="sxs-lookup"><span data-stu-id="7bb00-115">Decision point</span></span>|<ul><li><span data-ttu-id="7bb00-116">使用下的表作为指南来了解您正在调查的应用程序正在请求的权限。</span><span class="sxs-lookup"><span data-stu-id="7bb00-116">Use the tables below as a guide to understand which permissions the apps you're investigating are requesting.</span></span></li></ul> |
| ![](media/audio_conferencing_image9.png)<br/><span data-ttu-id="7bb00-117">下一步</span><span class="sxs-lookup"><span data-stu-id="7bb00-117">Next step</span></span>|<ul><li><span data-ttu-id="7bb00-118">研究应用程序或服务本身来确定您是否要允许组织内的对其进行访问。</span><span class="sxs-lookup"><span data-stu-id="7bb00-118">Research the app or service itself to decide whether you want to allow access to it within your organization.</span></span> <span data-ttu-id="7bb00-119">例如，bot 发送和接收来自用户，邮件和 — 企业业务线 bot 除外 — 合规性边界外，它们位于。</span><span class="sxs-lookup"><span data-stu-id="7bb00-119">For example, bots send and receive messages from users, and—except for enterprise line-of-business bots—they're located outside the compliance boundary.</span></span> <span data-ttu-id="7bb00-120">因此，包括 bot 任何应用程序需要这些权限，并且至少具有风险的配置文件。</span><span class="sxs-lookup"><span data-stu-id="7bb00-120">Therefore, any app that includes a bot requires those permissions and has that risk profile, at a minimum.</span></span> </li></ul>|

## <a name="global-app-permissions-and-considerations"></a><span data-ttu-id="7bb00-121">全局应用程序权限和注意事项</span><span class="sxs-lookup"><span data-stu-id="7bb00-121">Global app permissions and considerations</span></span>

<table>
  <tr>
    <th width="25%"><span data-ttu-id="7bb00-122">所需的权限</span><span class="sxs-lookup"><span data-stu-id="7bb00-122">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="7bb00-123">可选的权限</span><span class="sxs-lookup"><span data-stu-id="7bb00-123">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="7bb00-124">考虑事项</span><span class="sxs-lookup"><span data-stu-id="7bb00-124">Considerations</span></span></th>
  </tr>
  <tr>
    <td valign="top"><span data-ttu-id="7bb00-125">无</span><span class="sxs-lookup"><span data-stu-id="7bb00-125">None</span></span></td>
    <td valign="top"><span data-ttu-id="7bb00-126">无</span><span class="sxs-lookup"><span data-stu-id="7bb00-126">None</span></span></td>
    <td valign="top"><span data-ttu-id="7bb00-127">应用程序必须公开其使用哪些数据和数据用于在其术语中的使用和隐私策略链接。</span><span class="sxs-lookup"><span data-stu-id="7bb00-127">An app must disclose what data it uses and what the data is used for in its terms of use and privacy policy links.</span></span></td>
  </tr>
</table>

## <a name="bots-and-messaging-extensions"></a><span data-ttu-id="7bb00-128">Bot 和消息扩展</span><span class="sxs-lookup"><span data-stu-id="7bb00-128">Bots and messaging extensions</span></span>

<table>
 <thead>
  <tr>
    <th width="0.5%"></th>
    <th width="24.5%"><span data-ttu-id="7bb00-129">所需的权限</span><span class="sxs-lookup"><span data-stu-id="7bb00-129">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="7bb00-130">可选的权限</span><span class="sxs-lookup"><span data-stu-id="7bb00-130">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="7bb00-131">考虑事项</span><span class="sxs-lookup"><span data-stu-id="7bb00-131">Considerations</span></span></th>
  </tr>
</thead>
<tbody>
   <tr>
    <td valign="top" colspan="2"><ul><li>   <span data-ttu-id="7bb00-132">RECEIVE_MESSAGE，REPLYTO_MESSAGE。</span><span class="sxs-lookup"><span data-stu-id="7bb00-132">RECEIVE_MESSAGE, REPLYTO_MESSAGE.</span></span> <span data-ttu-id="7bb00-133">自动程序可以接收来自用户邮件和答复。<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="7bb00-133">The bot can receive messages from users and reply to them.<sup>1</sup></span></span></li><li><span data-ttu-id="7bb00-134">POST_MESSAGE_USER。</span><span class="sxs-lookup"><span data-stu-id="7bb00-134">POST_MESSAGE_USER.</span></span> <span data-ttu-id="7bb00-135">用户已向 bot 发送一条消息后，bot 可以发送用户直接邮件 （也称为_预防性消息_） 在任何时间。</span><span class="sxs-lookup"><span data-stu-id="7bb00-135">After a user has sent a message to a bot, the bot can send the user direct messages (also called _proactive messages_) at any time.</span></span></li><li><span data-ttu-id="7bb00-136">GET_CHANNEL_LIST。</span><span class="sxs-lookup"><span data-stu-id="7bb00-136">GET_CHANNEL_LIST.</span></span> <span data-ttu-id="7bb00-137">自动程序添加到团队可以获取团队中的名称和 Id 的通道的列表。</span><span class="sxs-lookup"><span data-stu-id="7bb00-137">Bots added to teams can get a list of names and IDs of the channels in a team.</span></span></li></ul></td>
    <td valign="top"><ul><li><span data-ttu-id="7bb00-138">标识。</span><span class="sxs-lookup"><span data-stu-id="7bb00-138">IDENTITY.</span></span> <span data-ttu-id="7bb00-139">应用程序的自动程序在频道使用它时，可以访问工作组成员 （名字、 姓氏、 用户主体名称 [UPN]、 电子邮件地址）; 基本标识的信息个人或组聊天中使用它时，自动程序可以访问这些用户相同的信息。</span><span class="sxs-lookup"><span data-stu-id="7bb00-139">When it's used in a channel, the app's bots can access basic identity information of team members (first name, last name, user principal name [UPN], email address); when it's used in a personal or group chat, the bot can access the same information for those users.</span></span></li><li> <span data-ttu-id="7bb00-140">POST_MESSAGE_TEAM。</span><span class="sxs-lookup"><span data-stu-id="7bb00-140">POST_MESSAGE_TEAM.</span></span> <span data-ttu-id="7bb00-141">允许应用程序的自动程序在任何时候，将直接 （主动） 邮件发送到任何团队成员即使用户具有从不讨论到 bot 之前。</span><span class="sxs-lookup"><span data-stu-id="7bb00-141">Allows an app's bots to send direct (proactive) messages to any team member at any time, even if the user has never talked to the bot before.</span></span></li><li><span data-ttu-id="7bb00-142">以下不显式权限，但隐含 RECEIVE_MESSAGE REPLYTO_MESSAGE 并向其中自动程序可以使用，在清单中声明的范围：</span><span class="sxs-lookup"><span data-stu-id="7bb00-142">The following are not explicit permissions, but are implied by RECEIVE_MESSAGE and REPLYTO_MESSAGE and the scopes into which the bots can be used, declared in the manifest:</span></span> <ul><li><span data-ttu-id="7bb00-143">RECEIVE_MESSAGE_PERSONAL REPLYTO_MESSAGE_PERSONAL</span><span class="sxs-lookup"><span data-stu-id="7bb00-143">RECEIVE_MESSAGE_PERSONAL, REPLYTO_MESSAGE_PERSONAL</span></span></li><li><span data-ttu-id="7bb00-144">RECEIVE_MESSAGE_GROUPCHAT、 REPLYTO_MESSAGE_GROUPCHAT<sup>2</sup> </span><span class="sxs-lookup"><span data-stu-id="7bb00-144">RECEIVE_MESSAGE_GROUPCHAT, REPLYTO_MESSAGE_GROUPCHAT<sup>2</sup> </span></span></li><li><span data-ttu-id="7bb00-145">RECEIVE_MESSAGE_TEAM REPLYTO_MESSAGE_TEAM</span><span class="sxs-lookup"><span data-stu-id="7bb00-145">RECEIVE_MESSAGE_TEAM, REPLYTO_MESSAGE_TEAM</span></span></li></ul><li><span data-ttu-id="7bb00-146">SEND_FILES，RECEIVE_FILES。<sup>3</sup>自动程序是否可以发送和接收文件 （尚未支持群聊或通道） 的个人聊天中的控件。</span><span class="sxs-lookup"><span data-stu-id="7bb00-146">SEND_FILES, RECEIVE_FILES.<sup>3</sup> Controls whether a bot can send and receive files in personal chat (not yet supported for group chat or channels).</span></span></li></ul></td>
    <td valign="top"><ul><li><span data-ttu-id="7bb00-147">自动程序仅有权访问团队其他们已被添加到或已安装它们的用户。</span><span class="sxs-lookup"><span data-stu-id="7bb00-147">Bots only have access to teams to which they've been added or to users who have installed them.</span></span></li><li><span data-ttu-id="7bb00-148">自动程序仅接收顺序它们明确提到用户的消息。</span><span class="sxs-lookup"><span data-stu-id="7bb00-148">Bots only receive messages in which they're explicitly mentioned by users.</span></span> <span data-ttu-id="7bb00-149">此数据离开企业网络。</span><span class="sxs-lookup"><span data-stu-id="7bb00-149">This data leaves the corporate network.</span></span></li><li>    <span data-ttu-id="7bb00-150">自动程序可以仅答复提到这些的对话。</span><span class="sxs-lookup"><span data-stu-id="7bb00-150">Bots can only reply to conversations in which they're mentioned.</span></span></li><li><span data-ttu-id="7bb00-151">用户具有与自动程序、 conversed，如果 bot 存储该用户的 ID 后，它可以发送该用户直接消息在任何时间。</span><span class="sxs-lookup"><span data-stu-id="7bb00-151">After a user has conversed with a bot, if the bot stores that user's ID, it can send that user direct messages at any time.</span></span> </li><li><span data-ttu-id="7bb00-152">理论上可以 bot 邮件包含指向网络钓鱼或恶意软件的网站，但由用户，租户管理员，或全局由 Microsoft 会阻止自动程序。</span><span class="sxs-lookup"><span data-stu-id="7bb00-152">It is theoretically possible for bot messages to contain links to phishing or malware sites, but bots can be blocked by the user, the tenant admin, or globally by Microsoft.</span></span> </li><li><span data-ttu-id="7bb00-153">自动程序可以检索 （和可能存储） 应用程序已添加到，工作组成员或单个用户的个人或组聊天非常基本标识信息。</span><span class="sxs-lookup"><span data-stu-id="7bb00-153">A bot can retrieve (and might store) very basic identity information for the team members the app has been added to, or for individual users in personal or group chats.</span></span> <span data-ttu-id="7bb00-154">以获取更多有关这些用户的信息，自动程序必须要求其登录到 Azure Active Directory (Azure AD)。</span><span class="sxs-lookup"><span data-stu-id="7bb00-154">To get further information about these users, the bot must require them to sign in to Azure Active Directory (Azure AD).</span></span> </li><li><span data-ttu-id="7bb00-155">自动程序可以检索 （并可能存储） 通道团队; 中的列表此数据离开企业网络。</span><span class="sxs-lookup"><span data-stu-id="7bb00-155">Bots can retrieve (and might store) the list of channels in a team; this data leaves the corporate network.</span></span> </li><li><span data-ttu-id="7bb00-156">当文件发送到自动程序时，该文件离开企业网络。</span><span class="sxs-lookup"><span data-stu-id="7bb00-156">When a file is sent to a bot, the file leaves the corporate network.</span></span> <span data-ttu-id="7bb00-157">发送和接收文件的每个文件需要用户审批。</span><span class="sxs-lookup"><span data-stu-id="7bb00-157">Sending and receiving files requires user approval for each file.</span></span> </li><li><span data-ttu-id="7bb00-158">默认情况下自动程序没有能够代表用户，但 bot 可以要求用户登录;只要用户登录时，自动程序将具有访问令牌与它可以执行其他操作。</span><span class="sxs-lookup"><span data-stu-id="7bb00-158">By default, bots don't have the ability to act on behalf of the user, but bots can ask users to sign in; as soon as the user signs in, the bot will have an access token with which it can do additional things.</span></span> <span data-ttu-id="7bb00-159">完全内容这些其他事项取决于 bot 和用户登录： 自动程序是在注册 Azure AD 应用程序<a href="https://apps.dev.microsoft.com/">https://apps.dev.microsoft.com/</a>并且可以具有自己的权限集。</span><span class="sxs-lookup"><span data-stu-id="7bb00-159">Exactly what those additional things are depends on the bot and where the user signs in: a bot is an Azure AD app registered at <a href="https://apps.dev.microsoft.com/">https://apps.dev.microsoft.com/</a> and can have its own set of permissions.</span></span></li><li><span data-ttu-id="7bb00-160">只要用户添加或删除从团队，就明智 bot。</span><span class="sxs-lookup"><span data-stu-id="7bb00-160">Bots are informed whenever users are added to or deleted from a team.</span></span></li><li><span data-ttu-id="7bb00-161">Bot 看不到用户的 IP 地址或其他引用网站信息。</span><span class="sxs-lookup"><span data-stu-id="7bb00-161">Bots don't see users' IP addresses or other referrer information.</span></span> <span data-ttu-id="7bb00-162">来自 Microsoft 的所有信息。</span><span class="sxs-lookup"><span data-stu-id="7bb00-162">All information comes from Microsoft.</span></span> <span data-ttu-id="7bb00-163">(还有一个例外： 如果 bot 实现自己登录体验，登录 UI 看到用户的 IP 地址和引用网站信息。)</span><span class="sxs-lookup"><span data-stu-id="7bb00-163">(There is one exception: if a bot implements its own sign-in experience, the sign-in UI will see users' IP addresses and referrer information.)</span></span></li><li><span data-ttu-id="7bb00-164">另一方面，消息扩展，看用户的 IP 地址和引用网站信息。</span><span class="sxs-lookup"><span data-stu-id="7bb00-164">Messaging extensions, on the other hand, do see users' IP addresses and referrer information.</span></span></li><li><span data-ttu-id="7bb00-165">应用程序准则 （和 AppSource 审阅过程） 需要出于有效目的而 （通过 POST_MESSAGE_TEAM 权限中） 向用户发布个人聊天消息中的决定。</span><span class="sxs-lookup"><span data-stu-id="7bb00-165">App guidelines (and our AppSource review process) require discretion in posting personal chat messages to users (via the POST_MESSAGE_TEAM permission) for valid purposes.</span></span> <span data-ttu-id="7bb00-166">发生滥用，用户可以阻止 bot，租户管理员可以阻止该应用程序，以及 Microsoft 可以根据需要集中阻止自动程序。</span><span class="sxs-lookup"><span data-stu-id="7bb00-166">In the event of abuse, users can block the bot, tenant admins can block the app, and Microsoft can block bots centrally if necessary.</span></span></li></ul></td>
</tr>
</tbody>
<tfoot>
<tr><td align="right"><span data-ttu-id="7bb00-167"><sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="7bb00-167"><sup>1</sup></span></span></td><td colspan="3"><span data-ttu-id="7bb00-168">某些 bot 只能发送消息 (POST_MESSAGE_USER)。</span><span class="sxs-lookup"><span data-stu-id="7bb00-168">Some bots only send messages (POST_MESSAGE_USER).</span></span> <span data-ttu-id="7bb00-169">其称作"仅限通知"自动程序，但术语不涉及哪些 bot 是允许或不允许执行，这意味着 bot 不想要公开交谈体验。</span><span class="sxs-lookup"><span data-stu-id="7bb00-169">They're called "notification-only" bots, but the term doesn't refer to what a bot is allowed or not allowed to do, it means that the bot doesn't want to expose a conversational experience.</span></span> <span data-ttu-id="7bb00-170">团队使用此字段禁用通常会启用; 在 UI 中的功能在什么它已允许执行不要公开交谈体验的 bot 相比，bot 不受限制。</span><span class="sxs-lookup"><span data-stu-id="7bb00-170">Teams uses this field to disable functionality in the UI that would ordinarily be enabled; the bot isn't restricted in what it's allowed to do compared to bots that do expose a conversational experience.</span></span></td></tr>
<tr><td align="right"><span data-ttu-id="7bb00-171"><sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="7bb00-171"><sup>2</sup></span></span></td><td colspan="3"><span data-ttu-id="7bb00-172">正在开发人员预览。</span><span class="sxs-lookup"><span data-stu-id="7bb00-172">Currently in Developer Preview.</span></span></td></tr>
<tr><td align="right"><span data-ttu-id="7bb00-173"><sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="7bb00-173"><sup>3</sup></span></span></td><td colspan="3"><span data-ttu-id="7bb00-174">正在开发人员预览。</span><span class="sxs-lookup"><span data-stu-id="7bb00-174">Currently in Developer Preview.</span></span> <span data-ttu-id="7bb00-175">为由<code>supportsFiles</code>上的应用程序 manifest.json 文件中的自动程序对象的布尔值属性。</span><span class="sxs-lookup"><span data-stu-id="7bb00-175">Governed by the <code>supportsFiles</code> Boolean property on the bot object in the manifest.json file for the app.</span></span></td>
</tr>
</tfoot>
</table>

> [!Note]
> <ul><li><span data-ttu-id="7bb00-176">如果自动程序有自己登录，则第二个 — 不同 — 的同意体验第一次用户登录。</span><span class="sxs-lookup"><span data-stu-id="7bb00-176">If a bot has its own sign-in, there's a second—different—consent experience the first time the user signs in.</span></span></li><li><span data-ttu-id="7bb00-177">目前，与任何 （自动程序、 选项卡、 连接器或消息扩展） 中的团队应用程序内的功能关联的 Azure AD 权限是从此处列出的团队权限完全独立。</span><span class="sxs-lookup"><span data-stu-id="7bb00-177">Currently, the Azure AD permissions associated with any of the capabilities inside a Teams app (bot, tab, connector, or messaging extension) are completely separate from the Teams permissions listed here.</span></span></li></ul>


## <a name="tabs"></a><span data-ttu-id="7bb00-178">选项卡</span><span class="sxs-lookup"><span data-stu-id="7bb00-178">Tabs</span></span>

<span data-ttu-id="7bb00-179">Tab 是团队内运行的网站。</span><span class="sxs-lookup"><span data-stu-id="7bb00-179">A tab is a website running inside Teams.</span></span>

<table>
  <tr>
    <th width="25%"><span data-ttu-id="7bb00-180">所需的权限</span><span class="sxs-lookup"><span data-stu-id="7bb00-180">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="7bb00-181">可选的权限</span><span class="sxs-lookup"><span data-stu-id="7bb00-181">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="7bb00-182">考虑事项</span><span class="sxs-lookup"><span data-stu-id="7bb00-182">Considerations</span></span></th>
  </tr>
  <tr>
    <td valign="top"><span data-ttu-id="7bb00-183">SEND_AND_RECEIVE_WEB_DATA</span><span class="sxs-lookup"><span data-stu-id="7bb00-183">SEND_AND_RECEIVE_WEB_DATA</span></span></td>
    <td valign="top"><span data-ttu-id="7bb00-184">（当前） 无。</span><span class="sxs-lookup"><span data-stu-id="7bb00-184">None (currently).</span></span></td>
    <td valign="top"><ul><li><span data-ttu-id="7bb00-185">选项卡的风险配置文件是与浏览器选项卡中运行该相同网站几乎完全相同。</span><span class="sxs-lookup"><span data-stu-id="7bb00-185">The risk profile for a tab is almost identical to that same website running in a browser tab.</span></span> </li><li><span data-ttu-id="7bb00-186">选项卡还获取的上下文中运行，包括登录名和 UPN 当前用户 Azure AD 对象的当前用户的 ID 的 Office 365 组 （工作组） 其所在，租户 ID，并且用户的当前区域设置 ID。</span><span class="sxs-lookup"><span data-stu-id="7bb00-186">A tab also gets the context in which it's running, including the sign-in name and UPN of the current user, the Azure AD Object ID for the current user, the ID of the Office 365 Group (team) in which it resides, the tenant ID, and the current locale of the user.</span></span> <span data-ttu-id="7bb00-187">但是，若要将这些 Id 映射到用户的信息，选项卡将必须使用户登录到 Azure AD。</span><span class="sxs-lookup"><span data-stu-id="7bb00-187">However, to map these IDs to a user's information, the tab would have to make the user sign in to Azure AD.</span></span></li></ul></td>
  </tr>
  </table>

## <a name="connectors"></a><span data-ttu-id="7bb00-188">连接器</span><span class="sxs-lookup"><span data-stu-id="7bb00-188">Connectors</span></span>

<span data-ttu-id="7bb00-189">外部系统中的事件发生时，连接器发布到频道的邮件。</span><span class="sxs-lookup"><span data-stu-id="7bb00-189">A connector posts messages to a channel when events in an external system occur.</span></span>

  <table>
  <tr>
    <th width="25%"><span data-ttu-id="7bb00-190">所需的权限</span><span class="sxs-lookup"><span data-stu-id="7bb00-190">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="7bb00-191">可选的权限</span><span class="sxs-lookup"><span data-stu-id="7bb00-191">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="7bb00-192">考虑事项</span><span class="sxs-lookup"><span data-stu-id="7bb00-192">Considerations</span></span></th>
  </tr>
  <tr>
    <td valign="top"><span data-ttu-id="7bb00-193">POST_MESSAGE_CHANNEL</span><span class="sxs-lookup"><span data-stu-id="7bb00-193">POST_MESSAGE_CHANNEL</span></span></td>
    <td valign="top"><span data-ttu-id="7bb00-194">REPLYTO_CONNECTOR_MESSAGE。</span><span class="sxs-lookup"><span data-stu-id="7bb00-194">REPLYTO_CONNECTOR_MESSAGE.</span></span> <span data-ttu-id="7bb00-195">某些连接器支持_可操作的消息_，使用户可以通过添加响应的 GitHub 问题或日期向 Trello 卡片例如张贴目标的答复连接器邮件。</span><span class="sxs-lookup"><span data-stu-id="7bb00-195">Certain connectors support _actionable messages_, which allow users to post targeted replies to the connector message, for example by adding a response to a GitHub issue or adding a date to a Trello card.</span></span></td>
    <td valign="top"><ul><li><span data-ttu-id="7bb00-196">文章连接器邮件系统不知道其发布到或接收邮件的用户： 披露关于该收件人无信息。</span><span class="sxs-lookup"><span data-stu-id="7bb00-196">The system that posts connector messages doesn't know who it's posting to or who receives the messages: no information about the recipient is disclosed.</span></span> <span data-ttu-id="7bb00-197">（Microsoft 是实际的收件人，租户;Microsoft 执行的实际发布到该频道。）</span><span class="sxs-lookup"><span data-stu-id="7bb00-197">(Microsoft is the actual recipient, not the tenant; Microsoft does the actual post to the channel.)</span></span></li><li><span data-ttu-id="7bb00-198">没有数据离开企业网络时连接器邮件发布到通道。</span><span class="sxs-lookup"><span data-stu-id="7bb00-198">No data leaves the corporate network when connector messages are posted to a channel.</span></span></li><li><span data-ttu-id="7bb00-199">支持可操作的消息 （REPLYTO_CONNECTOR_MESSAGE 权限） 的连接器也看不到 IP 地址和引用网站信息;此信息发送给 Microsoft，然后路由至已 Microsoft 连接器门户中的 HTTP 终结点。</span><span class="sxs-lookup"><span data-stu-id="7bb00-199">Connectors that support actionable messages (REPLYTO_CONNECTOR_MESSAGE permission) also don't see IP address and referrer information; this information is sent to Microsoft and then routed to HTTP endpoints that were previously registered with Microsoft in the Connectors portal.</span></span></li><li><span data-ttu-id="7bb00-200">连接器配置通道，每次创建该连接器实例的唯一的 URL。</span><span class="sxs-lookup"><span data-stu-id="7bb00-200">Each time a connector is configured for a channel, a unique URL for that connector instance is created.</span></span> <span data-ttu-id="7bb00-201">如果删除该连接器实例，则可以不再使用的 URL。</span><span class="sxs-lookup"><span data-stu-id="7bb00-201">If that connector instance is deleted, the URL can no longer be used.</span></span></li><li><span data-ttu-id="7bb00-202">连接器邮件不能包含附件的文件。</span><span class="sxs-lookup"><span data-stu-id="7bb00-202">Connector messages can't contain file attachments.</span></span></li><li><span data-ttu-id="7bb00-203">URL 应视为机密/机密的连接器实例： 任何人都 URL 可以发布，喜欢的电子邮件地址。</span><span class="sxs-lookup"><span data-stu-id="7bb00-203">The connector instance URL should be treated as secret/confidential: anyone who has that URL can post to it, like an email address.</span></span> <span data-ttu-id="7bb00-204">因此，是一些风险的垃圾邮件或网络钓鱼或恶意软件的网站的链接。</span><span class="sxs-lookup"><span data-stu-id="7bb00-204">Therefore, there's some risk of spam or links to phishing or malware sites.</span></span> <span data-ttu-id="7bb00-205">如果的发生，团队所有者可以删除的连接器实例。</span><span class="sxs-lookup"><span data-stu-id="7bb00-205">If that were to happen, team owners can delete the connector instance.</span></span></li><li><span data-ttu-id="7bb00-206">如果发送连接器邮件已泄露和开始发送恶意软件垃圾邮件/网络钓鱼链接的服务，租户管理员可以阻止新连接器实例创建，可以通过 Microsoft 集中阻止。</span><span class="sxs-lookup"><span data-stu-id="7bb00-206">If the service that sends connector messages were to become compromised and start sending spam/phishing/malware links, a tenant administrator can prevent new connector instances from being created and Microsoft can block them centrally.</span></span></li></ul></td>
  </tr>
</table>

> [!Note]
> <span data-ttu-id="7bb00-207">不是当前可以知道哪些连接线支持可操作的消息 （REPLYTO_CONNECTOR_MESSAGE 权限）。</span><span class="sxs-lookup"><span data-stu-id="7bb00-207">It's not currently possible to know which connectors support actionable messages (REPLYTO_CONNECTOR_MESSAGE permission).</span></span>


## <a name="outgoing-webhooks"></a><span data-ttu-id="7bb00-208">传出 webhooks</span><span class="sxs-lookup"><span data-stu-id="7bb00-208">Outgoing webhooks</span></span>

<span data-ttu-id="7bb00-209">_传出 webhooks_创建动态团队所有者或团队成员如果 sideloading 启用租户。</span><span class="sxs-lookup"><span data-stu-id="7bb00-209">_Outgoing webhooks_ are created on the fly by team owners or team members if sideloading is enabled for a tenant.</span></span> <span data-ttu-id="7bb00-210">它们不是团队应用程序; 的功能完整性包含此信息。</span><span class="sxs-lookup"><span data-stu-id="7bb00-210">They aren't capabilities of Teams apps; this information is included for completeness.</span></span>

<table>
  <tr>
    <th width="25%"><span data-ttu-id="7bb00-211">所需的权限</span><span class="sxs-lookup"><span data-stu-id="7bb00-211">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="7bb00-212">可选的权限</span><span class="sxs-lookup"><span data-stu-id="7bb00-212">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="7bb00-213">考虑事项</span><span class="sxs-lookup"><span data-stu-id="7bb00-213">Considerations</span></span></th>
  </tr>
    <tr>
    <td valign="top"><span data-ttu-id="7bb00-214">RECEIVE_MESSAGE，REPLYTO_MESSAGE。</span><span class="sxs-lookup"><span data-stu-id="7bb00-214">RECEIVE_MESSAGE, REPLYTO_MESSAGE.</span></span> <span data-ttu-id="7bb00-215">可以接收来自用户邮件和答复。</span><span class="sxs-lookup"><span data-stu-id="7bb00-215">Can receive messages from users and reply to them.</span></span></td>
    <td valign="top"><span data-ttu-id="7bb00-216">无</span><span class="sxs-lookup"><span data-stu-id="7bb00-216">None</span></span></td>
    <td valign="top"><ul><li><span data-ttu-id="7bb00-217">传出 webhooks 类似于 bot 但具有更少的权限。</span><span class="sxs-lookup"><span data-stu-id="7bb00-217">Outgoing webhooks are similar to bots but have fewer privileges.</span></span> <span data-ttu-id="7bb00-218">它们必须是明确提到，就像 bot。</span><span class="sxs-lookup"><span data-stu-id="7bb00-218">They must be explicitly mentioned, just like bots.</span></span></li><li><span data-ttu-id="7bb00-219">传出 webhook 注册时，会生成_密码_，此程序允许传出 webhook 验证发件人，而不是恶意攻击者是 Microsoft 团队。</span><span class="sxs-lookup"><span data-stu-id="7bb00-219">When an outgoing webhook is registered, a _secret_ is generated, which allows the outgoing webhook to verify that the sender is Microsoft Teams as opposed to a malicious attacker.</span></span> <span data-ttu-id="7bb00-220">此密钥应保持机密;有权访问它的任何人都可以模拟的 Microsoft 团队。</span><span class="sxs-lookup"><span data-stu-id="7bb00-220">This secret should remain a secret; anyone who has access to it can impersonate Microsoft Teams.</span></span> <span data-ttu-id="7bb00-221">如果密钥被泄露，传出 webhook 可以删除和重新创建，并将生成新密码。</span><span class="sxs-lookup"><span data-stu-id="7bb00-221">If the secret is compromised, the outgoing webhook can be deleted and re-created, and a new secret will be generated.</span></span></li><li><span data-ttu-id="7bb00-222">虽然可以创建不验证密码传出 webhook，我们建议不要它。</span><span class="sxs-lookup"><span data-stu-id="7bb00-222">Although it's possible to create an outgoing webhook that doesn't validate the secret, we recommend against it.</span></span></li><li><span data-ttu-id="7bb00-223">接收和答复邮件，之外传出 webhooks 无法做： 无法主动发送的邮件，他们无法发送或接收文件，他们不能进行任何其他操作，可以执行除 bot，接收和答复邮件。</span><span class="sxs-lookup"><span data-stu-id="7bb00-223">Other than receiving and replying to messages, outgoing webhooks can't do much: they can't proactively send messages, they can't send or receive files, they can't do anything else that bots can do except receive and reply to messages.</span></span></li></ul></td>
  </tr>
</table>