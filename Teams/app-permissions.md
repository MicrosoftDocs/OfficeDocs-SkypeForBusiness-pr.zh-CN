---
title: Microsoft Teams 应用权限和考虑事项
author: Lester-Hewett
ms.author: lehewe
manager: serdars
ms.date: 08/20/2018
ms.topic: article
ms.service: msteams
ms.collection: Teams_ITAdmin_PracticalGuidance
search.appverid: MET150
ms.reviewer: lehewe
description: 了解贵组织要求的数据和权限应用。
localization_priority: Normal
appliesto:
- Microsoft Teams
ms.openlocfilehash: f3ea7aaa57f6784487d662174554ec0086a87346
ms.sourcegitcommit: dd37c12a0312270955755ab2826adcfbae813790
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/04/2018
ms.locfileid: "25375745"
---
# <a name="microsoft-teams-apps-permissions-and-considerations"></a><span data-ttu-id="de806-103">Microsoft Teams 应用权限和考虑事项</span><span class="sxs-lookup"><span data-stu-id="de806-103">Microsoft Teams apps permissions and considerations</span></span>

<span data-ttu-id="de806-104">通过 Microsoft Teams 应用可以将一项或多项功能汇聚到一个可以安装、升级和卸载的_应用包_。</span><span class="sxs-lookup"><span data-stu-id="de806-104">Microsoft Teams apps are a way to aggregate one or more capabilities into an _app package_ that can be installed, upgraded, and uninstalled.</span></span> <span data-ttu-id="de806-105">这些功能包括：</span><span class="sxs-lookup"><span data-stu-id="de806-105">The capabilities include:</span></span>

-   <span data-ttu-id="de806-106">聊天机器人</span><span class="sxs-lookup"><span data-stu-id="de806-106">Bots</span></span>
-   <span data-ttu-id="de806-107">消息传递扩展</span><span class="sxs-lookup"><span data-stu-id="de806-107">Messaging extensions</span></span>
-   <span data-ttu-id="de806-108">选项卡</span><span class="sxs-lookup"><span data-stu-id="de806-108">Tabs</span></span>
-   <span data-ttu-id="de806-109">连接器</span><span class="sxs-lookup"><span data-stu-id="de806-109">Connectors</span></span>

<span data-ttu-id="de806-110">从策略角度来看，应用由用户许可并由 IT 管理。</span><span class="sxs-lookup"><span data-stu-id="de806-110">Apps are consented to by users and managed by IT from a policy perspective.</span></span> <span data-ttu-id="de806-111">但是，大多数情况下，应用的权限和风险配置文件由其包含的功能的权限和风险配置文件定义。</span><span class="sxs-lookup"><span data-stu-id="de806-111">However, for the most part, an app's permissions and risk profile are defined by the permissions and risk profiles of the capabilities it contains.</span></span> <span data-ttu-id="de806-112">因此，本文主要介绍功能级别的权限和考虑事项。</span><span class="sxs-lookup"><span data-stu-id="de806-112">Therefore, this article focuses on permissions and considerations at the capability level.</span></span>

<span data-ttu-id="de806-113">下文所列大写字母的权限（例如 RECEIVE_MESSAGE 和 REPLYTO_MESSAGE）未出现在 [Microsoft Teams 开发人员文档](https://aka.ms/teamsdevdocs)或 [Microsoft Graph 的权限](https://developer.microsoft.com/graph/docs/concepts/permissions_reference)中的任何地方。</span><span class="sxs-lookup"><span data-stu-id="de806-113">The permissions listed below in capital letters, for example RECEIVE_MESSAGE and REPLYTO_MESSAGE, don't appear anywhere in the [Microsoft Teams developer documentation](https://aka.ms/teamsdevdocs) or the [permissions for Microsoft Graph](https://developer.microsoft.com/graph/docs/concepts/permissions_reference).</span></span> <span data-ttu-id="de806-114">使用它们只是为了在本文中进行简要说明。</span><span class="sxs-lookup"><span data-stu-id="de806-114">They're simply a descriptive shorthand for the purpose of this article.</span></span>


|    |     |
|-----------|------------|
| ![](media/audio_conferencing_image7.png) <br/><span data-ttu-id="de806-115">决策点</span><span class="sxs-lookup"><span data-stu-id="de806-115">Decision point</span></span>|<ul><li><span data-ttu-id="de806-116">请使用下面各表来指导你了解你调查的应用需要的权限。</span><span class="sxs-lookup"><span data-stu-id="de806-116">Use the tables below as a guide to understand which permissions the apps you're investigating are requesting.</span></span></li></ul> |
| ![](media/audio_conferencing_image9.png)<br/><span data-ttu-id="de806-117">后续步骤</span><span class="sxs-lookup"><span data-stu-id="de806-117">Next step</span></span>|<ul><li><span data-ttu-id="de806-118">研究应用或服务本身来确定是否允许在贵组织中对其进行访问。</span><span class="sxs-lookup"><span data-stu-id="de806-118">Research the app or service itself to decide whether you want to allow access to it within your organization.</span></span> <span data-ttu-id="de806-119">例如，聊天机器人向用户发送消息以及接收来自用户的消息，并且它们在合规边界之外（企业业务线聊天机器人除外）。</span><span class="sxs-lookup"><span data-stu-id="de806-119">For example, bots send and receive messages from users, and—except for enterprise line-of-business bots—they're located outside the compliance boundary.</span></span> <span data-ttu-id="de806-120">因此，包含聊天机器人的任何应用至少需要这些权限以及具有相应风险配置文件。</span><span class="sxs-lookup"><span data-stu-id="de806-120">Therefore, any app that includes a bot requires those permissions and has that risk profile, at a minimum.</span></span> </li></ul>|

## <a name="global-app-permissions-and-considerations"></a><span data-ttu-id="de806-121">全局应用权限和考虑事项</span><span class="sxs-lookup"><span data-stu-id="de806-121">Global app permissions and considerations</span></span>

<table>
  <tr>
    <th width="25%"><span data-ttu-id="de806-122">所需权限</span><span class="sxs-lookup"><span data-stu-id="de806-122">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="de806-123">可选权限</span><span class="sxs-lookup"><span data-stu-id="de806-123">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="de806-124">考虑事项</span><span class="sxs-lookup"><span data-stu-id="de806-124">Considerations</span></span></th>
  </tr>
  <tr>
    <td valign="top"><span data-ttu-id="de806-125">无</span><span class="sxs-lookup"><span data-stu-id="de806-125">None</span></span></td>
    <td valign="top"><span data-ttu-id="de806-126">无</span><span class="sxs-lookup"><span data-stu-id="de806-126">None</span></span></td>
    <td valign="top"><span data-ttu-id="de806-127">应用必须在其使用条款和隐私策略链接中公开其使用的数据和数据用途。</span><span class="sxs-lookup"><span data-stu-id="de806-127">An app must disclose what data it uses and what the data is used for in its terms of use and privacy policy links.</span></span></td>
  </tr>
</table>

## <a name="bots-and-messaging-extensions"></a><span data-ttu-id="de806-128">聊天机器人和消息传递扩展</span><span class="sxs-lookup"><span data-stu-id="de806-128">Bots and messaging extensions</span></span>

<table>
 <thead>
  <tr>
    <th width="0.5%"></th>
    <th width="24.5%"><span data-ttu-id="de806-129">所需权限</span><span class="sxs-lookup"><span data-stu-id="de806-129">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="de806-130">可选权限</span><span class="sxs-lookup"><span data-stu-id="de806-130">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="de806-131">考虑事项</span><span class="sxs-lookup"><span data-stu-id="de806-131">Considerations</span></span></th>
  </tr>
</thead>
<tbody>
   <tr>
    <td valign="top" colspan="2"><ul><li>   <span data-ttu-id="de806-132">RECEIVE_MESSAGE、REPLYTO_MESSAGE。</span><span class="sxs-lookup"><span data-stu-id="de806-132">RECEIVE_MESSAGE, REPLYTO_MESSAGE.</span></span> <span data-ttu-id="de806-133">聊天机器人可以接收来自用户的消息以及回复用户。<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="de806-133">The bot can receive messages from users and reply to them.<sup>1</sup></span></span></li><li><span data-ttu-id="de806-134">POST_MESSAGE_USER。</span><span class="sxs-lookup"><span data-stu-id="de806-134">POST_MESSAGE_USER.</span></span> <span data-ttu-id="de806-135">用户向聊天机器人发送消息后，聊天机器人可以随时向用户发送私信（也称为<em>主动消息</em>）。</span><span class="sxs-lookup"><span data-stu-id="de806-135">After a user has sent a message to a bot, the bot can send the user direct messages (also called <em>proactive messages</em>) at any time.</span></span></li><li><span data-ttu-id="de806-136">GET_CHANNEL_LIST。</span><span class="sxs-lookup"><span data-stu-id="de806-136">GET_CHANNEL_LIST.</span></span> <span data-ttu-id="de806-137">添加到团队的聊天机器人可以获取团队中的频道的名称和 ID 列表。</span><span class="sxs-lookup"><span data-stu-id="de806-137">Bots added to teams can get a list of names and IDs of the channels in a team.</span></span></li></ul></td>
    <td valign="top"><ul><li><span data-ttu-id="de806-138">IDENTITY。</span><span class="sxs-lookup"><span data-stu-id="de806-138">IDENTITY.</span></span> <span data-ttu-id="de806-139">当 = #39; 渠道、 应用程序和 #39; 中使用的 s s 自动程序可以访问的工作组成员 （名字、 姓氏、 用户主体名称 [UPN]、 电子邮件地址）; 基本标识信息当 = #39; s 用于个人或群聊、 自动程序可以访问这些用户相同的信息。</span><span class="sxs-lookup"><span data-stu-id="de806-139">When it&#39;s used in a channel, the app&#39;s bots can access basic identity information of team members (first name, last name, user principal name [UPN], email address); when it&#39;s used in a personal or group chat, the bot can access the same information for those users.</span></span></li><li> <span data-ttu-id="de806-140">POST_MESSAGE_TEAM。</span><span class="sxs-lookup"><span data-stu-id="de806-140">POST_MESSAGE_TEAM.</span></span> <span data-ttu-id="de806-141">允许应用程序和 #39; s bot 直接 （主动） 将邮件发送到任何团队成员在任何时候，即使用户具有从不讨论到 bot 之前。</span><span class="sxs-lookup"><span data-stu-id="de806-141">Allows an app&#39;s bots to send direct (proactive) messages to any team member at any time, even if the user has never talked to the bot before.</span></span></li><li><span data-ttu-id="de806-142">以下权限不是显式权限，而是 RECEIVE_MESSAGE、REPLYTO_MESSAGE 以及可以使用聊天机器人的范围隐含的权限，并在 manifest 中声明：</span><span class="sxs-lookup"><span data-stu-id="de806-142">The following are not explicit permissions, but are implied by RECEIVE_MESSAGE and REPLYTO_MESSAGE and the scopes into which the bots can be used, declared in the manifest:</span></span> <ul><li><span data-ttu-id="de806-143">RECEIVE_MESSAGE_PERSONAL、REPLYTO_MESSAGE_PERSONAL</span><span class="sxs-lookup"><span data-stu-id="de806-143">RECEIVE_MESSAGE_PERSONAL, REPLYTO_MESSAGE_PERSONAL</span></span></li><li><span data-ttu-id="de806-144">RECEIVE_MESSAGE_GROUPCHAT、REPLYTO_MESSAGE_GROUPCHAT<sup>2</sup> </span><span class="sxs-lookup"><span data-stu-id="de806-144">RECEIVE_MESSAGE_GROUPCHAT, REPLYTO_MESSAGE_GROUPCHAT<sup>2</sup> </span></span></li><li><span data-ttu-id="de806-145">RECEIVE_MESSAGE_TEAM、REPLYTO_MESSAGE_TEAM</span><span class="sxs-lookup"><span data-stu-id="de806-145">RECEIVE_MESSAGE_TEAM, REPLYTO_MESSAGE_TEAM</span></span></li></ul><li><span data-ttu-id="de806-146">SEND_FILES、RECEIVE_FILES。<sup>3</sup> 控制聊天机器人是否可以在个人聊天中发送和接收文件（在群组聊天和频道中还不支持）。</span><span class="sxs-lookup"><span data-stu-id="de806-146">SEND_FILES, RECEIVE_FILES.<sup>3</sup> Controls whether a bot can send and receive files in personal chat (not yet supported for group chat or channels).</span></span></li></ul></td>
    <td valign="top"><ul><li><span data-ttu-id="de806-147">自动程序仅有权访问该团队它们 = #39; ve 已添加了或到已安装它们的用户。</span><span class="sxs-lookup"><span data-stu-id="de806-147">Bots only have access to teams to which they&#39;ve been added or to users who have installed them.</span></span></li><li><span data-ttu-id="de806-148">自动程序仅在其中接收邮件它们 = #39; re 明确提到的用户。</span><span class="sxs-lookup"><span data-stu-id="de806-148">Bots only receive messages in which they&#39;re explicitly mentioned by users.</span></span> <span data-ttu-id="de806-149">此数据将离开公司网络。</span><span class="sxs-lookup"><span data-stu-id="de806-149">This data leaves the corporate network.</span></span></li><li>    <span data-ttu-id="de806-150">自动程序仅答复顺序对话它们 = #39; re 提到。</span><span class="sxs-lookup"><span data-stu-id="de806-150">Bots can only reply to conversations in which they&#39;re mentioned.</span></span></li><li><span data-ttu-id="de806-151">Bot 存储该用户和 #39; 如果用户具有与自动程序、 conversed 后 s ID，它可以发送该用户直接消息在任何时间。</span><span class="sxs-lookup"><span data-stu-id="de806-151">After a user has conversed with a bot, if the bot stores that user&#39;s ID, it can send that user direct messages at any time.</span></span> </li><li><span data-ttu-id="de806-152">从理论上来说，聊天机器人消息可能包含钓鱼站点或恶意软件站点的链接，但用户或租户管理员可以阻止聊天机器人，Microsoft 也可以全局阻止聊天机器人。</span><span class="sxs-lookup"><span data-stu-id="de806-152">It is theoretically possible for bot messages to contain links to phishing or malware sites, but bots can be blocked by the user, the tenant admin, or globally by Microsoft.</span></span> </li><li><span data-ttu-id="de806-153">聊天机器人可以检索（并可能存储）添加了该应用的团队成员或者个人聊天或群组聊天中各个用户的最基本身份信息。</span><span class="sxs-lookup"><span data-stu-id="de806-153">A bot can retrieve (and might store) very basic identity information for the team members the app has been added to, or for individual users in personal or group chats.</span></span> <span data-ttu-id="de806-154">要获取这些用户的更多信息，聊天机器人必须要求其登录 Azure Active Directory (Azure AD)。</span><span class="sxs-lookup"><span data-stu-id="de806-154">To get further information about these users, the bot must require them to sign in to Azure Active Directory (Azure AD).</span></span> </li><li><span data-ttu-id="de806-155">聊天机器人可以检索（并可能存储）团队中的频道列表；此数据将离开公司网络。</span><span class="sxs-lookup"><span data-stu-id="de806-155">Bots can retrieve (and might store) the list of channels in a team; this data leaves the corporate network.</span></span> </li><li><span data-ttu-id="de806-156">向聊天机器人发送文件后，该文件将离开公司网络。</span><span class="sxs-lookup"><span data-stu-id="de806-156">When a file is sent to a bot, the file leaves the corporate network.</span></span> <span data-ttu-id="de806-157">发送和接收文件时需要用户对每个文件进行批准。</span><span class="sxs-lookup"><span data-stu-id="de806-157">Sending and receiving files requires user approval for each file.</span></span> </li><li><span data-ttu-id="de806-158">通过默认、 bot don 测验 t 能够代表用户，但 bot 可以要求用户登录;只要用户登录时，自动程序将具有访问令牌与它可以执行其他操作。</span><span class="sxs-lookup"><span data-stu-id="de806-158">By default, bots don&#39;t have the ability to act on behalf of the user, but bots can ask users to sign in; as soon as the user signs in, the bot will have an access token with which it can do additional things.</span></span> <span data-ttu-id="de806-159">具体哪些其他操作取决于聊天机器人和用户登录位置：聊天机器人是在 <a href="https://apps.dev.microsoft.com/">https://apps.dev.microsoft.com/</a> 上注册的 Azure AD 应用，因此可以拥有自己的一组权限。</span><span class="sxs-lookup"><span data-stu-id="de806-159">Exactly what those additional things are depends on the bot and where the user signs in: a bot is an Azure AD app registered at <a href="https://apps.dev.microsoft.com/">https://apps.dev.microsoft.com/</a> and can have its own set of permissions.</span></span></li><li><span data-ttu-id="de806-160">每当在团队中添加或删除用户时，聊天机器人都会收到通知。</span><span class="sxs-lookup"><span data-stu-id="de806-160">Bots are informed whenever users are added to or deleted from a team.</span></span></li><li><span data-ttu-id="de806-161">Bot don #39; 请参阅用户 t & #39;IP 地址或其他引用网站信息。</span><span class="sxs-lookup"><span data-stu-id="de806-161">Bots don&#39;t see users&#39; IP addresses or other referrer information.</span></span> <span data-ttu-id="de806-162">所有信息均来自 Microsoft。</span><span class="sxs-lookup"><span data-stu-id="de806-162">All information comes from Microsoft.</span></span> <span data-ttu-id="de806-163">(还有一个例外： 如果 bot 实现自己登录体验，用户和 #39; 将看到登录 UIIP 地址和引用网站信息。）</span><span class="sxs-lookup"><span data-stu-id="de806-163">(There is one exception: if a bot implements its own sign-in experience, the sign-in UI will see users&#39; IP addresses and referrer information.)</span></span></li><li><span data-ttu-id="de806-164">消息扩展，另一方面，看用户和 #39;IP 地址和引用网站信息。</span><span class="sxs-lookup"><span data-stu-id="de806-164">Messaging extensions, on the other hand, do see users&#39; IP addresses and referrer information.</span></span></li><li><span data-ttu-id="de806-165">应用准则（以及我们的 AppSource 审阅过程）要求自行决定向用户发布个人聊天消息（通过 POST_MESSAGE_TEAM 权限）以达到有效目的。</span><span class="sxs-lookup"><span data-stu-id="de806-165">App guidelines (and our AppSource review process) require discretion in posting personal chat messages to users (via the POST_MESSAGE_TEAM permission) for valid purposes.</span></span> <span data-ttu-id="de806-166">如果发生滥用，用户可以阻止聊天机器人，租户管理员可以阻止应用，并且如果需要，Microsoft 可以集中阻止聊天机器人。</span><span class="sxs-lookup"><span data-stu-id="de806-166">In the event of abuse, users can block the bot, tenant admins can block the app, and Microsoft can block bots centrally if necessary.</span></span></li></ul></td>
</tr>
</tbody>
<tfoot>
<tr><td align="right"><span data-ttu-id="de806-167"><sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="de806-167"><sup>1</sup></span></span></td><td colspan="3"><span data-ttu-id="de806-168">一些聊天机器人仅发送消息 (POST_MESSAGE_USER)。</span><span class="sxs-lookup"><span data-stu-id="de806-168">Some bots only send messages (POST_MESSAGE_USER).</span></span> <span data-ttu-id="de806-169">他们 = #39; re 调用&quot;仅通知&quot;bot，但术语不测验 t 引用允许或不允许执行哪些自动程序，它意味着，自动程序不测验 t 想要公开交谈体验。</span><span class="sxs-lookup"><span data-stu-id="de806-169">They&#39;re called &quot;notification-only&quot; bots, but the term doesn&#39;t refer to what a bot is allowed or not allowed to do, it means that the bot doesn&#39;t want to expose a conversational experience.</span></span> <span data-ttu-id="de806-170">团队使用此字段禁用通常会启用; 在 UI 中的功能自动程序不是 & #39; 在什么受限制的 t = #39; s 允许执行相比不要公开交谈体验的 bot。</span><span class="sxs-lookup"><span data-stu-id="de806-170">Teams uses this field to disable functionality in the UI that would ordinarily be enabled; the bot isn&#39;t restricted in what it&#39;s allowed to do compared to bots that do expose a conversational experience.</span></span></td></tr>
<tr><td align="right"><span data-ttu-id="de806-171"><sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="de806-171"><sup>2</sup></span></span></td><td colspan="3"><span data-ttu-id="de806-172">当前处于开发人员预览版中。</span><span class="sxs-lookup"><span data-stu-id="de806-172">Currently in Developer Preview.</span></span></td></tr>
<tr><td align="right"><span data-ttu-id="de806-173"><sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="de806-173"><sup>3</sup></span></span></td><td colspan="3"><span data-ttu-id="de806-174">当前处于开发人员预览版中。</span><span class="sxs-lookup"><span data-stu-id="de806-174">Currently in Developer Preview.</span></span> <span data-ttu-id="de806-175">由应用的 manifest.json 文件中聊天机器人对象的 <code>supportsFiles</code> 布尔属性控制。</span><span class="sxs-lookup"><span data-stu-id="de806-175">Governed by the <code>supportsFiles</code> Boolean property on the bot object in the manifest.json file for the app.</span></span></td>
</tr>
</tfoot>
</table>

> [!Note]
> <ul><li><span data-ttu-id="de806-176">如果聊天机器人自己登录，则用户首次登录时会有另一种不同的许可体验。</span><span class="sxs-lookup"><span data-stu-id="de806-176">If a bot has its own sign-in, there's a second—different—consent experience the first time the user signs in.</span></span></li><li><span data-ttu-id="de806-177">当前，与 Teams 应用中的任何功能（聊天机器人、选项卡、连接器或消息传递扩展）关联的 Azure AD 权限与此处所列的 Teams 权限完全分开。</span><span class="sxs-lookup"><span data-stu-id="de806-177">Currently, the Azure AD permissions associated with any of the capabilities inside a Teams app (bot, tab, connector, or messaging extension) are completely separate from the Teams permissions listed here.</span></span></li></ul>


## <a name="tabs"></a><span data-ttu-id="de806-178">选项卡</span><span class="sxs-lookup"><span data-stu-id="de806-178">Tabs</span></span>

<span data-ttu-id="de806-179">选项卡是 Teams 中运行的网站。</span><span class="sxs-lookup"><span data-stu-id="de806-179">A tab is a website running inside Teams.</span></span>

<table>
  <tr>
    <th width="25%"><span data-ttu-id="de806-180">所需权限</span><span class="sxs-lookup"><span data-stu-id="de806-180">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="de806-181">可选权限</span><span class="sxs-lookup"><span data-stu-id="de806-181">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="de806-182">考虑事项</span><span class="sxs-lookup"><span data-stu-id="de806-182">Considerations</span></span></th>
  </tr>
  <tr>
    <td valign="top"><span data-ttu-id="de806-183">SEND_AND_RECEIVE_WEB_DATA</span><span class="sxs-lookup"><span data-stu-id="de806-183">SEND_AND_RECEIVE_WEB_DATA</span></span></td>
    <td valign="top"><span data-ttu-id="de806-184">无（当前）。</span><span class="sxs-lookup"><span data-stu-id="de806-184">None (currently).</span></span></td>
    <td valign="top"><ul><li><span data-ttu-id="de806-185">选项卡的风险配置文件与浏览器选项卡中运行的同一网站几乎相同。</span><span class="sxs-lookup"><span data-stu-id="de806-185">The risk profile for a tab is almost identical to that same website running in a browser tab.</span></span> </li><li><span data-ttu-id="de806-186">选项卡还在其中获取的上下文 = #39; s 运行当前用户的 Azure AD 对象 ID，包括登录名和当前用户的 UPN 其所在，租户 ID 的 Office 365 组 （工作组） ID和用户的当前区域设置。</span><span class="sxs-lookup"><span data-stu-id="de806-186">A tab also gets the context in which it&#39;s running, including the sign-in name and UPN of the current user, the Azure AD Object ID for the current user, the ID of the Office 365 Group (team) in which it resides, the tenant ID, and the current locale of the user.</span></span> <span data-ttu-id="de806-187">但是，要映射到用户 #39 这些 Id; s 信息、 选项卡将需要使用户登录到 Azure AD。</span><span class="sxs-lookup"><span data-stu-id="de806-187">However, to map these IDs to a user&#39;s information, the tab would have to make the user sign in to Azure AD.</span></span></li></ul></td>
  </tr>
  </table>

## <a name="connectors"></a><span data-ttu-id="de806-188">连接器</span><span class="sxs-lookup"><span data-stu-id="de806-188">Connectors</span></span>

<span data-ttu-id="de806-189">连接器在外部系统发生事件时向频道发布消息。</span><span class="sxs-lookup"><span data-stu-id="de806-189">A connector posts messages to a channel when events in an external system occur.</span></span>

  <table>
  <tr>
    <th width="25%"><span data-ttu-id="de806-190">所需权限</span><span class="sxs-lookup"><span data-stu-id="de806-190">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="de806-191">可选权限</span><span class="sxs-lookup"><span data-stu-id="de806-191">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="de806-192">考虑事项</span><span class="sxs-lookup"><span data-stu-id="de806-192">Considerations</span></span></th>
  </tr>
  <tr>
    <td valign="top"><span data-ttu-id="de806-193">POST_MESSAGE_CHANNEL</span><span class="sxs-lookup"><span data-stu-id="de806-193">POST_MESSAGE_CHANNEL</span></span></td>
    <td valign="top"><span data-ttu-id="de806-194">REPLYTO_CONNECTOR_MESSAGE。</span><span class="sxs-lookup"><span data-stu-id="de806-194">REPLYTO_CONNECTOR_MESSAGE.</span></span> <span data-ttu-id="de806-195">某些连接器支持<em>可操作消息</em>，即允许用户发布针对连接器消息的目标回复，例如，向 GitHub 问题添加响应，或向 Trello 卡添加日期。</span><span class="sxs-lookup"><span data-stu-id="de806-195">Certain connectors support <em>actionable messages</em>, which allow users to post targeted replies to the connector message, for example by adding a response to a GitHub issue or adding a date to a Trello card.</span></span></td>
    <td valign="top"><ul><li><span data-ttu-id="de806-196">系统的文章连接器消息不 = #39; t 知道谁 = #39; s 为发布或接收邮件的用户： 披露关于该收件人无信息。</span><span class="sxs-lookup"><span data-stu-id="de806-196">The system that posts connector messages doesn&#39;t know who it&#39;s posting to or who receives the messages: no information about the recipient is disclosed.</span></span> <span data-ttu-id="de806-197">（Microsoft 是实际接收人，而不是租户；Microsoft 向频道实际发布消息。）</span><span class="sxs-lookup"><span data-stu-id="de806-197">(Microsoft is the actual recipient, not the tenant; Microsoft does the actual post to the channel.)</span></span></li><li><span data-ttu-id="de806-198">向频道发布连接器消息时，没有任何数据离开公司网络。</span><span class="sxs-lookup"><span data-stu-id="de806-198">No data leaves the corporate network when connector messages are posted to a channel.</span></span></li><li><span data-ttu-id="de806-199">Don = #39 还支持可操作的消息 （REPLYTO_CONNECTOR_MESSAGE 权限） 的连接器; t，请参阅 IP 地址和引用网站信息;此信息发送给 Microsoft，然后路由至已 Microsoft 连接器门户中的 HTTP 终结点。</span><span class="sxs-lookup"><span data-stu-id="de806-199">Connectors that support actionable messages (REPLYTO_CONNECTOR_MESSAGE permission) also don&#39;t see IP address and referrer information; this information is sent to Microsoft and then routed to HTTP endpoints that were previously registered with Microsoft in the Connectors portal.</span></span></li><li><span data-ttu-id="de806-200">每当为连接器配置频道时，都会为该连接器实例创建一个唯一的 URL。</span><span class="sxs-lookup"><span data-stu-id="de806-200">Each time a connector is configured for a channel, a unique URL for that connector instance is created.</span></span> <span data-ttu-id="de806-201">如果删除了该连接器实例，则不能再使用该 URL。</span><span class="sxs-lookup"><span data-stu-id="de806-201">If that connector instance is deleted, the URL can no longer be used.</span></span></li><li><span data-ttu-id="de806-202">连接器消息可以 & #39; t 包含附件的文件。</span><span class="sxs-lookup"><span data-stu-id="de806-202">Connector messages can&#39;t contain file attachments.</span></span></li><li><span data-ttu-id="de806-203">连接器实例 URL 应视为机密/保密信息：拥有该 URL 的任何人可以向其发布消息，就像电子邮件地址一样。</span><span class="sxs-lookup"><span data-stu-id="de806-203">The connector instance URL should be treated as secret/confidential: anyone who has that URL can post to it, like an email address.</span></span> <span data-ttu-id="de806-204">因此，那里 & #39; s 一些风险的垃圾邮件或网络钓鱼或恶意软件的网站的链接。</span><span class="sxs-lookup"><span data-stu-id="de806-204">Therefore, there&#39;s some risk of spam or links to phishing or malware sites.</span></span> <span data-ttu-id="de806-205">如果出现这种情况，团队所有者可以删除连接器实例。</span><span class="sxs-lookup"><span data-stu-id="de806-205">If that were to happen, team owners can delete the connector instance.</span></span></li><li><span data-ttu-id="de806-206">如果发送连接器消息的服务受到破坏并开始发送垃圾消息/钓鱼链接/恶意软件链接，租户管理员可以阻止创建新的连接器实例，并且 Microsoft 可以集中阻止它们。</span><span class="sxs-lookup"><span data-stu-id="de806-206">If the service that sends connector messages were to become compromised and start sending spam/phishing/malware links, a tenant administrator can prevent new connector instances from being created and Microsoft can block them centrally.</span></span></li></ul></td>
  </tr>
</table>

> [!Note]
> <span data-ttu-id="de806-207">当前，无法知道哪些连接器支持可操作消息（REPLYTO_CONNECTOR_MESSAGE 权限）。</span><span class="sxs-lookup"><span data-stu-id="de806-207">It's not currently possible to know which connectors support actionable messages (REPLYTO_CONNECTOR_MESSAGE permission).</span></span>


## <a name="outgoing-webhooks"></a><span data-ttu-id="de806-208">传出 Webhook</span><span class="sxs-lookup"><span data-stu-id="de806-208">Outgoing webhooks</span></span>

<span data-ttu-id="de806-209">_传出 Webhook_ 由团队所有者或团队成员动态创建（如果为租户启用了旁加载）。</span><span class="sxs-lookup"><span data-stu-id="de806-209">_Outgoing webhooks_ are created on the fly by team owners or team members if sideloading is enabled for a tenant.</span></span> <span data-ttu-id="de806-210">它们不是 Teams 应用的功能；提供此信息是为了内容的完整性。</span><span class="sxs-lookup"><span data-stu-id="de806-210">They aren't capabilities of Teams apps; this information is included for completeness.</span></span>

<table>
  <tr>
    <th width="25%"><span data-ttu-id="de806-211">所需权限</span><span class="sxs-lookup"><span data-stu-id="de806-211">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="de806-212">可选权限</span><span class="sxs-lookup"><span data-stu-id="de806-212">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="de806-213">考虑事项</span><span class="sxs-lookup"><span data-stu-id="de806-213">Considerations</span></span></th>
  </tr>
    <tr>
    <td valign="top"><span data-ttu-id="de806-214">RECEIVE_MESSAGE、REPLYTO_MESSAGE。</span><span class="sxs-lookup"><span data-stu-id="de806-214">RECEIVE_MESSAGE, REPLYTO_MESSAGE.</span></span> <span data-ttu-id="de806-215">可以接收来自用户的消息以及回复用户。</span><span class="sxs-lookup"><span data-stu-id="de806-215">Can receive messages from users and reply to them.</span></span></td>
    <td valign="top"><span data-ttu-id="de806-216">无</span><span class="sxs-lookup"><span data-stu-id="de806-216">None</span></span></td>
    <td valign="top"><ul><li><span data-ttu-id="de806-217">传出 Webhook 与聊天机器人类似，但权限更少。</span><span class="sxs-lookup"><span data-stu-id="de806-217">Outgoing webhooks are similar to bots but have fewer privileges.</span></span> <span data-ttu-id="de806-218">必须明确提及它们，就像聊天机器人一样。</span><span class="sxs-lookup"><span data-stu-id="de806-218">They must be explicitly mentioned, just like bots.</span></span></li><li><span data-ttu-id="de806-219">注册传出 Webhook 后，将生成一个<em>密码</em>，用于允许传出 Webhook 验证发送者是 Microsoft Teams，而不是恶意攻击者。</span><span class="sxs-lookup"><span data-stu-id="de806-219">When an outgoing webhook is registered, a <em>secret</em> is generated, which allows the outgoing webhook to verify that the sender is Microsoft Teams as opposed to a malicious attacker.</span></span> <span data-ttu-id="de806-220">此密码应保密；有权访问该密码的任何人都可以模拟 Microsoft Teams。</span><span class="sxs-lookup"><span data-stu-id="de806-220">This secret should remain a secret; anyone who has access to it can impersonate Microsoft Teams.</span></span> <span data-ttu-id="de806-221">如果此密码泄露，可以删除并重新创建传出 Webhook，并将生成新密码。</span><span class="sxs-lookup"><span data-stu-id="de806-221">If the secret is compromised, the outgoing webhook can be deleted and re-created, and a new secret will be generated.</span></span></li><li><span data-ttu-id="de806-222">尽管 = #39; s 可以创建传出 webhook，这并不 = #39; t 验证机密，我们建议不要它。</span><span class="sxs-lookup"><span data-stu-id="de806-222">Although it&#39;s possible to create an outgoing webhook that doesn&#39;t validate the secret, we recommend against it.</span></span></li><li><span data-ttu-id="de806-223">接收和答复邮件、 传出 webhooks 可以和 #39; 之外 t 执行何： 他们可以 & #39; t 主动发送的邮件，它们可以 & #39; t 发送或接收文件，它们可以 & #39; t 进行任何其他接收并答复，可以执行除外自动程序的操作邮件。</span><span class="sxs-lookup"><span data-stu-id="de806-223">Other than receiving and replying to messages, outgoing webhooks can&#39;t do much: they can&#39;t proactively send messages, they can&#39;t send or receive files, they can&#39;t do anything else that bots can do except receive and reply to messages.</span></span></li></ul></td>
  </tr>
</table>